"use strict";$(function(){function t(t,e){t.length+e.length===g-1?t.length>e.length?alert("P1 winner"):t.length<e.length&&alert("P2 winner"):console.log("No winner yet")}function e(t,e,n){var o=parseInt(t,10)-(l[e]?d:0)+(l[n]?d:0);return 65===e?o<0?0:o>r?r:o:87===e?o<0?0:o>a?a:o:void 0}function n(t,e,n){var o=parseInt(t,10)-(l[e]?d:0)+(l[n]?d:0);return 37===e?o<0?0:o>r?r:o:38===e?o<0?0:o>a?a:o:void 0}var o=$("#gameBoard"),i=$(".boxP1"),h=$(".boxP2"),r=o.width()-i.width(),a=o.height()-h.height(),l={},d=20,c=[],u=[],g=7,p=7;!function(){for(var t=1;t<g;){var e=(Math.random()*($("#gameBoard").width()-100)).toFixed(),n=(Math.random()*($("#gameBoard").height()-100)).toFixed();$('<div class="ball "></div>').css({left:e+"px",top:n+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}();var s=$(".ball");!function(){for(var t=1;t<p;){var e=(Math.random()*($("#gameBoard").width()-100)).toFixed(),n=(Math.random()*($("#gameBoard").height()-100)).toFixed();$('<div class="badball "></div>').css({left:e+"px",top:n+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}();var f=$(".badball");$(window).keydown(function(o){l[o.which]=!0;var r={x:i.position().left,y:i.position().top,width:i.width(),height:i.height()};f.each(function(e,n){var o={x:$(n).position().left,y:$(n).position().top,width:$(n).width(),height:$(n).height()},i={x:h.position().left,y:h.position().top,width:h.width(),height:h.height()};s.each(function(e,h){var a={x:$(h).position().left,y:$(h).position().top,width:$(h).width(),height:$(h).height()};(function(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)})(r,a)&&($("#p1Counter").html(function(t,e){return+e+1}),$(h).remove(),c.push("ball"),console.log("play 1 score is "+c.length),t(c,u)),function(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}(i,a)&&($("#p2Counter").html(function(t,e){return+e+1}),$(h).remove(),u.push("ball"),console.log("play 2 score is "+u.length),t(c,u)),function(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}(r,o)&&($("#p1Counter").html(function(t,e){return-e-1}),$(n).remove(),c.pop(),console.log("play 1 score is "+c.length))})}),i.css({left:function(t,n){return e(n,65,68)},top:function(t,n){return e(n,87,83)}}),h.css({left:function(t,e){return n(e,37,39)},top:function(t,e){return n(e,38,40)}})}),$(window).keyup(function(t){l[t.which]=!1})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiY2hlY2tXaW5uZXIiLCJwMXNjb3JlIiwicDJzY29yZSIsImxlbmd0aCIsIm51bU9mR29vZERvdHMiLCJhbGVydCIsImNvbnNvbGUiLCJsb2ciLCJuZXdMb2NhdGlvblAxIiwidiIsImEiLCJiIiwibiIsInBhcnNlSW50IiwieCIsIndpZHRoIiwiaGVpZ2h0IiwibmV3TG9jYXRpb25QMiIsImdhbWVCb2FyZCIsImJveFAxIiwiYm94UDIiLCJkIiwiY291bnQiLCJwb3N4IiwiTWF0aCIsInJhbmRvbSIsInRvRml4ZWQiLCJwb3N5IiwiY3NzIiwibGVmdCIsInRvcCIsImFwcGVuZFRvIiwiY2xvbmUiLCJkZWxheSIsImZhZGVJbiIsIiRiYWxscyIsIm51bU9mQmFkRG90cyIsIiRiYWRiYWxscyIsInBvc2l0aW9uIiwieSIsImJhZGJhbGwiLCJlYWNoIiwiYmFsbCIsImlzQ29sbGlkZVAxIiwiYyIsImlzQmFkQ29sbGlkZVAxIiwicmVtb3ZlIiwiaHRtbCIsImkiLCJ2YWwiLCJwdXNoIiwicyIsImlzQ29sbGlkZVAyIiwicG9wIiwid2luZG93Iiwia2V5dXAiLCJlIiwid2hpY2giXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBaUJBLFFBQVNDLEdBQVlDLEVBQVNDLEdBQ3hCRCxFQUFRRSxPQUFTRCxFQUFRQyxTQUFZQyxFQUF6QyxFQUNPSCxFQUFRRSxPQUFTRCxFQUFRQyxPQUM1QkUsTUFBTSxhQUNHSixFQUFRRSxPQUFTRCxFQUFRQyxRQUNsQ0UsTUFBTSxhQUdSQyxRQUFRQyxJQUFJLGlCQVdoQixRQUFTQyxHQUFjQyxFQUF2QkMsRUFBQUMsR0FDRSxHQUFNQyxHQUFJQyxTQUFBSixFQUFBLEtBQXFCQyxFQUFGQSxHQUFBSSxFQUFuQixJQUFzQ0gsRUFBRkEsR0FBQUcsRUFBOUMsRUFDQSxPQUFVLE1BQU5KLEVBQW1CRSxFQUFBLEVBQUEsRUFBWUEsRUFBSUcsRUFBUUEsRUFBakNILEVBQ0osS0FBTkYsRUFBaUJFLEVBQUksRUFBSSxFQUFJQSxFQUFJSSxFQUFTQSxFQUFTSixNQUF2RCxHQUVGLFFBQVNLLEdBQWNSLEVBQXZCQyxFQUFBQyxHQUNFLEdBQU1DLEdBQUlDLFNBQUFKLEVBQUEsS0FBcUJDLEVBQUZBLEdBQUFJLEVBQW5CLElBQXNDSCxFQUFGQSxHQUFBRyxFQUE5QyxFQUNBLE9BQVUsTUFBTkosRUFBaUJFLEVBQUksRUFBSSxFQUFJQSxFQUFJRyxFQUFRQSxFQUFRSCxFQUMzQyxLQUFORixFQUFpQkUsRUFBSSxFQUFJLEVBQUlBLEVBQUlJLEVBQVNBLEVBQVNKLE1BQXZELEdBNUNGLEdBQUFNLEdBQU1uQixFQUFBLGNBR0NvQixFQUFRcEIsRUFBRSxVQURYbUIsRUFBQUEsRUFBWW5CLFVBQ1hvQixFQUFVRCxFQUFqQkgsUUFBQUksRUFBQUosUUFDT0ssRUFBVUYsRUFBakJGLFNBQUFJLEVBQUFKLFNBQ09ELEtBQ0FDLEVBQUFBLEdBQ0FLLEtBQ0FQLEtBQ0RiLEVBQU4sRUFDTUMsRUFBTixHQXlDQSxXQUdFLElBRkEsR0FBS29CLEdBQUwsRUFFT0EsRUFBUWxCLEdBQWYsQ0FDRSxHQUNNbUIsSUFBUUMsS0FBS0MsVUFBYzFCLEVBQUEsY0FBY2dCLFFBRC9CLE1BQ21EVyxVQUMvREMsR0FBUUgsS0FBS0MsVUFBWTFCLEVBQUUsY0FBY2lCLFNBRjdCLE1BRWtEVSxTQUNoRDNCLEdBQUEsNkJBQWtDNkIsS0FDbERDLEtBQVFOLEVBQU8sS0FDZk8sSUFBT0gsRUFBTyxPQUVSSSxTQUFTLGNBQWNDLFFBQVFDLE1BQU0sS0FBTUMsT0FBTyxLQUMxRFosT0FkSixJQUFNYSxHQUFXcEMsRUFBQSxVQXFCakIsV0FHRSxJQUZBLEdBQUt1QixHQUFMLEVBRU9BLEVBQVFjLEdBQWYsQ0FDRSxHQUNNYixJQUFRQyxLQUFLQyxVQUFjMUIsRUFBQSxjQUFjZ0IsUUFEL0IsTUFDbURXLFVBQy9EQyxHQUFRSCxLQUFLQyxVQUFZMUIsRUFBRSxjQUFjaUIsU0FGN0IsTUFFa0RVLFNBQzdDM0IsR0FBQSxnQ0FBcUM2QixLQUN4REMsS0FBUU4sRUFBTyxLQUNmTyxJQUFPSCxFQUFPLE9BRUxJLFNBQVMsY0FBY0MsUUFBUUMsTUFBTSxLQUFNQyxPQUFPLEtBQzdEWixPQWRKLElBQU1lLEdBQWN0QyxFQUFBLFdBMkJoQmUsR0FBQUEsUUFBR0ssUUFBTW1CLFNBQVdULEdBQ3BCVSxFQUFBQSxFQUFBQSxRQUFTRCxDQUVUdEIsSUFBQUEsSUFKRkYsRUFBQUssRUFBQW1CLFdBQUFULEtBRUVVLEVBQUdwQixFQUFNbUIsV0FBV1IsSUFLdEJPLE1BQUFBLEVBQWV0QixRQUNiQyxPQUFVRyxFQUFBSCxTQUdSRCxHQUFBQSxLQUFTeUIsU0FBQUEsRUFBU3pCLEdBQ2xCQyxHQUFBQSxJQUpGRixFQUFBZixFQUFBeUMsR0FBQUYsV0FBQVQsS0FFRVUsRUFBR3hDLEVBQUV5QyxHQUFTRixXQUFXUixJQUszQmYsTUFBVWhCLEVBQUF5QyxHQUFBekIsUUFDUkQsT0FBR00sRUFBTWtCLEdBQU50QixVQUdIQSxHQUpGRixFQUFBTSxFQUFBa0IsV0FBQVQsS0FFRVUsRUFBR25CLEVBQU1rQixXQUFXUixJQUt0QkssTUFBT00sRUFBSzFCLFFBQ1ZDLE9BQVVJLEVBQUFKLFNBR1JELEdBQUFBLEtBQU9oQixTQUFFMkMsRUFBTTNCLEdBQ2ZDLEdBQUFBLElBSkZGLEVBQUFmLEVBQUEyQyxHQUFBSixXQUFBVCxLQUVFVSxFQUFHeEMsRUFBRTJDLEdBQU1KLFdBQVdSLElBS3hCZixNQUFTNEIsRUFBQUEsR0FBQUEsUUFDUDNCLE9BQU9qQixFQUNIVyxHQUFNQSxXQU9aLFNBQXFCa0MsRUFBR2pDLEdBQ3RCLFFBTURELEVBQUE2QixFQUFBN0IsRUFBQU0sT0FBQUwsRUFBQTRCLEdBYkk3QixFQUFFNkIsRUFBSzVCLEVBQUU0QixFQUFJNUIsRUFBRUssUUFlcEJOLEVBQUFJLEVBQVMrQixFQUFBQSxNQUFUbEMsRUFBQUcsR0FDRUosRUFBQUksRUFDSUosRUFBQUksRUFBTUosRUFBRU0sU0F3Q0Q4QixFQUFYbkMsS0FDQVYsRUFBQUEsY0FBQThDLEtBQUEsU0FBQUMsRUFBQUMsR0FDQTNDLE9BQVFDLEVBQUksSUF0QlpSLEVBQUUyQyxHQUFNSSxTQXlCVjdDLEVBQUFpRCxLQUFBLFFBQ0E1QyxRQUFBQyxJQUFBLG1CQUFBTixFQUFBRSxRQUNBSCxFQUFBQyxFQUFBQyxJQXZDRSxTQUNZYyxFQUFBQSxHQUtiLFFBdkJLNEIsRUFBRUwsRUFBSUssRUFBRTVCLE9BQVdMLEVBQUU0QixHQXlCdkJJLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFoQyxFQUFBSyxRQUNBNEIsRUFBQTlCLEVBQUE4QixFQUFBN0IsTUFBbUJKLEVBQUFHLEdBQ25COEIsRUFBQTlCLEVBQVFtQyxFQUFBQSxFQUFJdEMsRUFBWkksUUFnQ0o2QixFQUFBakMsS0FDQVosRUFBQSxjQUFBZ0QsS0FBQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUFBLEVBQUEsSUEvRkpsRCxFQUFBMkMsR0FBQUksU0EwRU01QyxFQUFRZ0QsS0FBSyxRQTJCbkI1QyxRQUFBQyxJQUFBLG1CQUFBTCxFQUFBQyxRQUNNeUIsRUFBSTNCLEVBQUFDLElBckNKSSxTQUFZSSxFQUFBeUMsR0FDWm5ELFFBQ0RVLEVBQUE2QixFQUFBN0IsRUFBQU0sT0FBQW1DLEVBQUFaLEdBdkJJN0IsRUFBRTZCLEVBQUtZLEVBQUVaLEVBQUlZLEVBQUVuQyxRQXlCaEJvQyxFQUFBQSxFQUFBQSxFQUFBQSxNQUFtQkQsRUFBQXJDLEdBQ25CSixFQUFBSSxFQUFBcUMsRUFBQXJDLEVBQWNpQyxFQUFBQSxRQWdDWnJDLEVBQUF5QyxLQUlSckIsRUFBSyxjQUFBaUIsS0FBYyxTQUFBQyxFQUFBQyxHQUNqQixPQUFPekMsRUFBQUEsSUFMWFQsRUFBQXlDLEdBQUFNLFNBUU1sQixFQUFJeUIsTUFDUnhCLFFBQU10QixJQUFBLG1CQUFjTixFQUFBRSxhQW9CeEJnQixFQUFBUyxLQUNBQyxLQUFBLFNBQUFtQixFQUFBdkMsR0FDQSxNQUFBRCxHQUFBQyxFQUFBLEdBQUEsS0ExT0ZxQixJQUFBLFNBQUFrQixFQUFBdkMsR0FnTlEsTUFBT0QsR0FBY0MsRUFBRyxHQUFJLE9BR2hDVyxFQUFNUSxLQUNKQyxLQUFNLFNBQVNtQixFQUFFdkMsR0FDZixNQUFPUSxHQUFjUixFQUFHLEdBQUksS0FFOUJxQixJQUFLLFNBQVNrQixFQUFFdkMsR0FDZCxNQUFPUSxHQUFjUixFQUFHLEdBQUksU0FLbENWLEVBQUV1RCxRQUFRQyxNQUFNLFNBQVNDLEdBQ3ZCbkMsRUFBRW1DLEVBQUVDLFFBQVMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgoKSA9PiB7XG5cbiAgY29uc3QgZ2FtZUJvYXJkID0gJCgnI2dhbWVCb2FyZCcpO1xuICBjb25zdCAgYm94UDEgPSAkKCcuYm94UDEnKTtcbiAgY29uc3QgIGJveFAyID0gJCgnLmJveFAyJyk7XG4gIGNvbnN0ICB3aWR0aCA9IGdhbWVCb2FyZC53aWR0aCgpIC0gYm94UDEud2lkdGgoKTtcbiAgY29uc3QgIGhlaWdodCA9IGdhbWVCb2FyZC5oZWlnaHQoKSAtIGJveFAyLmhlaWdodCgpO1xuICBjb25zdCAgZCA9IHt9O1xuICBjb25zdCAgeCA9IDIwIDtcbiAgY29uc3QgcDFzY29yZSA9IFtdO1xuICBjb25zdCBwMnNjb3JlID0gW107XG4gIGNvbnN0IG51bU9mR29vZERvdHMgPSA3O1xuICBjb25zdCBudW1PZkJhZERvdHMgPSA3O1xuXG5cblxuICAvL2NoZWNraW5nIGZvciB3aW5ubmVyIGZ1bmN0aW9uXG4gIGZ1bmN0aW9uIGNoZWNrV2lubmVyKHAxc2NvcmUsIHAyc2NvcmUpIHtcbiAgICBpZiAocDFzY29yZS5sZW5ndGggKyBwMnNjb3JlLmxlbmd0aCA9PT0gKG51bU9mR29vZERvdHMgLSAxKSl7XG4gICAgICBpZiAgKHAxc2NvcmUubGVuZ3RoID4gcDJzY29yZS5sZW5ndGgpIHtcbiAgICAgICAgYWxlcnQoJ1AxIHdpbm5lcicpO1xuICAgICAgfSBlbHNlIGlmIChwMXNjb3JlLmxlbmd0aCA8IHAyc2NvcmUubGVuZ3RoKSB7XG4gICAgICAgIGFsZXJ0KCdQMiB3aW5uZXInKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ05vIHdpbm5lciB5ZXQnKTtcbiAgICB9XG4gIH1cblxuICAvLyB2ID0gb3JnaW5pbmFsIHZhbHVlLlxuICAvLyBhLGIgPSBkaXJlY3Rpb25cbiAgLy8gZCBpcyBvYmplY3QgaG9sZGluZyB0cnVlIG9yIGZhc2UgYWJvdXQga2V5IHByZXNzXG4gIC8vIHBhcnNlSW50IHR1cm5zIHB4IGludG8gSW50IGlzaW5nIDEwIG9yIHNvbWV0aGluZyByYWRpeCBzdHVmZlxuICAvLyBuID0gY2hlY2sgZm9yIHZhbGlkIG1vdmVtZW50XG4gIC8vIHggPSBwaXhhbCBqdW1wXG5cbiAgZnVuY3Rpb24gbmV3TG9jYXRpb25QMSh2LGEsYikge1xuICAgIGNvbnN0IG4gPSBwYXJzZUludCh2LCAxMCkgLSAoZFthXSA/IHggOiAwKSArIChkW2JdID8geCA6IDApO1xuICAgIGlmIChhID09PSA2NSkgcmV0dXJuICAgbiA8IDAgPyAwIDogbiA+IHdpZHRoID8gd2lkdGggOiBuO1xuICAgIGlmIChhID09PSA4NykgcmV0dXJuIG4gPCAwID8gMCA6IG4gPiBoZWlnaHQgPyBoZWlnaHQgOiBuO1xuICB9XG4gIGZ1bmN0aW9uIG5ld0xvY2F0aW9uUDIodixhLGIpIHtcbiAgICBjb25zdCBuID0gcGFyc2VJbnQodiwgMTApIC0gKGRbYV0gPyB4IDogMCkgKyAoZFtiXSA/IHggOiAwKTtcbiAgICBpZiAoYSA9PT0gMzcpIHJldHVybiBuIDwgMCA/IDAgOiBuID4gd2lkdGggPyB3aWR0aCA6IG47XG4gICAgaWYgKGEgPT09IDM4KSByZXR1cm4gbiA8IDAgPyAwIDogbiA+IGhlaWdodCA/IGhlaWdodCA6IG47XG4gIH1cblxuICAvLyBtYWtlcyByYW5kb20gYW1vdW50cyBvZiBkaXYgb24gdGhlIHBhZ2VcbiAgbWFrZURpdigpO1xuICBjb25zdCAkYmFsbHMgPSAkKCcuYmFsbCcpO1xuXG4gIGZ1bmN0aW9uIG1ha2VEaXYoKSB7XG4gICAgdmFyICBjb3VudCA9IDE7XG5cbiAgICB3aGlsZSAoY291bnQgPCBudW1PZkdvb2REb3RzKXtcbiAgICAgIGNvbnN0IGRpdnNpemUgPSAxMDA7XG4gICAgICBjb25zdCBwb3N4ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLndpZHRoKCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgdmFyIHBvc3kgPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykuaGVpZ2h0KCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgY29uc3QgJG5ld2RpdiA9ICQoJzxkaXYgY2xhc3M9XCJiYWxsICcgKyAnXCI+PC9kaXY+JykuY3NzKHtcbiAgICAgICAgJ2xlZnQnOiBwb3N4ICsgJ3B4JyxcbiAgICAgICAgJ3RvcCc6IHBvc3kgKyAncHgnXG4gICAgICB9KTtcbiAgICAgICRuZXdkaXYuYXBwZW5kVG8oJyNnYW1lQm9hcmQnKS5jbG9uZSgpLmRlbGF5KDIwMDApLmZhZGVJbigxMDApO1xuICAgICAgY291bnQgKys7XG4gICAgfVxuICB9XG5cbiAgbWFrZUJhZERpdigpO1xuICBjb25zdCAkYmFkYmFsbHMgPSAkKCcuYmFkYmFsbCcpO1xuXG4gIGZ1bmN0aW9uIG1ha2VCYWREaXYoKSB7XG4gICAgdmFyICBjb3VudCA9IDE7XG5cbiAgICB3aGlsZSAoY291bnQgPCBudW1PZkJhZERvdHMpe1xuICAgICAgY29uc3QgZGl2c2l6ZSA9IDEwMDtcbiAgICAgIGNvbnN0IHBvc3ggPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykud2lkdGgoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICB2YXIgcG9zeSA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS5oZWlnaHQoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICBjb25zdCAkbmV3QmFkZGl2ID0gJCgnPGRpdiBjbGFzcz1cImJhZGJhbGwgJyArICdcIj48L2Rpdj4nKS5jc3Moe1xuICAgICAgICAnbGVmdCc6IHBvc3ggKyAncHgnLFxuICAgICAgICAndG9wJzogcG9zeSArICdweCdcbiAgICAgIH0pO1xuICAgICAgJG5ld0JhZGRpdi5hcHBlbmRUbygnI2dhbWVCb2FyZCcpLmNsb25lKCkuZGVsYXkoMjAwMCkuZmFkZUluKDEwMCk7XG4gICAgICBjb3VudCArKztcbiAgICB9XG4gIH1cblxuXG5cblxuXG4gIC8vbW92ZW1lbnQgdXNpbmcga2V5c1xuICAkKHdpbmRvdykua2V5ZG93bihmdW5jdGlvbihlKSB7XG4gICAgZFtlLndoaWNoXSA9IHRydWU7XG5cbiAgICBjb25zdCBhID0ge1xuICAgICAgeDogYm94UDEucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgeTogYm94UDEucG9zaXRpb24oKS50b3AsXG4gICAgICB3aWR0aDogYm94UDEud2lkdGgoKSxcbiAgICAgIGhlaWdodDogYm94UDEuaGVpZ2h0KClcbiAgICB9O1xuXG4gICAgJGJhZGJhbGxzLmVhY2goKGluZGV4LCBiYWRiYWxsKSA9PiB7XG4gICAgICBjb25zdCBzID0ge1xuICAgICAgICB4OiAkKGJhZGJhbGwpLnBvc2l0aW9uKCkubGVmdCxcbiAgICAgICAgeTogJChiYWRiYWxsKS5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgd2lkdGg6ICQoYmFkYmFsbCkud2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiAkKGJhZGJhbGwpLmhlaWdodCgpXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjID0ge1xuICAgICAgICB4OiBib3hQMi5wb3NpdGlvbigpLmxlZnQsXG4gICAgICAgIHk6IGJveFAyLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICB3aWR0aDogYm94UDIud2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBib3hQMi5oZWlnaHQoKVxuICAgICAgfTtcblxuICAgICAgJGJhbGxzLmVhY2goKGluZGV4LCBiYWxsKSA9PiB7XG4gICAgICAgIGNvbnN0IGIgPSB7XG4gICAgICAgICAgeDogJChiYWxsKS5wb3NpdGlvbigpLmxlZnQsXG4gICAgICAgICAgeTogJChiYWxsKS5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICB3aWR0aDogJChiYWxsKS53aWR0aCgpLFxuICAgICAgICAgIGhlaWdodDogJChiYWxsKS5oZWlnaHQoKVxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzQ29sbGlkZVAxKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICgoYS55ICsgYS5oZWlnaHQpIDwgKGIueSkpIHx8XG4gICAgICAgICAgICAoYS55ID4gKGIueSArIGIuaGVpZ2h0KSkgfHxcbiAgICAgICAgICAgICgoYS54ICsgYS53aWR0aCkgPCBiLngpIHx8XG4gICAgICAgICAgICAoYS54ID4gKGIueCArIGIud2lkdGgpKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc0NvbGxpZGVQMihjLCBiKSB7XG4gICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAoKGMueSArIGMuaGVpZ2h0KSA8IChiLnkpKSB8fFxuICAgICAgICAgICAgKGMueSA+IChiLnkgKyBiLmhlaWdodCkpIHx8XG4gICAgICAgICAgICAoKGMueCArIGMud2lkdGgpIDwgYi54KSB8fFxuICAgICAgICAgICAgKGMueCA+IChiLnggKyBiLndpZHRoKSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXNCYWRDb2xsaWRlUDEoYSwgcykge1xuICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgKChhLnkgKyBhLmhlaWdodCkgPCAocy55KSkgfHxcbiAgICAgICAgICAgIChhLnkgPiAocy55ICsgcy5oZWlnaHQpKSB8fFxuICAgICAgICAgICAgKChhLnggKyBhLndpZHRoKSA8IHMueCkgfHxcbiAgICAgICAgICAgIChhLnggPiAocy54ICsgcy53aWR0aCkpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlzQmFkQ29sbGlkZVAyKGMsIHMpIHtcbiAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICgoYy55ICsgYy5oZWlnaHQpIDwgKHMueSkpIHx8XG4gICAgICAgICAgICAoYy55ID4gKHMueSArIHMuaGVpZ2h0KSkgfHxcbiAgICAgICAgICAgICgoYy54ICsgYy53aWR0aCkgPCBzLngpIHx8XG4gICAgICAgICAgICAoYy54ID4gKHMueCArIHMud2lkdGgpKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNDb2xsaWRlUDEoYSwgYikpIHtcbiAgICAgICAgICAkKCcjcDFDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiArdmFsKzE7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBwMXNjb3JlLnB1c2goJ2JhbGwnKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygncGxheSAxIHNjb3JlIGlzICcgKyBwMXNjb3JlLmxlbmd0aCk7XG4gICAgICAgICAgY2hlY2tXaW5uZXIocDFzY29yZSwgcDJzY29yZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNDb2xsaWRlUDIoYywgYikpIHtcbiAgICAgICAgICAkKCcjcDJDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiArdmFsKzE7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBwMnNjb3JlLnB1c2goJ2JhbGwnKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygncGxheSAyIHNjb3JlIGlzICcgKyBwMnNjb3JlLmxlbmd0aCk7XG4gICAgICAgICAgY2hlY2tXaW5uZXIocDFzY29yZSwgcDJzY29yZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNCYWRDb2xsaWRlUDEoYSwgcykpIHtcbiAgICAgICAgICAkKCcjcDFDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiAtdmFsLTE7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChiYWRiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBwMXNjb3JlLnBvcCgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdwbGF5IDEgc2NvcmUgaXMgJyArIHAxc2NvcmUubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIChpc0JhZENvbGxpZGVQMihjLCBzKSkge1xuICAgICAgICAvLyAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAvLyAgICAgcmV0dXJuIC12YWwtMTtcbiAgICAgICAgLy8gICB9KTtcbiAgICAgICAgLy8gICAkKGJhZGJhbGwpLnJlbW92ZSgpO1xuICAgICAgICAvLyAgIHAyc2NvcmUucG9wKCk7XG4gICAgICAgIC8vICAgY29uc29sZS5sb2coJ3BsYXkgMiBzY29yZSBpcyAnICsgcDJzY29yZS5sZW5ndGgpO1xuICAgICAgICAvLyB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuXG5cbiAgICAvLyBib3ggbW92ZW1lbnQgY29udHJvbGxzXG4gICAgYm94UDEuY3NzKHtcbiAgICAgIGxlZnQ6IGZ1bmN0aW9uKGksdikge1xuICAgICAgICByZXR1cm4gbmV3TG9jYXRpb25QMSh2LCA2NSwgNjgpO1xuICAgICAgfSxcbiAgICAgIHRvcDogZnVuY3Rpb24oaSx2KSB7XG4gICAgICAgIHJldHVybiBuZXdMb2NhdGlvblAxKHYsIDg3LCA4Myk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYm94UDIuY3NzKHtcbiAgICAgIGxlZnQ6IGZ1bmN0aW9uKGksdikge1xuICAgICAgICByZXR1cm4gbmV3TG9jYXRpb25QMih2LCAzNywgMzkpO1xuICAgICAgfSxcbiAgICAgIHRvcDogZnVuY3Rpb24oaSx2KSB7XG4gICAgICAgIHJldHVybiBuZXdMb2NhdGlvblAyKHYsIDM4LCA0MCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gICQod2luZG93KS5rZXl1cChmdW5jdGlvbihlKSB7XG4gICAgZFtlLndoaWNoXSA9IGZhbHNlO1xuICB9KTtcblxuXG5cblxuICAvLyAvLyBVU0UgQ09NTUVOVEVEIE9VVCBDT0RFIEZPUiBTTU9PVEhFUiBNT1ZFTUVOVFxuICAvLyAvLyByZXBlYXRzIHBvc3Rpbmcgb2YgQ1NTIHRvIHNob3cgYm94IG1vdmVtZW50XG4gIC8vIHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAvLyAgIGJveC5jc3Moe1xuICAvLyAgICAgbGVmdDogZnVuY3Rpb24oaSx2KSB7IHJldHVybiBuZXdMb2NhdGlvbih2LCAzNywgMzkpOyB9LFxuICAvLyAgICAgdG9wOiBmdW5jdGlvbihpLHYpIHsgcmV0dXJuIG5ld0xvY2F0aW9uKHYsIDM4LCA0MCk7IH1cbiAgLy8gICB9KTtcbiAgLy8gfSwgMjApO1xuXG59KTtcbiJdfQ==

"use strict";$(function(){function t(t,e,n){var o=parseInt(t,10)-(x[e]?f:0)+(x[n]?f:0);return 65===e?o<0?0:o>s?s:o:87===e?o<0?0:o>p?p:o:void 0}function e(t,e,n){var o=parseInt(t,10)-(x[e]?f:0)+(x[n]?f:0);return 37===e?o<0?0:o>s?s:o:38===e?o<0?0:o>p?p:o:void 0}function n(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function o(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function i(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function h(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function r(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function a(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function d(){w.length>m.length?$(".showWinner").text("Player One Wins"):w.length<m.length?$(".showWinner").text("Player Two Wins"):$(".showWinner").text("It's a draw")}function l(){0===B?(clearTimeout(C),$(".gameScreen").remove(),$("#gameOverDiv").removeClass("noshow"),d()):(I.innerHTML=B+" seconds remaining",B--)}var u=$("#gameBoard"),c=$(".boxP1"),g=$(".boxP2"),s=u.width()-c.width(),p=u.height()-g.height(),x={},f=20,w=[],m=[],y=200,v=200,b=30;!function(){for(var t=1;t<y;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),n=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="ball "></div>').css({left:e+"px",top:n+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),function(){for(var t=1;t<b;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),n=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="bigBall"></div>').css({left:e+"px",top:n+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),function(){for(var t=1;t<v;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),n=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="badball"></div>').css({left:e+"px",top:n+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),$(window).keydown(function(d){x[d.which]=!0;var l={x:c.position().left,y:c.position().top,width:c.width(),height:c.height()},u={x:g.position().left,y:g.position().top,width:g.width(),height:g.height()};$(".badball").each(function(t,e){var n={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};i(l,n)&&($("#p1Counter").html(function(t,e){return e-1}),$(e).remove(),w.pop(),console.log(w.length)),h(u,n)&&($("#p2Counter").html(function(t,e){return e-1}),$(e).remove(),m.pop(),console.log(m.length))}),$(".ball").each(function(t,e){var i={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};n(l,i)&&($("#p1Counter").html(function(t,e){return+e+1}),$(e).remove(),w.push("ball"),console.log(w.length)),o(u,i)&&($("#p2Counter").html(function(t,e){return+e+1}),$(e).remove(),m.push("ball"),console.log(m.length))}),$(".bigBall").each(function(t,e){var n={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};r(l,n)&&($("#p1Counter").html(function(t,e){return+e+2}),$(e).remove(),w.push("ball","ball2")),a(u,n)&&($("#p2Counter").html(function(t,e){return+e+2}),$(e).remove(),m.push("ball","ball2"))}),c.css({left:function(e,n){return t(n,65,68)},top:function(e,n){return t(n,87,83)}}),g.css({left:function(t,n){return e(n,37,39)},top:function(t,n){return e(n,38,40)}})}),$(window).keyup(function(t){x[t.which]=!1});var B=20,I=document.getElementById("countDownTimer"),C=setInterval(l,1e3)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwibmV3TG9jYXRpb25QMSIsInYiLCJhIiwiYiIsIm4iLCJwYXJzZUludCIsImQiLCJ4Iiwid2lkdGgiLCJoZWlnaHQiLCJuZXdMb2NhdGlvblAyIiwiaXNDb2xsaWRlUDEiLCJ5IiwiaXNDb2xsaWRlUDIiLCJjIiwiaXNCYWRDb2xsaWRlUDIiLCJpc0JpZ0NvbGxpZGVQMSIsImJpZyIsInMiLCJpc0JpZ0NvbGxpZGVQMiIsImJveFAxIiwicG9zaXRpb24iLCJsZWZ0IiwiYm94UDIiLCJ0b3AiLCJiYWRiYWxsIiwiY2hlY2tXaW5uZXIiLCJwMXNjb3JlIiwibGVuZ3RoIiwicDJzY29yZSIsInRleHQiLCJjb3VudGRvd24iLCJ0aW1lTGVmdCIsImNsZWFyVGltZW91dCIsInRpbWVySWQiLCJyZW1vdmUiLCJyZW1vdmVDbGFzcyIsImVsZW0iLCJpbm5lckhUTUwiLCJnYW1lQm9hcmQiLCJudW1PZkdvb2REb3RzIiwibWFrZURpdiIsImNvdW50IiwidG9GaXhlZCIsImRpdnNpemUiLCJyYW5kb20iLCJNYXRoIiwiY3NzIiwicG9zeSIsIiRuZXdkaXYiLCJhcHBlbmRUbyIsImNsb25lIiwiZGVsYXkiLCJmYWRlSW4iLCJtYWtlQmlnRGl2IiwibnVtT2ZCaWdEb3RzIiwiJG5ld0JpZ2RpdiIsIm1ha2VCYWREaXYiLCJudW1PZkJhZERvdHMiLCIkbmV3QmFkZGl2Iiwid2luZG93Iiwia2V5ZG93biIsInZhbCIsImUiLCJ3aGljaCIsImNvbnNvbGUiLCJlYWNoIiwiaW5kZXgiLCJiYWxsIiwiaXNCYWRDb2xsaWRlUDEiLCJodG1sIiwiaSIsInB1c2giLCJsb2ciLCJiaWdiYWxsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImtleXVwIiwic2V0SW50ZXJ2YWwiXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBb0JBLFFBQUFDLEdBQUFDLEVBQUFDLEVBQUFDLEdBR0UsR0FBTUMsR0FBSUMsU0FBU0osRUFBRyxLQUFPSyxF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QUFFeUQsRUFBRUMsUUFBUyxHQVlmLElBQUloQyxHQUFXLEdBQ1RLLEVBQU9zQyxTQUFTQyxlQUFlLGtCQUMvQjFDLEVBQVU0QyxZQUFZL0MsRUFBVyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcblxuICBjb25zdCBnYW1lQm9hcmQgPSAkKCcjZ2FtZUJvYXJkJyk7XG4gIGNvbnN0ICBib3hQMSA9ICQoJy5ib3hQMScpO1xuICBjb25zdCAgYm94UDIgPSAkKCcuYm94UDInKTtcbiAgY29uc3QgIHdpZHRoID0gZ2FtZUJvYXJkLndpZHRoKCkgLSBib3hQMS53aWR0aCgpO1xuICBjb25zdCAgaGVpZ2h0ID0gZ2FtZUJvYXJkLmhlaWdodCgpIC0gYm94UDIuaGVpZ2h0KCk7XG4gIGNvbnN0ICBkID0ge307XG4gIGNvbnN0ICB4ID0gMjAgO1xuICBjb25zdCBwMXNjb3JlID0gW107XG4gIGNvbnN0IHAyc2NvcmUgPSBbXTtcbiAgY29uc3QgbnVtT2ZHb29kRG90cyA9IDIwMDtcbiAgY29uc3QgbnVtT2ZCYWREb3RzID0gMjAwO1xuICBjb25zdCBudW1PZkJpZ0RvdHMgPSAzMDtcblxuICAvLyB2ID0gb3JnaW5pbmFsIHZhbHVlLlxuICAvLyBhLGIgPSBkaXJlY3Rpb25cbiAgLy8gZCBpcyBvYmplY3QgaG9sZGluZyB0cnVlIG9yIGZhc2UgYWJvdXQga2V5IHByZXNzXG4gIC8vIHBhcnNlSW50IHR1cm5zIHB4IGludG8gSW50IGlzaW5nIDEwIG9yIHNvbWV0aGluZyByYWRpeCBzdHVmZlxuICAvLyBuID0gY2hlY2sgZm9yIHZhbGlkIG1vdmVtZW50XG4gIC8vIHggPSBwaXhhbCBqdW1wXG5cbiAgZnVuY3Rpb24gbmV3TG9jYXRpb25QMSh2LGEsYikge1xuICAgIGNvbnN0IG4gPSBwYXJzZUludCh2LCAxMCkgLSAoZFthXSA/IHggOiAwKSArIChkW2JdID8geCA6IDApO1xuICAgIGlmIChhID09PSA2NSkgcmV0dXJuICAgbiA8IDAgPyAwIDogbiA+IHdpZHRoID8gd2lkdGggOiBuO1xuICAgIGlmIChhID09PSA4NykgcmV0dXJuIG4gPCAwID8gMCA6IG4gPiBoZWlnaHQgPyBoZWlnaHQgOiBuO1xuICB9XG4gIGZ1bmN0aW9uIG5ld0xvY2F0aW9uUDIodixhLGIpIHtcbiAgICBjb25zdCBuID0gcGFyc2VJbnQodiwgMTApIC0gKGRbYV0gPyB4IDogMCkgKyAoZFtiXSA/IHggOiAwKTtcbiAgICBpZiAoYSA9PT0gMzcpIHJldHVybiBuIDwgMCA/IDAgOiBuID4gd2lkdGggPyB3aWR0aCA6IG47XG4gICAgaWYgKGEgPT09IDM4KSByZXR1cm4gbiA8IDAgPyAwIDogbiA+IGhlaWdodCA/IGhlaWdodCA6IG47XG4gIH1cblxuICAvLyBtYWtlcyByYW5kb20gYW1vdW50cyBvZiBkaXYgb24gdGhlIHBhZ2VcbiAgbWFrZURpdigpO1xuICBmdW5jdGlvbiBtYWtlRGl2KCkge1xuICAgIHZhciAgY291bnQgPSAxO1xuICAgIHdoaWxlIChjb3VudCA8IG51bU9mR29vZERvdHMpe1xuICAgICAgY29uc3QgZGl2c2l6ZSA9IDIwO1xuICAgICAgY29uc3QgcG9zeCA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS53aWR0aCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgIHZhciBwb3N5ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLmhlaWdodCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgIGNvbnN0ICRuZXdkaXYgPSAkKCc8ZGl2IGNsYXNzPVwiYmFsbCAnICsgJ1wiPjwvZGl2PicpLmNzcyh7XG4gICAgICAgICdsZWZ0JzogcG9zeCArICdweCcsXG4gICAgICAgICd0b3AnOiBwb3N5ICsgJ3B4J1xuICAgICAgfSk7XG4gICAgICAkbmV3ZGl2LmFwcGVuZFRvKCcjZ2FtZUJvYXJkJykuY2xvbmUoKS5kZWxheSgyMDAwKS5mYWRlSW4oMTAwKTtcbiAgICAgIGNvdW50ICsrO1xuICAgIH1cbiAgfVxuXG4vL2FkZHMgaW4gdGhlIGJpZyBncmVlbiBkb3RzXG4gIG1ha2VCaWdEaXYoKTtcbiAgZnVuY3Rpb24gbWFrZUJpZ0RpdigpIHtcbiAgICB2YXIgIGNvdW50ID0gMTtcbiAgICB3aGlsZSAoY291bnQgPCBudW1PZkJpZ0RvdHMpe1xuICAgICAgY29uc3QgZGl2c2l6ZSA9IDIwO1xuICAgICAgY29uc3QgcG9zeCA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS53aWR0aCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgIHZhciBwb3N5ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLmhlaWdodCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgIGNvbnN0ICRuZXdCaWdkaXYgPSAkKCc8ZGl2IGNsYXNzPVwiYmlnQmFsbFwiPjwvZGl2PicpLmNzcyh7XG4gICAgICAgICdsZWZ0JzogcG9zeCArICdweCcsXG4gICAgICAgICd0b3AnOiBwb3N5ICsgJ3B4J1xuICAgICAgfSk7XG4gICAgICAkbmV3QmlnZGl2LmFwcGVuZFRvKCcjZ2FtZUJvYXJkJykuY2xvbmUoKS5kZWxheSgyMDAwKS5mYWRlSW4oMTAwKTtcbiAgICAgIGNvdW50ICsrO1xuICAgIH1cbiAgfVxuLy8gYWRkcyBpbiB0aGUgYmFkIHJlZCBkb3R0c1xuICBtYWtlQmFkRGl2KCk7XG4gIGZ1bmN0aW9uIG1ha2VCYWREaXYoKSB7XG4gICAgdmFyICBjb3VudCA9IDE7XG4gICAgd2hpbGUgKGNvdW50IDwgbnVtT2ZCYWREb3RzKXtcbiAgICAgIGNvbnN0IGRpdnNpemUgPSAyMDtcbiAgICAgIGNvbnN0IHBvc3ggPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykud2lkdGgoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICB2YXIgcG9zeSA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS5oZWlnaHQoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICBjb25zdCAkbmV3QmFkZGl2ID0gJCgnPGRpdiBjbGFzcz1cImJhZGJhbGxcIj48L2Rpdj4nKS5jc3Moe1xuICAgICAgICAnbGVmdCc6IHBvc3ggKyAncHgnLFxuICAgICAgICAndG9wJzogcG9zeSArICdweCdcbiAgICAgIH0pO1xuICAgICAgJG5ld0JhZGRpdi5hcHBlbmRUbygnI2dhbWVCb2FyZCcpLmNsb25lKCkuZGVsYXkoMjAwMCkuZmFkZUluKDEwMCk7XG4gICAgICBjb3VudCArKztcbiAgICB9XG4gIH1cblxuLy8gY29sbGlkZSBmdW5jdGlvbiB0byBjaGVjayBmb3IgY29sbGlzaW9uXG5cbi8vIGNoZWNrIGZvciBwMSArIGJsdWUgZG90c1xuICBmdW5jdGlvbiBpc0NvbGxpZGVQMShhLCBiKSB7XG4gICAgcmV0dXJuICEoXG4gICAgICAoKGEueSArIGEuaGVpZ2h0KSA8IChiLnkpKSB8fFxuICAgICAgKGEueSA+IChiLnkgKyBiLmhlaWdodCkpIHx8XG4gICAgICAoKGEueCArIGEud2lkdGgpIDwgYi54KSB8fFxuICAgICAgKGEueCA+IChiLnggKyBiLndpZHRoKSlcbiAgICApO1xuICB9XG4vLyBjaGVjayBmb3IgcDIgKyBibHVlIGRvdHNcbiAgZnVuY3Rpb24gaXNDb2xsaWRlUDIoYywgYikge1xuICAgIHJldHVybiAhKFxuICAgICAgKChjLnkgKyBjLmhlaWdodCkgPCAoYi55KSkgfHxcbiAgICAgIChjLnkgPiAoYi55ICsgYi5oZWlnaHQpKSB8fFxuICAgICAgKChjLnggKyBjLndpZHRoKSA8IGIueCkgfHxcbiAgICAgIChjLnggPiAoYi54ICsgYi53aWR0aCkpXG4gICAgKTtcbiAgfVxuLy8gY2hlY2sgZm9yIHAxICsgcmVkIGRvdHNcbiAgZnVuY3Rpb24gaXNCYWRDb2xsaWRlUDEoYSwgcykge1xuICAgIHJldHVybiAhKFxuICAgICAgKChhLnkgKyBhLmhlaWdodCkgPCAocy55KSkgfHxcbiAgICAgIChhLnkgPiAocy55ICsgcy5oZWlnaHQpKSB8fFxuICAgICAgKChhLnggKyBhLndpZHRoKSA8IHMueCkgfHxcbiAgICAgIChhLnggPiAocy54ICsgcy53aWR0aCkpXG4gICAgKTtcbiAgfVxuLy8gY2hlY2sgZm9yIHAyICsgcmVkIGRvdHNcbiAgZnVuY3Rpb24gaXNCYWRDb2xsaWRlUDIoYywgcykge1xuICAgIHJldHVybiAhKFxuICAgICAgKChjLnkgKyBjLmhlaWdodCkgPCAocy55KSkgfHxcbiAgICAgIChjLnkgPiAocy55ICsgcy5oZWlnaHQpKSB8fFxuICAgICAgKChjLnggKyBjLndpZHRoKSA8IHMueCkgfHxcbiAgICAgIChjLnggPiAocy54ICsgcy53aWR0aCkpXG4gICAgKTtcbiAgfVxuLy8gY2hlY2sgZm9yIHAxICsgZ3JlZW4gZG90c1xuICBmdW5jdGlvbiBpc0JpZ0NvbGxpZGVQMShhLCBiaWcpIHtcbiAgICByZXR1cm4gIShcbiAgICAgICgoYS55ICsgYS5oZWlnaHQpIDwgKGJpZy55KSkgfHxcbiAgICAgIChhLnkgPiAoYmlnLnkgKyBiaWcuaGVpZ2h0KSkgfHxcbiAgICAgICgoYS54ICsgYS53aWR0aCkgPCBiaWcueCkgfHxcbiAgICAgIChhLnggPiAoYmlnLnggKyBiaWcud2lkdGgpKVxuICAgICk7XG4gIH1cbi8vIGNoZWNrIGZvciBwMiArIGdyZWVuIGRvdHNcbiAgZnVuY3Rpb24gaXNCaWdDb2xsaWRlUDIoYywgYmlnKSB7XG4gICAgcmV0dXJuICEoXG4gICAgICAoKGMueSArIGMuaGVpZ2h0KSA8IChiaWcueSkpIHx8XG4gICAgICAoYy55ID4gKGJpZy55ICsgYmlnLmhlaWdodCkpIHx8XG4gICAgICAoKGMueCArIGMud2lkdGgpIDwgYmlnLngpIHx8XG4gICAgICAoYy54ID4gKGJpZy54ICsgYmlnLndpZHRoKSlcbiAgICApO1xuICB9XG5cbiAgLy9tb3ZlbWVudCB1c2luZyBrZXlzXG4gICQod2luZG93KS5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgICBkW2Uud2hpY2hdID0gdHJ1ZTtcblxuICAgIGNvbnN0IGEgPSB7XG4gICAgICB4OiBib3hQMS5wb3NpdGlvbigpLmxlZnQsXG4gICAgICB5OiBib3hQMS5wb3NpdGlvbigpLnRvcCxcbiAgICAgIHdpZHRoOiBib3hQMS53aWR0aCgpLFxuICAgICAgaGVpZ2h0OiBib3hQMS5oZWlnaHQoKVxuICAgIH07XG5cbiAgICBjb25zdCBjID0ge1xuICAgICAgeDogYm94UDIucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgeTogYm94UDIucG9zaXRpb24oKS50b3AsXG4gICAgICB3aWR0aDogYm94UDIud2lkdGgoKSxcbiAgICAgIGhlaWdodDogYm94UDIuaGVpZ2h0KClcbiAgICB9O1xuXG4vL0NoZWNrIGZvciBiYWQgYmFsbCBjb25uZWN0XG4gICAgJCgnLmJhZGJhbGwnKS5lYWNoKChpbmRleCwgYmFkYmFsbCkgPT4ge1xuICAgICAgY29uc3QgcyA9IHtcbiAgICAgICAgeDogJChiYWRiYWxsKS5wb3NpdGlvbigpLmxlZnQsXG4gICAgICAgIHk6ICQoYmFkYmFsbCkucG9zaXRpb24oKS50b3AsXG4gICAgICAgIHdpZHRoOiAkKGJhZGJhbGwpLndpZHRoKCksXG4gICAgICAgIGhlaWdodDogJChiYWRiYWxsKS5oZWlnaHQoKVxuICAgICAgfTtcblxuICAgICAgaWYgKGlzQmFkQ29sbGlkZVAxKGEsIHMpKSB7XG4gICAgICAgICQoJyNwMUNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgIHJldHVybiB2YWwtMTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoYmFkYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgIHAxc2NvcmUucG9wKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHAxc2NvcmUubGVuZ3RoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQmFkQ29sbGlkZVAyKGMsIHMpKSB7XG4gICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgIHJldHVybiB2YWwtMTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoYmFkYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgIHAyc2NvcmUucG9wKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHAyc2NvcmUubGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9KTtcbi8vQ2hlY2sgZm9yIGJhbGwgY29ubmVjdFxuICAgICQoJy5iYWxsJykuZWFjaCgoaW5kZXgsIGJhbGwpID0+IHtcbiAgICAgIGNvbnN0IGIgPSB7XG4gICAgICAgIHg6ICQoYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICB5OiAkKGJhbGwpLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICB3aWR0aDogJChiYWxsKS53aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6ICQoYmFsbCkuaGVpZ2h0KClcbiAgICAgIH07XG5cbiAgICAgIGlmIChpc0NvbGxpZGVQMShhLCBiKSkge1xuICAgICAgICAkKCcjcDFDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICByZXR1cm4gK3ZhbCsxO1xuICAgICAgICB9KTtcbiAgICAgICAgJChiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgcDFzY29yZS5wdXNoKCdiYWxsJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKHAxc2NvcmUubGVuZ3RoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQ29sbGlkZVAyKGMsIGIpKSB7XG4gICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgIHJldHVybiArdmFsKzE7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGJhbGwpLnJlbW92ZSgpO1xuICAgICAgICBwMnNjb3JlLnB1c2goJ2JhbGwnKTtcbiAgICAgICAgY29uc29sZS5sb2cocDJzY29yZS5sZW5ndGgpO1xuICAgICAgfVxuICAgIH0pO1xuLy9DaGVjayBmb3IgYmlnIGJhbGwgY29ubmVjdFxuICAgICQoJy5iaWdCYWxsJykuZWFjaCgoaW5kZXgsIGJpZ2JhbGwpID0+IHtcbiAgICAgIGNvbnN0IGJpZyA9IHtcbiAgICAgICAgeDogJChiaWdiYWxsKS5wb3NpdGlvbigpLmxlZnQsXG4gICAgICAgIHk6ICQoYmlnYmFsbCkucG9zaXRpb24oKS50b3AsXG4gICAgICAgIHdpZHRoOiAkKGJpZ2JhbGwpLndpZHRoKCksXG4gICAgICAgIGhlaWdodDogJChiaWdiYWxsKS5oZWlnaHQoKVxuICAgICAgfTtcblxuICAgICAgaWYgKGlzQmlnQ29sbGlkZVAxKGEsIGJpZykpIHtcbiAgICAgICAgJCgnI3AxQ291bnRlcicpLmh0bWwoZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgcmV0dXJuICt2YWwrMjtcbiAgICAgICAgfSk7XG4gICAgICAgICQoYmlnYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgIHAxc2NvcmUucHVzaCgnYmFsbCcsICdiYWxsMicpO1xuXG4gICAgICB9XG5cbiAgICAgIGlmIChpc0JpZ0NvbGxpZGVQMihjLCBiaWcpKSB7XG4gICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgIHJldHVybiArdmFsKzI7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGJpZ2JhbGwpLnJlbW92ZSgpO1xuICAgICAgICBwMnNjb3JlLnB1c2goJ2JhbGwnLCAnYmFsbDInKTtcbiAgICAgIH1cbiAgICB9KTtcblxuXG5cbiAgICAvLyBib3ggbW92ZW1lbnQgY29udHJvbGxzXG4gICAgYm94UDEuY3NzKHtcbiAgICAgIGxlZnQ6IGZ1bmN0aW9uKGksdikge1xuICAgICAgICByZXR1cm4gbmV3TG9jYXRpb25QMSh2LCA2NSwgNjgpO1xuICAgICAgfSxcbiAgICAgIHRvcDogZnVuY3Rpb24oaSx2KSB7XG4gICAgICAgIHJldHVybiBuZXdMb2NhdGlvblAxKHYsIDg3LCA4Myk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYm94UDIuY3NzKHtcbiAgICAgIGxlZnQ6IGZ1bmN0aW9uKGksdikge1xuICAgICAgICByZXR1cm4gbmV3TG9jYXRpb25QMih2LCAzNywgMzkpO1xuICAgICAgfSxcbiAgICAgIHRvcDogZnVuY3Rpb24oaSx2KSB7XG4gICAgICAgIHJldHVybiBuZXdMb2NhdGlvblAyKHYsIDM4LCA0MCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gICQod2luZG93KS5rZXl1cChmdW5jdGlvbihlKSB7XG4gICAgZFtlLndoaWNoXSA9IGZhbHNlO1xuICB9KTtcblxuICAvL2NoZWNraW5nIGZvciB3aW5ubmVyIGZ1bmN0aW9uXG4gIGZ1bmN0aW9uIGNoZWNrV2lubmVyKCkge1xuICAgIGlmIChwMXNjb3JlLmxlbmd0aCA+IHAyc2NvcmUubGVuZ3RoKXtcbiAgICAgICQoJy5zaG93V2lubmVyJykudGV4dCgnUGxheWVyIE9uZSBXaW5zJyk7XG4gICAgfSBlbHNlIGlmIChwMXNjb3JlLmxlbmd0aCA8IHAyc2NvcmUubGVuZ3RoKSB7XG4gICAgICAkKCcuc2hvd1dpbm5lcicpLnRleHQoJ1BsYXllciBUd28gV2lucycpO1xuICAgIH0gZWxzZSAkKCcuc2hvd1dpbm5lcicpLnRleHQoJ0l0XFwncyBhIGRyYXcnKTtcbiAgfVxuXG4gIGxldCB0aW1lTGVmdCA9IDIwO1xuICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50RG93blRpbWVyJyk7XG4gIGNvbnN0IHRpbWVySWQgPSBzZXRJbnRlcnZhbChjb3VudGRvd24sIDEwMDApO1xuICBmdW5jdGlvbiBjb3VudGRvd24oKSB7XG4gICAgaWYgKHRpbWVMZWZ0ID09PSAwKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAkKCcuZ2FtZVNjcmVlbicpLnJlbW92ZSgpO1xuICAgICAgJCgnI2dhbWVPdmVyRGl2JykucmVtb3ZlQ2xhc3MoJ25vc2hvdycpO1xuICAgICAgY2hlY2tXaW5uZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5pbm5lckhUTUwgPSB0aW1lTGVmdCArICcgc2Vjb25kcyByZW1haW5pbmcnO1xuICAgICAgdGltZUxlZnQtLTtcbiAgICB9XG4gIH1cbn0pO1xuIl19

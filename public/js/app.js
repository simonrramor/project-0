"use strict";$(function(){function t(t,e,i){var n=parseInt(t,10)-(y[e]?w:0)+(y[i]?w:0);return 65===e?n<0?0:n>x?x:n:87===e?n<0?0:n>m?m:n:void 0}function e(t,e,i){var n=parseInt(t,10)-(y[e]?w:0)+(y[i]?w:0);return 37===e?n<0?0:n>x?x:n:38===e?n<0?0:n>m?m:n:void 0}function i(){for(var t=1;t<I;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),i=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="goldenball"></div>').css({left:e+"px",top:i+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++,D.play()}}function n(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function o(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function a(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function h(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function l(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function r(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function d(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function u(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function c(){v.length>b.length?$(".showWinner").text("Player One Wins"):v.length<b.length?$(".showWinner").text("Player Two Wins"):$(".showWinner").text("It's a draw")}function p(){0===S?(clearTimeout(A),$(".gameScreen").remove(),$("#gameOverDiv").removeClass("noshow"),c()):(q.innerHTML=S+" seconds remaining",S--)}var g=$("#gameBoard"),s=$(".boxP1"),f=$(".boxP2"),x=g.width()-s.width(),m=g.height()-f.height(),y={},w=20,v=[],b=[],B=200,M=200,C=30,I=2,T=!1,F=$("audio")[0],k=$("audio")[1],P=$("audio")[2],W=$("audio")[3],D=$("audio")[4];$("#start").click(function(){console.log("start clicked"),$("#welcomePage").hide(),$(".gameScreen").removeAttr("id","hidden")});var O=3e4;$("input[type=range]").eq(0).on("change",function(t){O=$(t.target).val(),console.log("gametime is now ",O)}),$("#mute-button").each(function(){$(this).data("original",$(this).html())}).on("click",function(){$(this).toggleClass("clicked").html(function(t,e){var i=$(this).data("original");return e===i?'<i class="fa fa-volume-off" aria-hidden="true"></i>':i})}),$("#mute-button").on("click",function(){T=!T}),function(){for(var t=1;t<B;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),i=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="ball"</div>').css({left:e+"px",top:i+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),function(){for(var t=1;t<C;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),i=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="bigBall"></div>').css({left:e+"px",top:i+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),function(){for(var t=1;t<M;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),i=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="badball"></div>').css({left:e+"px",top:i+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),setTimeout(function(){i()},Math.floor(Math.random()*(O-1e4))),$(window).keydown(function(i){y[i.which]=!0;var c={x:s.position().left,y:s.position().top,width:s.width(),height:s.height()},p={x:f.position().left,y:f.position().top,width:f.width(),height:f.height()};$(".badball").each(function(t,e){var i={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};a(c,i)&&($("#p1Counter").html(function(t,e){return e-1}),$(e).remove(),v.pop(),T||P.play()),h(p,i)&&($("#p2Counter").html(function(t,e){return e-1}),$(e).remove(),b.pop(),T||P.play())}),$(".ball").each(function(t,e){var i={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};n(c,i)&&($("#p1Counter").html(function(t,e){return+e+1}),$(e).remove(),v.push("ball"),T||F.play()),o(p,i)&&($("#p2Counter").html(function(t,e){return+e+1}),$(e).remove(),b.push("ball"),T||F.play())}),$(".bigBall").each(function(t,e){var i={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};l(c,i)&&($("#p1Counter").html(function(t,e){return+e+2}),$(e).remove(),v.push("ball","ball2"),T||k.play()),r(p,i)&&($("#p2Counter").html(function(t,e){return+e+2}),$(e).remove(),b.push("ball","ball2"),T||k.play())}),$(".goldenball").each(function(t,e){var i={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};d(c,i)&&($("#p1Counter").html(function(t,e){return+e+10}),$(e).remove(),v.push("ball","ball2","ball3","ball4","ball5","ball6","ball7","ball8","ball9","ball10"),T||W.play()),u(p,i)&&($("#p2Counter").html(function(t,e){return+e+10}),$(e).remove(),b.push("ball","ball2","ball3","ball4","ball5","ball6","ball7","ball8","ball9","ball10"),T||W.play())}),s.css({left:function(e,i){return t(i,65,68)},top:function(e,i){return t(i,87,83)}}),f.css({left:function(t,i){return e(i,37,39)},top:function(t,i){return e(i,38,40)}})}),$(window).keyup(function(t){y[t.which]=!1});var S=O/1e3,q=document.getElementById("countDownTimer"),A=setInterval(p,1e3)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwibmV3TG9jYXRpb25QMSIsInYiLCJhIiwiYiIsIm4iLCJuZXdMb2NhdGlvblAyIiwiZCIsIngiLCJwYXJzZUludCIsIndpZHRoIiwibWFrZURpdiIsIiRuZXdHb2xkRGl2IiwiY291bnQiLCJwb3N4IiwicG9zeSIsIk1hdGgiLCJyYW5kb20iLCJ0b0ZpeGVkIiwiYXBwZW5kVG8iLCJkZWxheSIsImdvbGRlbnRlcnMiLCJ0b3AiLCJjbG9uZSIsImZhZGVJbiIsImlzQ29sbGlkZVAxIiwieSIsImhlaWdodCIsImlzQmFkQ29sbGlkZVAyIiwiaXNCaWdDb2xsaWRlUDEiLCJjIiwiaXNCaWdDb2xsaWRlUDIiLCJpc0JhZENvbGxpZGVQMSIsInMiLCJpc0dvbGRDb2xsaWRlUDIiLCJib3hQMSIsInBvc2l0aW9uIiwibGVmdCIsImJveFAyIiwiYmlnIiwiYmFkYmFsbCIsImlzR29sZENvbGxpZGVQMSIsImdvbGQiLCJwMXNjb3JlIiwicG9wIiwibXV0ZSIsImF1ZGlvRXJyb3IiLCJwMnNjb3JlIiwiY2hlY2tXaW5uZXIiLCJsZW5ndGgiLCJ0ZXh0IiwiY291bnRkb3duIiwidGltZUxlZnQiLCJjbGVhclRpbWVvdXQiLCJ0aW1lcklkIiwicmVtb3ZlIiwicmVtb3ZlQ2xhc3MiLCJlbGVtIiwiaW5uZXJIVE1MIiwiZ2FtZUJvYXJkIiwibnVtT2ZHb29kRG90cyIsIm51bU9mQmFkRG90cyIsIm51bU9mR29sZERvdHMiLCJhdWRpbyIsImF1ZGlvQmlnIiwiY2xpY2siLCJjb25zb2xlIiwibG9nIiwiaGlkZSIsInJlbW92ZUF0dHIiLCJlcSIsIm9uIiwiZSIsImdhbWVUaW1lIiwidGFyZ2V0IiwidmFsIiwiZWFjaCIsImRhdGEiLCJ0aGlzIiwiaHRtbCIsInRvZ2dsZUNsYXNzIiwiXyIsIm9yZyIsIiRuZXdkaXYiLCJjc3MiLCIkbmV3QmlnZGl2IiwibWFrZUJhZERpdiIsIiRuZXdCYWRkaXYiLCJzZXRUaW1lb3V0IiwibWFrZUdvbGREaXYiLCJiYWxsIiwicGxheSIsImluZGV4IiwiaSIsImJpZ2JhbGwiLCJnb2xkZW5iYWxsIiwiYXVkaW9Hb2xkIiwicHVzaCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzZXRJbnRlcnZhbCIsIndpbmRvdyIsImtleXVwIiwid2hpY2giXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBbUVDLFFBQUFDLEdBQUFDLEVBQUFDLEVBQUFDLEdBQ0QsR0FBQUMsR0FBU0MsU0FBQUEsRUFBVCxLQUFBQyxFQUE4QkosR0FBQUssRUFBQSxJQUFBRCxFQUFBSCxHQUFBSSxFQUFBLEVBQzVCLE9BQVVDLE1BQUpKLEVBQUlBLEVBQW1CRSxFQUFBLEVBQUFGLEVBQW5CSyxFQUFvQ0EsRUFBV0wsRUFDL0MsS0FBTkYsRUFBaUJFLEVBQUksRUFBSSxFQUFJQSxFQUFJSyxFQUFRQSxFQUEvQkwsTUFBZCxHQUVELFFBQUFDLEdBQUFKLEVBQUFDLEVBQUFDLEdBSEMsR0FBTUMsR0FBSUksU0FBU1AsRUFBRyxLQUFPSyxFQUFFSixHQUFLSyxFQUFJLElBQU1ELEVBQUVILEdBQUtJLEVBQUksRUFLM0QsT0FBQSxNQUFBTCxFQUFBRSxFQUFBLEVBQUEsRUFBQUEsRUFBQUssRUFBQUEsRUFBQUwsRUFDQU0sS0FBQUEsRUFBQUEsRUFBQUEsRUFBQUEsRUFBQUEsRUFBQUEsRUFBQUEsRUFBQUEsTUFBQUEsR0E2REksUUFBTUMsS0FFSixJQURBLEdBQUFDLEdBQVFDLEVBQ1JELEVBQU9FLEdBQU8sQ0FGNEMsR0FGdERELElBQVFFLEtBQUtDLFVBQVlqQixFQUFFLGNBQWNVLFFBRS9DLEtBRm1FUSxVQVFuRU4sR0FBWU8sS0FBQUEsVUFBU25CLEVBQUEsY0FBc0JvQixTQU4zQyxLQU1BRixTQUNBTCxHQUFBQSxrQ0FBQUEsS0FDQVEsS0FBQUEsRUFBQSxLQUVEQyxJQUFBUCxFQUFBLE9BSmFJLFNBQVMsY0FBY0ksUUFBUUgsTUFBTSxLQUFNSSxPQUFPLEtBU2xFWCxJQUNBUSxFQUFTSSxRQWtCVCxRQUFBQSxHQUFBdEIs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RUFBR2xCLEdBQy9CLE9BQVFBLEVBQUksS0FFZDNFLEVBQUUrRixHQUFZeEMsU0FDZFIsRUFBUWtELEtBQUssT0FBUSxRQUFTLFFBQVMsUUFBUyxRQUFTLFFBQVMsUUFBUyxRQUFTLFFBQVMsVUFDekZwRCxHQUFLbUQsRUFBVUwsVUFPdkJ4RCxFQUFNaUQsS0FDSi9DLEtBQU0sU0FBU3dELEVBQUUzRixHQUNmLE1BQU9ELEdBQWNDLEVBQUcsR0FBSSxLQUU5Qm9CLElBQUssU0FBU3VFLEVBQUUzRixHQUNkLE1BQU9ELEdBQWNDLEVBQUcsR0FBSSxPQUdoQ29DLEVBQU04QyxLQUNKL0MsS0FBTSxTQUFTd0QsRUFBRTNGLEdBQ2YsTUFBT0ksR0FBY0osRUFBRyxHQUFJLEtBRTlCb0IsSUFBSyxTQUFTdUUsRUFBRTNGLEdBQ2QsTUFBT0ksR0FBY0osRUFBRyxHQUFJLFNBT2xDRixFQUFFcUcsUUFBUUMsTUFBTSxTQUFTOUIsR0FDdkJqRSxFQUFFaUUsRUFBRStCLFFBQVMsR0FhZixJQUFJbkQsR0FBWXFCLEVBQVcsSUFDckJoQixFQUFPeUMsU0FBU0MsZUFBZSxrQkFDL0I3QyxFQUFVOEMsWUFBWWpELEVBQVciLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgoKSA9PiB7XG5cbiAgY29uc3QgZ2FtZUJvYXJkID0gJCgnI2dhbWVCb2FyZCcpO1xuICBjb25zdCAgYm94UDEgPSAkKCcuYm94UDEnKTtcbiAgY29uc3QgIGJveFAyID0gJCgnLmJveFAyJyk7XG4gIGNvbnN0ICB3aWR0aCA9IGdhbWVCb2FyZC53aWR0aCgpIC0gYm94UDEud2lkdGgoKTtcbiAgY29uc3QgIGhlaWdodCA9IGdhbWVCb2FyZC5oZWlnaHQoKSAtIGJveFAyLmhlaWdodCgpO1xuICBjb25zdCAgZCA9IHt9O1xuICBjb25zdCAgeCA9IDIwIDtcbiAgY29uc3QgcDFzY29yZSA9IFtdO1xuICBjb25zdCBwMnNjb3JlID0gW107XG4gIGNvbnN0IG51bU9mR29vZERvdHMgPSAyMDA7XG4gIGNvbnN0IG51bU9mQmFkRG90cyA9IDIwMDtcbiAgY29uc3QgbnVtT2ZCaWdEb3RzID0gMzA7XG4gIGNvbnN0IG51bU9mR29sZERvdHMgPSAyO1xuICAvLyBjb25zdCBnYW1lVGltZSA9IDMwMDAwOyAvLyBpbiBtaWxpc2Vjb25kc1xuICBsZXQgbXV0ZSA9IGZhbHNlO1xuICBjb25zdCBhdWRpbyA9ICQoJ2F1ZGlvJylbMF07XG4gIGNvbnN0IGF1ZGlvQmlnID0gJCgnYXVkaW8nKVsxXTtcbiAgY29uc3QgYXVkaW9FcnJvciA9ICQoJ2F1ZGlvJylbMl07XG4gIGNvbnN0IGF1ZGlvR29sZCA9ICQoJ2F1ZGlvJylbM107XG4gIGNvbnN0IGdvbGRlbnRlcnMgPSAkKCdhdWRpbycpWzRdO1xuXG5cblxuICAkKCcjc3RhcnQnKS5jbGljayhmdW5jdGlvbigpe1xuICAgIGNvbnNvbGUubG9nKCdzdGFydCBjbGlja2VkJyk7XG4gICAgJCggJyN3ZWxjb21lUGFnZScgKS5oaWRlKCk7XG4gICAgJCgnLmdhbWVTY3JlZW4nKS5yZW1vdmVBdHRyKCdpZCcsICdoaWRkZW4nKTtcbiAgfSk7XG5cblxuXG5cbiAgLy8gdHJ5aW5nIHRvIGdldCBzbGlkZXJzIHRvIHdvcmtcbiAgbGV0IGdhbWVUaW1lID0gMzAwMDA7IC8vIGluIG1pbGlzZWNvbmRzXG4gICQoJ2lucHV0W3R5cGU9cmFuZ2VdJykuZXEoMCkub24oJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgZ2FtZVRpbWUgPSAkKGUudGFyZ2V0KS52YWwoKSAgO1xuICAgIGNvbnNvbGUubG9nKCdnYW1ldGltZSBpcyBub3cgJywgZ2FtZVRpbWUpO1xuICB9KTtcblxuXG4gIC8vTXV0ZSBidXR0b24gdG9nZ2xlXG4gICQoJyNtdXRlLWJ1dHRvbicpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS5kYXRhKCdvcmlnaW5hbCcsICQodGhpcykuaHRtbCgpKTtcbiAgfSkub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnY2xpY2tlZCcpLmh0bWwoZnVuY3Rpb24oXywgaHRtbCkge1xuICAgICAgdmFyIG9yZyA9ICQodGhpcykuZGF0YSgnb3JpZ2luYWwnKTtcbiAgICAgIHJldHVybiBodG1sID09PSBvcmcgPyAnPGkgY2xhc3M9XCJmYSBmYS12b2x1bWUtb2ZmXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicgOiBvcmc7XG4gICAgfSk7XG4gIH0pO1xuXG4gICQoJyNtdXRlLWJ1dHRvbicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBtdXRlID0gIW11dGU7XG4gIH0pO1xuXG4gIC8vIHYgPSBvcmdpbmluYWwgdmFsdWUuXG4gIC8vIGEsYiA9IGRpcmVjdGlvblxuICAvLyBkIGlzIG9iamVjdCBob2xkaW5nIHRydWUgb3IgZmFzZSBhYm91dCBrZXkgcHJlc3NcbiAgLy8gcGFyc2VJbnQgdHVybnMgcHggaW50byBJbnQgaXNpbmcgMTAgb3Igc29tZXRoaW5nIHJhZGl4IHN0dWZmXG4gIC8vIG4gPSBjaGVjayBmb3IgdmFsaWQgbW92ZW1lbnRcbiAgLy8geCA9IHBpeGFsIGp1bXBcblxuICBmdW5jdGlvbiBuZXdMb2NhdGlvblAxKHYsYSxiKSB7XG4gICAgY29uc3QgbiA9IHBhcnNlSW50KHYsIDEwKSAtIChkW2FdID8geCA6IDApICsgKGRbYl0gPyB4IDogMCk7XG4gICAgaWYgKGEgPT09IDY1KSByZXR1cm4gICBuIDwgMCA/IDAgOiBuID4gd2lkdGggPyB3aWR0aCA6IG47XG4gICAgaWYgKGEgPT09IDg3KSByZXR1cm4gbiA8IDAgPyAwIDogbiA+IGhlaWdodCA/IGhlaWdodCA6IG47XG4gIH1cbiAgZnVuY3Rpb24gbmV3TG9jYXRpb25QMih2LGEsYikge1xuICAgIGNvbnN0IG4gPSBwYXJzZUludCh2LCAxMCkgLSAoZFthXSA/IHggOiAwKSArIChkW2JdID8geCA6IDApO1xuICAgIGlmIChhID09PSAzNykgcmV0dXJuIG4gPCAwID8gMCA6IG4gPiB3aWR0aCA/IHdpZHRoIDogbjtcbiAgICBpZiAoYSA9PT0gMzgpIHJldHVybiBuIDwgMCA/IDAgOiBuID4gaGVpZ2h0ID8gaGVpZ2h0IDogbjtcbiAgfVxuXG4gIC8vIG1ha2VzIHJhbmRvbSBhbW91bnRzIG9mIGRpdiBvbiB0aGUgcGFnZVxuICBtYWtlRGl2KCk7XG4gIGZ1bmN0aW9uIG1ha2VEaXYoKSB7XG4gICAgdmFyICBjb3VudCA9IDE7XG4gICAgd2hpbGUgKGNvdW50IDwgbnVtT2ZHb29kRG90cyl7XG4gICAgICBjb25zdCBkaXZzaXplID0gMjA7XG4gICAgICBjb25zdCBwb3N4ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLndpZHRoKCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgdmFyIHBvc3kgPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykuaGVpZ2h0KCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgY29uc3QgJG5ld2RpdiA9ICQoJzxkaXYgY2xhc3M9XCJiYWxsXCI8L2Rpdj4nKS5jc3Moe1xuICAgICAgICAnbGVmdCc6IHBvc3ggKyAncHgnLFxuICAgICAgICAndG9wJzogcG9zeSArICdweCdcbiAgICAgIH0pO1xuICAgICAgJG5ld2Rpdi5hcHBlbmRUbygnI2dhbWVCb2FyZCcpLmNsb25lKCkuZGVsYXkoMjAwMCkuZmFkZUluKDEwMCk7XG4gICAgICBjb3VudCArKztcbiAgICB9XG4gIH1cblxuICAvL2FkZHMgaW4gdGhlIGJpZyBncmVlbiBkb3RzXG4gIG1ha2VCaWdEaXYoKTtcbiAgZnVuY3Rpb24gbWFrZUJpZ0RpdigpIHtcbiAgICB2YXIgIGNvdW50ID0gMTtcbiAgICB3aGlsZSAoY291bnQgPCBudW1PZkJpZ0RvdHMpe1xuICAgICAgY29uc3QgZGl2c2l6ZSA9IDIwO1xuICAgICAgY29uc3QgcG9zeCA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS53aWR0aCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgIHZhciBwb3N5ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLmhlaWdodCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgIGNvbnN0ICRuZXdCaWdkaXYgPSAkKCc8ZGl2IGNsYXNzPVwiYmlnQmFsbFwiPjwvZGl2PicpLmNzcyh7XG4gICAgICAgICdsZWZ0JzogcG9zeCArICdweCcsXG4gICAgICAgICd0b3AnOiBwb3N5ICsgJ3B4J1xuICAgICAgfSk7XG4gICAgICAkbmV3QmlnZGl2LmFwcGVuZFRvKCcjZ2FtZUJvYXJkJykuY2xvbmUoKS5kZWxheSgyMDAwKS5mYWRlSW4oMTAwKTtcbiAgICAgIGNvdW50ICsrO1xuICAgIH1cbiAgfVxuICAvLyBhZGRzIGluIHRoZSBiYWQgcmVkIGRvdHRzXG4gIG1ha2VCYWREaXYoKTtcbiAgZnVuY3Rpb24gbWFrZUJhZERpdigpIHtcbiAgICB2YXIgIGNvdW50ID0gMTtcbiAgICB3aGlsZSAoY291bnQgPCBudW1PZkJhZERvdHMpe1xuICAgICAgY29uc3QgZGl2c2l6ZSA9IDIwO1xuICAgICAgY29uc3QgcG9zeCA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS53aWR0aCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgIHZhciBwb3N5ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLmhlaWdodCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgIGNvbnN0ICRuZXdCYWRkaXYgPSAkKCc8ZGl2IGNsYXNzPVwiYmFkYmFsbFwiPjwvZGl2PicpLmNzcyh7XG4gICAgICAgICdsZWZ0JzogcG9zeCArICdweCcsXG4gICAgICAgICd0b3AnOiBwb3N5ICsgJ3B4J1xuICAgICAgfSk7XG4gICAgICAkbmV3QmFkZGl2LmFwcGVuZFRvKCcjZ2FtZUJvYXJkJykuY2xvbmUoKS5kZWxheSgyMDAwKS5mYWRlSW4oMTAwKTtcbiAgICAgIGNvdW50ICsrO1xuICAgIH1cbiAgfVxuXG5cbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgbWFrZUdvbGREaXYoKTtcblxuICB9LCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoZ2FtZVRpbWUgLSAxMDAwMCkpKTtcblxuICBmdW5jdGlvbiBtYWtlR29sZERpdigpIHtcbiAgICB2YXIgIGNvdW50ID0gMTtcbiAgICB3aGlsZSAoY291bnQgPCBudW1PZkdvbGREb3RzKXtcbiAgICAgIGNvbnN0IGRpdnNpemUgPSAyMDtcbiAgICAgIGNvbnN0IHBvc3ggPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykud2lkdGgoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICB2YXIgcG9zeSA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS5oZWlnaHQoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICBjb25zdCAkbmV3R29sZERpdiA9ICQoJzxkaXYgY2xhc3M9XCJnb2xkZW5iYWxsXCI+PC9kaXY+JykuY3NzKHtcbiAgICAgICAgJ2xlZnQnOiBwb3N4ICsgJ3B4JyxcbiAgICAgICAgJ3RvcCc6IHBvc3kgKyAncHgnXG4gICAgICB9KTtcblxuXG4gICAgICAkbmV3R29sZERpdi5hcHBlbmRUbygnI2dhbWVCb2FyZCcpLmNsb25lKCkuZGVsYXkoMjAwMCkuZmFkZUluKDEwMCk7XG4gICAgICBjb3VudCArKztcbiAgICAgIGdvbGRlbnRlcnMucGxheSgpO1xuXG4gICAgfVxuICB9XG5cbiAgLy8gY29sbGlkZSBmdW5jdGlvbiB0byBjaGVjayBmb3IgY29sbGlzaW9uXG5cbiAgLy8gY2hlY2sgZm9yIHAxICsgYmx1ZSBkb3RzXG4gIGZ1bmN0aW9uIGlzQ29sbGlkZVAxKGEsIGIpIHtcbiAgICByZXR1cm4gIShcbiAgICAgICgoYS55ICsgYS5oZWlnaHQpIDwgKGIueSkpIHx8XG4gICAgICAoYS55ID4gKGIueSArIGIuaGVpZ2h0KSkgfHxcbiAgICAgICgoYS54ICsgYS53aWR0aCkgPCBiLngpIHx8XG4gICAgICAoYS54ID4gKGIueCArIGIud2lkdGgpKVxuICAgICk7XG4gIH1cbiAgLy8gY2hlY2sgZm9yIHAyICsgYmx1ZSBkb3RzXG4gIGZ1bmN0aW9uIGlzQ29sbGlkZVAyKGMsIGIpIHtcbiAgICByZXR1cm4gIShcbiAgICAgICgoYy55ICsgYy5oZWlnaHQpIDwgKGIueSkpIHx8XG4gICAgICAoYy55ID4gKGIueSArIGIuaGVpZ2h0KSkgfHxcbiAgICAgICgoYy54ICsgYy53aWR0aCkgPCBiLngpIHx8XG4gICAgICAoYy54ID4gKGIueCArIGIud2lkdGgpKVxuICAgICk7XG4gIH1cblxuICAvLyBjaGVjayBmb3IgcDEgKyByZWQgZG90c1xuICBmdW5jdGlvbiBpc0JhZENvbGxpZGVQMShhLCBzKSB7XG4gICAgcmV0dXJuICEoXG4gICAgICAoKGEueSArIGEuaGVpZ2h0KSA8IChzLnkpKSB8fFxuICAgICAgKGEueSA+IChzLnkgKyBzLmhlaWdodCkpIHx8XG4gICAgICAoKGEueCArIGEud2lkdGgpIDwgcy54KSB8fFxuICAgICAgKGEueCA+IChzLnggKyBzLndpZHRoKSlcbiAgICApO1xuICB9XG4gIC8vIGNoZWNrIGZvciBwMiArIHJlZCBkb3RzXG4gIGZ1bmN0aW9uIGlzQmFkQ29sbGlkZVAyKGMsIHMpIHtcbiAgICByZXR1cm4gIShcbiAgICAgICgoYy55ICsgYy5oZWlnaHQpIDwgKHMueSkpIHx8XG4gICAgICAoYy55ID4gKHMueSArIHMuaGVpZ2h0KSkgfHxcbiAgICAgICgoYy54ICsgYy53aWR0aCkgPCBzLngpIHx8XG4gICAgICAoYy54ID4gKHMueCArIHMud2lkdGgpKVxuICAgICk7XG4gIH1cbiAgLy8gY2hlY2sgZm9yIHAxICsgZ3JlZW4gZG90c1xuICBmdW5jdGlvbiBpc0JpZ0NvbGxpZGVQMShhLCBiaWcpIHtcbiAgICByZXR1cm4gIShcbiAgICAgICgoYS55ICsgYS5oZWlnaHQpIDwgKGJpZy55KSkgfHxcbiAgICAgIChhLnkgPiAoYmlnLnkgKyBiaWcuaGVpZ2h0KSkgfHxcbiAgICAgICgoYS54ICsgYS53aWR0aCkgPCBiaWcueCkgfHxcbiAgICAgIChhLnggPiAoYmlnLnggKyBiaWcud2lkdGgpKVxuICAgICk7XG4gIH1cbiAgLy8gY2hlY2sgZm9yIHAyICsgZ3JlZW4gZG90c1xuICBmdW5jdGlvbiBpc0JpZ0NvbGxpZGVQMihjLCBiaWcpIHtcbiAgICByZXR1cm4gIShcbiAgICAgICgoYy55ICsgYy5oZWlnaHQpIDwgKGJpZy55KSkgfHxcbiAgICAgIChjLnkgPiAoYmlnLnkgKyBiaWcuaGVpZ2h0KSkgfHxcbiAgICAgICgoYy54ICsgYy53aWR0aCkgPCBiaWcueCkgfHxcbiAgICAgIChjLnggPiAoYmlnLnggKyBiaWcud2lkdGgpKVxuICAgICk7XG4gIH1cbiAgLy8gY2hlY2sgZm9yIHAxICsgZ3JlZW4gZG90c1xuICBmdW5jdGlvbiBpc0dvbGRDb2xsaWRlUDEoYSwgZ29sZCkge1xuICAgIHJldHVybiAhKFxuICAgICAgKChhLnkgKyBhLmhlaWdodCkgPCAoZ29sZC55KSkgfHxcbiAgICAgIChhLnkgPiAoZ29sZC55ICsgZ29sZC5oZWlnaHQpKSB8fFxuICAgICAgKChhLnggKyBhLndpZHRoKSA8IGdvbGQueCkgfHxcbiAgICAgIChhLnggPiAoZ29sZC54ICsgZ29sZC53aWR0aCkpXG4gICAgKTtcbiAgfVxuICAvLyBjaGVjayBmb3IgcDIgKyBHT0xEIGRvdHNcbiAgZnVuY3Rpb24gaXNHb2xkQ29sbGlkZVAyKGMsIGdvbGQpIHtcbiAgICByZXR1cm4gIShcbiAgICAgICgoYy55ICsgYy5oZWlnaHQpIDwgKGdvbGQueSkpIHx8XG4gICAgICAoYy55ID4gKGdvbGQueSArIGdvbGQuaGVpZ2h0KSkgfHxcbiAgICAgICgoYy54ICsgYy53aWR0aCkgPCBnb2xkLngpIHx8XG4gICAgICAoYy54ID4gKGdvbGQueCArIGdvbGQud2lkdGgpKVxuICAgICk7XG4gIH1cblxuICAvL21vdmVtZW50IHVzaW5nIGtleXNcbiAgJCh3aW5kb3cpLmtleWRvd24oZnVuY3Rpb24oZSkge1xuICAgIGRbZS53aGljaF0gPSB0cnVlO1xuXG4gICAgY29uc3QgYSA9IHtcbiAgICAgIHg6IGJveFAxLnBvc2l0aW9uKCkubGVmdCxcbiAgICAgIHk6IGJveFAxLnBvc2l0aW9uKCkudG9wLFxuICAgICAgd2lkdGg6IGJveFAxLndpZHRoKCksXG4gICAgICBoZWlnaHQ6IGJveFAxLmhlaWdodCgpXG4gICAgfTtcblxuICAgIGNvbnN0IGMgPSB7XG4gICAgICB4OiBib3hQMi5wb3NpdGlvbigpLmxlZnQsXG4gICAgICB5OiBib3hQMi5wb3NpdGlvbigpLnRvcCxcbiAgICAgIHdpZHRoOiBib3hQMi53aWR0aCgpLFxuICAgICAgaGVpZ2h0OiBib3hQMi5oZWlnaHQoKVxuICAgIH07XG5cblxuICAgIC8vQ2hlY2sgZm9yIGJhZCBiYWxsIGNvbm5lY3RcbiAgICAkKCcuYmFkYmFsbCcpLmVhY2goKGluZGV4LCBiYWRiYWxsKSA9PiB7XG4gICAgICBjb25zdCBzID0ge1xuICAgICAgICB4OiAkKGJhZGJhbGwpLnBvc2l0aW9uKCkubGVmdCxcbiAgICAgICAgeTogJChiYWRiYWxsKS5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgd2lkdGg6ICQoYmFkYmFsbCkud2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiAkKGJhZGJhbGwpLmhlaWdodCgpXG4gICAgICB9O1xuXG4gICAgICBpZiAoaXNCYWRDb2xsaWRlUDEoYSwgcykpIHtcbiAgICAgICAgJCgnI3AxQ291bnRlcicpLmh0bWwoZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbC0xO1xuICAgICAgICB9KTtcbiAgICAgICAgJChiYWRiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgcDFzY29yZS5wb3AoKTtcbiAgICAgICAgaWYoIW11dGUpYXVkaW9FcnJvci5wbGF5KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0JhZENvbGxpZGVQMihjLCBzKSkge1xuICAgICAgICAkKCcjcDJDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICByZXR1cm4gdmFsLTE7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGJhZGJhbGwpLnJlbW92ZSgpO1xuICAgICAgICBwMnNjb3JlLnBvcCgpO1xuICAgICAgICBpZighbXV0ZSlhdWRpb0Vycm9yLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vQ2hlY2sgZm9yIGJhbGwgY29ubmVjdFxuICAgICQoJy5iYWxsJykuZWFjaCgoaW5kZXgsIGJhbGwpID0+IHtcbiAgICAgIGNvbnN0IGIgPSB7XG4gICAgICAgIHg6ICQoYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICB5OiAkKGJhbGwpLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICB3aWR0aDogJChiYWxsKS53aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6ICQoYmFsbCkuaGVpZ2h0KClcbiAgICAgIH07XG5cblxuXG4gICAgICBpZiAoaXNDb2xsaWRlUDEoYSwgYikpIHtcbiAgICAgICAgJCgnI3AxQ291bnRlcicpLmh0bWwoZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgcmV0dXJuICt2YWwrMTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgIHAxc2NvcmUucHVzaCgnYmFsbCcpO1xuICAgICAgICBpZighbXV0ZSlhdWRpby5wbGF5KCk7XG5cbiAgICAgIH1cblxuICAgICAgaWYgKGlzQ29sbGlkZVAyKGMsIGIpKSB7XG4gICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgIHJldHVybiArdmFsKzE7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGJhbGwpLnJlbW92ZSgpO1xuICAgICAgICBwMnNjb3JlLnB1c2goJ2JhbGwnKTtcbiAgICAgICAgaWYoIW11dGUpYXVkaW8ucGxheSgpO1xuXG4gICAgICB9XG4gICAgfSk7XG5cblxuICAgIC8vQ2hlY2sgZm9yIGJpZyBiYWxsIGNvbm5lY3RcbiAgICAkKCcuYmlnQmFsbCcpLmVhY2goKGluZGV4LCBiaWdiYWxsKSA9PiB7XG4gICAgICBjb25zdCBiaWcgPSB7XG4gICAgICAgIHg6ICQoYmlnYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICB5OiAkKGJpZ2JhbGwpLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICB3aWR0aDogJChiaWdiYWxsKS53aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6ICQoYmlnYmFsbCkuaGVpZ2h0KClcbiAgICAgIH07XG5cbiAgICAgIGlmIChpc0JpZ0NvbGxpZGVQMShhLCBiaWcpKSB7XG4gICAgICAgICQoJyNwMUNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgIHJldHVybiArdmFsKzI7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGJpZ2JhbGwpLnJlbW92ZSgpO1xuICAgICAgICBwMXNjb3JlLnB1c2goJ2JhbGwnLCAnYmFsbDInKTtcbiAgICAgICAgaWYoIW11dGUpYXVkaW9CaWcucGxheSgpO1xuXG4gICAgICB9XG5cbiAgICAgIGlmIChpc0JpZ0NvbGxpZGVQMihjLCBiaWcpKSB7XG4gICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgIHJldHVybiArdmFsKzI7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGJpZ2JhbGwpLnJlbW92ZSgpO1xuICAgICAgICBwMnNjb3JlLnB1c2goJ2JhbGwnLCAnYmFsbDInKTtcbiAgICAgICAgaWYoIW11dGUpYXVkaW9CaWcucGxheSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICAvL0NoZWNrIGZvciBHT0xEIGJhbGwgY29ubmVjdFxuICAgICQoJy5nb2xkZW5iYWxsJykuZWFjaCgoaW5kZXgsIGdvbGRlbmJhbGwpID0+IHtcbiAgICAgIGNvbnN0IGdvbGQgPSB7XG4gICAgICAgIHg6ICQoZ29sZGVuYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICB5OiAkKGdvbGRlbmJhbGwpLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICB3aWR0aDogJChnb2xkZW5iYWxsKS53aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6ICQoZ29sZGVuYmFsbCkuaGVpZ2h0KClcbiAgICAgIH07XG5cbiAgICAgIGlmIChpc0dvbGRDb2xsaWRlUDEoYSwgZ29sZCkpIHtcbiAgICAgICAgJCgnI3AxQ291bnRlcicpLmh0bWwoZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgcmV0dXJuICt2YWwrMTA7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGdvbGRlbmJhbGwpLnJlbW92ZSgpO1xuICAgICAgICBwMXNjb3JlLnB1c2goJ2JhbGwnLCAnYmFsbDInLCAnYmFsbDMnLCAnYmFsbDQnLCAnYmFsbDUnLCAnYmFsbDYnLCAnYmFsbDcnLCAnYmFsbDgnLCAnYmFsbDknLCAnYmFsbDEwJyk7XG4gICAgICAgIGlmKCFtdXRlKWF1ZGlvR29sZC5wbGF5KCk7XG5cbiAgICAgIH1cblxuICAgICAgaWYgKGlzR29sZENvbGxpZGVQMihjLCBnb2xkKSkge1xuICAgICAgICAkKCcjcDJDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICByZXR1cm4gK3ZhbCsxMDtcbiAgICAgICAgfSk7XG4gICAgICAgICQoZ29sZGVuYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgIHAyc2NvcmUucHVzaCgnYmFsbCcsICdiYWxsMicsICdiYWxsMycsICdiYWxsNCcsICdiYWxsNScsICdiYWxsNicsICdiYWxsNycsICdiYWxsOCcsICdiYWxsOScsICdiYWxsMTAnKTtcbiAgICAgICAgaWYoIW11dGUpYXVkaW9Hb2xkLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuXG5cbiAgICAvLyBib3ggbW92ZW1lbnQgY29udHJvbGxzXG4gICAgYm94UDEuY3NzKHtcbiAgICAgIGxlZnQ6IGZ1bmN0aW9uKGksdikge1xuICAgICAgICByZXR1cm4gbmV3TG9jYXRpb25QMSh2LCA2NSwgNjgpO1xuICAgICAgfSxcbiAgICAgIHRvcDogZnVuY3Rpb24oaSx2KSB7XG4gICAgICAgIHJldHVybiBuZXdMb2NhdGlvblAxKHYsIDg3LCA4Myk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYm94UDIuY3NzKHtcbiAgICAgIGxlZnQ6IGZ1bmN0aW9uKGksdikge1xuICAgICAgICByZXR1cm4gbmV3TG9jYXRpb25QMih2LCAzNywgMzkpO1xuICAgICAgfSxcbiAgICAgIHRvcDogZnVuY3Rpb24oaSx2KSB7XG4gICAgICAgIHJldHVybiBuZXdMb2NhdGlvblAyKHYsIDM4LCA0MCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG5cblxuICAkKHdpbmRvdykua2V5dXAoZnVuY3Rpb24oZSkge1xuICAgIGRbZS53aGljaF0gPSBmYWxzZTtcbiAgfSk7XG5cbiAgLy9jaGVja2luZyBmb3Igd2lubm5lciBmdW5jdGlvblxuICBmdW5jdGlvbiBjaGVja1dpbm5lcigpIHtcbiAgICBpZiAocDFzY29yZS5sZW5ndGggPiBwMnNjb3JlLmxlbmd0aCl7XG4gICAgICAkKCcuc2hvd1dpbm5lcicpLnRleHQoJ1BsYXllciBPbmUgV2lucycpO1xuICAgIH0gZWxzZSBpZiAocDFzY29yZS5sZW5ndGggPCBwMnNjb3JlLmxlbmd0aCkge1xuICAgICAgJCgnLnNob3dXaW5uZXInKS50ZXh0KCdQbGF5ZXIgVHdvIFdpbnMnKTtcbiAgICB9IGVsc2UgJCgnLnNob3dXaW5uZXInKS50ZXh0KCdJdFxcJ3MgYSBkcmF3Jyk7XG4gIH1cblxuXG4gIGxldCB0aW1lTGVmdCA9IChnYW1lVGltZSAvIDEwMDApO1xuICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50RG93blRpbWVyJyk7XG4gIGNvbnN0IHRpbWVySWQgPSBzZXRJbnRlcnZhbChjb3VudGRvd24sIDEwMDApO1xuICBmdW5jdGlvbiBjb3VudGRvd24oKSB7XG4gICAgaWYgKHRpbWVMZWZ0ID09PSAwKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAkKCcuZ2FtZVNjcmVlbicpLnJlbW92ZSgpO1xuICAgICAgJCgnI2dhbWVPdmVyRGl2JykucmVtb3ZlQ2xhc3MoJ25vc2hvdycpO1xuICAgICAgY2hlY2tXaW5uZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5pbm5lckhUTUwgPSB0aW1lTGVmdCArICcgc2Vjb25kcyByZW1haW5pbmcnO1xuICAgICAgdGltZUxlZnQtLTtcbiAgICB9XG4gIH1cblxufSk7XG4iXX0=

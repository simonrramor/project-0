"use strict";$(function(){var t=$("#gameBoard"),e=$(".boxP1"),i=$(".boxP2"),n=t.width()-e.width(),o=t.height()-i.height(),a={},h=20,l=[],r=[],d=200,u=200,c=30,p=2,s=!1,g=$("audio")[0],f=$("audio")[1],m=$("audio")[2],x=$("audio")[3],y=$("audio")[4],w=$("audio")[5],v=6e4;!function(){$("input[type=range]").eq(0).on("change",function(t){v=$(t.target).val(),console.log("gametime is now ",v),$(".value").text("Your game will last "+v/1e3+" seconds")})}();var b=!1;$(".icon1").click(function(){!1===b?($("#popupBackground").fadeIn("fast","swing"),b=!0):!0===b&&($("#popupBackground").fadeOut("fast","swing"),b=!1)}),$("#popupBackground").hide(),$(".icon1").each(function(){$(this).data("original",$(this).html())}).on("click",function(){$(this).toggleClass("clicked").html(function(t,e){var i=$(this).data("original");return e===i?'<i class="fa fa-times-circle" aria-hidden="true"></i>':i})}),$("#mute-button").on("click",function(){s=!s}),$("#mute-button").each(function(){$(this).data("original",$(this).html())}).on("click",function(){$(this).toggleClass("clicked").html(function(t,e){var i=$(this).data("original");return e===i?'<i class="fa fa-volume-off" aria-hidden="true"></i>':i})}),$("#start").click(function(){function t(t,e,i){var l=parseInt(t,10)-(a[e]?h:0)+(a[i]?h:0);return 65===e?l<0?0:l>n?n:l:87===e?l<0?0:l>o?o:l:void 0}function b(t,e,i){var l=parseInt(t,10)-(a[e]?h:0)+(a[i]?h:0);return 37===e?l<0?0:l>n?n:l:38===e?l<0?0:l>o?o:l:void 0}function B(){for(var t=1;t<p;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),i=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="goldenball"></div>').css({left:e+"px",top:i+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++,s||y.play()}}function k(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function C(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function M(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function I(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function T(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function F(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function P(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function W(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function O(){l.length>r.length?$(".showWinner").text("Player One Wins"):l.length<r.length?$(".showWinner").text("Player Two Wins"):$(".showWinner").text("It's a draw")}function D(){q.innerHTML=S+" seconds remaining",0===--S&&(clearTimeout(A),$(".gameScreen").remove(),$("#gameOverDiv").removeClass("noshow"),O(),s||w.play())}$("#welcomePage").hide(),$(".gameScreen").removeAttr("id","hidden"),function(){for(var t=1;t<d;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),i=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="ball"</div>').css({left:e+"px",top:i+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),function(){for(var t=1;t<c;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),i=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="bigBall"></div>').css({left:e+"px",top:i+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),function(){for(var t=1;t<u;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),i=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="badball"></div>').css({left:e+"px",top:i+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),setTimeout(function(){B()},Math.floor(Math.random()*(v-1e4))),$(window).keydown(function(n){a[n.which]=!0;var o={x:e.position().left,y:e.position().top,width:e.width(),height:e.height()},h={x:i.position().left,y:i.position().top,width:i.width(),height:i.height()};$(".badball").each(function(t,e){var i={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};M(o,i)&&($("#p1Counter").html(function(t,e){return e-1}),$(e).remove(),l.pop(),s||m.play()),I(h,i)&&($("#p2Counter").html(function(t,e){return e-1}),$(e).remove(),r.pop(),s||m.play())}),$(".ball").each(function(t,e){var i={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};k(o,i)&&($("#p1Counter").html(function(t,e){return+e+1}),$(e).remove(),l.push("ball"),s||g.play()),C(h,i)&&($("#p2Counter").html(function(t,e){return+e+1}),$(e).remove(),r.push("ball"),s||g.play())}),$(".bigBall").each(function(t,e){var i={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};T(o,i)&&($("#p1Counter").html(function(t,e){return+e+2}),$(e).remove(),l.push("ball","ball2"),s||f.play()),F(h,i)&&($("#p2Counter").html(function(t,e){return+e+2}),$(e).remove(),r.push("ball","ball2"),s||f.play())}),$(".goldenball").each(function(t,e){var i={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};P(o,i)&&($("#p1Counter").html(function(t,e){return+e+10}),$(e).remove(),l.push("ball","ball2","ball3","ball4","ball5","ball6","ball7","ball8","ball9","ball10"),s||x.play()),W(h,i)&&($("#p2Counter").html(function(t,e){return+e+10}),$(e).remove(),r.push("ball","ball2","ball3","ball4","ball5","ball6","ball7","ball8","ball9","ball10"),s||x.play())}),e.css({left:function(e,i){return t(i,65,68)},top:function(e,i){return t(i,87,83)}}),i.css({left:function(t,e){return b(e,37,39)},top:function(t,e){return b(e,38,40)}})}),$(window).keyup(function(t){a[t.which]=!1});var S=v/1e3,q=document.getElementById("countDownTimer"),A=setInterval(D,1e3)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2FtZUJvYXJkIiwiYm94UDEiLCJib3hQMiIsIndpZHRoIiwiaGVpZ2h0IiwiZCIsIngiLCJwMXNjb3JlIiwicDJzY29yZSIsIm51bU9mR29vZERvdHMiLCJudW1PZkJhZERvdHMiLCJudW1PZkJpZ0RvdHMiLCJtdXRlIiwiYXVkaW8iLCJhdWRpb0JpZyIsImF1ZGlvRXJyb3IiLCJhdWRpb0dvbGQiLCJnb2xkZW50ZXJzIiwiYXVkaW9lbmQiLCJlcSIsIm9uIiwiZSIsImdhbWVUaW1lIiwidGFyZ2V0IiwidmFsIiwiY29uc29sZSIsImxvZyIsInRleHQiLCJoZWxwIiwiY2xpY2siLCJmYWRlSW4iLCJmYWRlT3V0IiwiaGlkZSIsImVhY2giLCJ0aGlzIiwiZGF0YSIsImh0bWwiLCJ0b2dnbGVDbGFzcyIsIl8iLCJvcmciLCJuIiwidiIsImEiLCJiIiwicGFyc2VJbnQiLCJjb3VudCIsImRpdnNpemUiLCJwb3N5IiwiTWF0aCIsInJhbmRvbSIsInRvRml4ZWQiLCIkbmV3R29sZERpdiIsImNzcyIsImxlZnQiLCJ0b3AiLCJjbG9uZSIsImRlbGF5IiwicGxheSIsImlzQ29sbGlkZVAxIiwieSIsImMiLCJpc0JhZENvbGxpZGVQMSIsImlzQmFkQ29sbGlkZVAyIiwiaXNCaWdDb2xsaWRlUDEiLCJzIiwiaXNHb2xkQ29sbGlkZVAxIiwid2luZG93Iiwia2V5ZG93biIsIndoaWNoIiwiYmlnIiwicG9zaXRpb24iLCJpc0JpZ0NvbGxpZGVQMiIsImJhZGJhbGwiLCJnb2xkIiwiaXNHb2xkQ29sbGlkZVAyIiwiY2hlY2tXaW5uZXIiLCJsZW5ndGgiLCJjb3VudGRvd24iLCJlbGVtIiwiaW5uZXJIVE1MIiwidGltZUxlZnQiLCJjbGVhclRpbWVvdXQiLCJ0aW1lcklkIiwicmVtb3ZlIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmVBdHRyIiwiJG5ld2RpdiIsInBvc3giLCIkbmV3QmlnZGl2IiwiJG5ld0JhZGRpdiIsIm1ha2VHb2xkRGl2IiwiZmxvb3IiLCJiYWxsIiwiaW5kZXgiLCJpc0NvbGxpZGVQMiIsImkiLCJwb3AiLCJiaWdiYWxsIiwiZ29sZGVuYmFsbCIsInB1c2giLCJuZXdMb2NhdGlvblAxIiwibmV3TG9jYXRpb25QMiIsImtleXVwIiwiZ2V0RWxlbWVudEJ5SWQiLCJzZXRJbnRlcnZhbCIsImRvY3VtZW50Il0sIm1hcHBpbmdzIjoiWUFBQUEsR0FBRSxXQUdBLEdBQU1DLEdBQVlELEVBQUUsY0FBZEMsRUFBQUEsRUFBWUQsVUFDWEUsRUFBVUYsRUFBQSxVQUNWRyxFQUFVRixFQUFqQkcsUUFBQUYsRUFBQUUsUUFDT0EsRUFBUUgsRUFBVUcsU0FBVUYsRUFBQUcsU0FDNUJBLEtBQ0FDLEVBQVAsR0FDT0MsS0FDREMsS0FDQUMsRUFBTixJQUNNQyxFQUFnQixJQUNoQkMsRUFBZSxHQUNmQyxFQUFOLEVBRUFDLEdBQUEsRUFDSUEsRUFBT2IsRUFBWCxTQUFBLEdBQ01jLEVBQVVkLEVBQUEsU0FBaEIsR0FDTWUsRUFBYWYsRUFBQSxTQUFuQixHQUNNZ0IsRUFBYWhCLEVBQUUsU0FBRixHQUNiaUIsRUFBY2pCLEVBQUEsU0FBcEIsR0FDTWtCLEVBQWFsQixFQUFFLFNBQVMsR0FDeEJtQixFQUFXbkIsS0FLRyxXQUNsQkEsRUFBRSxxQkFBcUJvQixHQUFHLEdBQUdDLEdBQUcsU0FBVSxTQUFBQyxHQUN4Q0MsRUFBV3ZCLEVBQUVzQixFQUFFRSxRQUFRQyxNQUN2QkMsUUFBUUMsSUFBSSxtQkFBb0JKLEdBQ2hDdkIsRUFBRSxVQUFVNEIsS0FBSyx1QkFBMEJMLEVBQVcsSUFBUSxnQkFNbEUsSUFBSU0sSUFBTyxDQUNYN0IsR0FBRSxVQUFVOEIsTUFBTSxZQUNILElBQVRELEdBQ0Y3QixFQUFFLG9CQUFvQitCLE9BQU8sT0FBUSxTQUNyQ0YsR0FBTyxJQUNXLElBQVRBLElBQ1Q3QixFQUFFLG9CQUFvQmdDLFFBQVEsT0FBUSxTQUN0Q0gsR0FBTyxLQUtYN0IsRUFBRSxvQkFBb0JpQyxPQUN0QmpDLEVBQUUsVUFBVWtDLEtBQUss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LEdBQUksU0FPbEMxQyxFQUFFbUUsUUFBUW9DLE1BQU0sU0FBU2pGLEdBQ3ZCaEIsRUFBRWdCLEVBQUUrQyxRQUFTLEdBYWYsSUFBSVksR0FBWTFELEVBQVcsSUFDckJ3RCxFQUFPMkIsU0FBU0YsZUFBZSxrQkFDL0JyQixFQUFVc0IsWUFBWTNCLEVBQVciLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgoKSA9PiB7XG5cblxuICBjb25zdCBnYW1lQm9hcmQgPSAkKCcjZ2FtZUJvYXJkJyk7XG4gIGNvbnN0ICBib3hQMSA9ICQoJy5ib3hQMScpO1xuICBjb25zdCAgYm94UDIgPSAkKCcuYm94UDInKTtcbiAgY29uc3QgIHdpZHRoID0gZ2FtZUJvYXJkLndpZHRoKCkgLSBib3hQMS53aWR0aCgpO1xuICBjb25zdCAgaGVpZ2h0ID0gZ2FtZUJvYXJkLmhlaWdodCgpIC0gYm94UDIuaGVpZ2h0KCk7XG4gIGNvbnN0ICBkID0ge307XG4gIGNvbnN0ICB4ID0gMjAgO1xuICBjb25zdCBwMXNjb3JlID0gW107XG4gIGNvbnN0IHAyc2NvcmUgPSBbXTtcbiAgY29uc3QgbnVtT2ZHb29kRG90cyA9IDIwMDtcbiAgY29uc3QgbnVtT2ZCYWREb3RzID0gMjAwO1xuICBjb25zdCBudW1PZkJpZ0RvdHMgPSAzMDtcbiAgY29uc3QgbnVtT2ZHb2xkRG90cyA9IDI7XG4gIC8vIGNvbnN0IGdhbWVUaW1lID0gMzAwMDA7IC8vIGluIG1pbGlzZWNvbmRzXG4gIGxldCBtdXRlID0gZmFsc2U7XG4gIGNvbnN0IGF1ZGlvID0gJCgnYXVkaW8nKVswXTtcbiAgY29uc3QgYXVkaW9CaWcgPSAkKCdhdWRpbycpWzFdO1xuICBjb25zdCBhdWRpb0Vycm9yID0gJCgnYXVkaW8nKVsyXTtcbiAgY29uc3QgYXVkaW9Hb2xkID0gJCgnYXVkaW8nKVszXTtcbiAgY29uc3QgZ29sZGVudGVycyA9ICQoJ2F1ZGlvJylbNF07XG4gIGNvbnN0IGF1ZGlvZW5kID0gJCgnYXVkaW8nKVs1XTtcbiAgbGV0IGdhbWVUaW1lID0gNjAwMDA7XG5cblxuICAvL3JhbmdlIHNsaWRlciBzdHVmZiB0byBjaG9vc2UgdGltZVxuICBjb25zdCByYW5nZVNsaWRlciA9IGZ1bmN0aW9uKCl7XG4gICAgJCgnaW5wdXRbdHlwZT1yYW5nZV0nKS5lcSgwKS5vbignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIGdhbWVUaW1lID0gJChlLnRhcmdldCkudmFsKCk7XG4gICAgICBjb25zb2xlLmxvZygnZ2FtZXRpbWUgaXMgbm93ICcsIGdhbWVUaW1lKTtcbiAgICAgICQoJy52YWx1ZScpLnRleHQoJ1lvdXIgZ2FtZSB3aWxsIGxhc3QgJyArIChnYW1lVGltZSAvIDEwMDApICsgJyBzZWNvbmRzJyk7XG4gICAgfSk7XG4gIH07XG4gIHJhbmdlU2xpZGVyKCk7XG5cbiAgLy9oZWxwIGljb25cbiAgbGV0IGhlbHAgPSBmYWxzZTtcbiAgJCgnLmljb24xJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICBpZiAoaGVscCA9PT0gZmFsc2Upe1xuICAgICAgJCgnI3BvcHVwQmFja2dyb3VuZCcpLmZhZGVJbignZmFzdCcsICdzd2luZycpO1xuICAgICAgaGVscCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChoZWxwID09PSB0cnVlKXtcbiAgICAgICQoJyNwb3B1cEJhY2tncm91bmQnKS5mYWRlT3V0KCdmYXN0JywgJ3N3aW5nJyk7XG4gICAgICBoZWxwID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICAvLyBpbnN0cnVjdGlvbnMgYnV0dG9uIHRvZ2dsZVxuICAkKCcjcG9wdXBCYWNrZ3JvdW5kJykuaGlkZSgpO1xuICAkKCcuaWNvbjEnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykuZGF0YSgnb3JpZ2luYWwnLCAkKHRoaXMpLmh0bWwoKSk7XG4gIH0pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2NsaWNrZWQnKS5odG1sKGZ1bmN0aW9uKF8sIGh0bWwpIHtcbiAgICAgIHZhciBvcmcgPSAkKHRoaXMpLmRhdGEoJ29yaWdpbmFsJyk7XG4gICAgICByZXR1cm4gaHRtbCA9PT0gb3JnID8gJzxpIGNsYXNzPVwiZmEgZmEtdGltZXMtY2lyY2xlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicgOiBvcmc7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vTVVURSBUT0dHTEUgT04gQU5EIE9GRlxuICAkKCcjbXV0ZS1idXR0b24nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgbXV0ZSA9ICFtdXRlO1xuICB9KTtcbiAgLy9NVVRFIFRPR0dMRSBCVVRUT04gU1RZTEUgT04gQU5EIE9GRlxuICAkKCcjbXV0ZS1idXR0b24nKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykuZGF0YSgnb3JpZ2luYWwnLCAkKHRoaXMpLmh0bWwoKSk7XG4gIH0pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2NsaWNrZWQnKS5odG1sKGZ1bmN0aW9uKF8sIGh0bWwpIHtcbiAgICAgIHZhciBvcmcgPSAkKHRoaXMpLmRhdGEoJ29yaWdpbmFsJyk7XG4gICAgICByZXR1cm4gaHRtbCA9PT0gb3JnID8gJzxpIGNsYXNzPVwiZmEgZmEtdm9sdW1lLW9mZlwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nIDogb3JnO1xuICAgIH0pO1xuICB9KTtcblxuICAvL1NUQVJUUyBXSE9MRSBHQU1FISEhXG4gICQoJyNzdGFydCcpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgJCggJyN3ZWxjb21lUGFnZScgKS5oaWRlKCk7XG4gICAgJCgnLmdhbWVTY3JlZW4nKS5yZW1vdmVBdHRyKCdpZCcsICdoaWRkZW4nKTtcblxuXG4gICAgLy8gdiA9IG9yZ2luaW5hbCB2YWx1ZS5cbiAgICAvLyBhLGIgPSBkaXJlY3Rpb25cbiAgICAvLyBkIGlzIG9iamVjdCBob2xkaW5nIHRydWUgb3IgZmFzZSBhYm91dCBrZXkgcHJlc3NcbiAgICAvLyBwYXJzZUludCB0dXJucyBweCBpbnRvIEludCBpc2luZyAxMCBvciBzb21ldGhpbmcgcmFkaXggc3R1ZmZcbiAgICAvLyBuID0gY2hlY2sgZm9yIHZhbGlkIG1vdmVtZW50XG4gICAgLy8geCA9IHBpeGFsIGp1bXBcblxuICAgIGZ1bmN0aW9uIG5ld0xvY2F0aW9uUDEodixhLGIpIHtcbiAgICAgIGNvbnN0IG4gPSBwYXJzZUludCh2LCAxMCkgLSAoZFthXSA/IHggOiAwKSArIChkW2JdID8geCA6IDApO1xuICAgICAgaWYgKGEgPT09IDY1KSByZXR1cm4gICBuIDwgMCA/IDAgOiBuID4gd2lkdGggPyB3aWR0aCA6IG47XG4gICAgICBpZiAoYSA9PT0gODcpIHJldHVybiBuIDwgMCA/IDAgOiBuID4gaGVpZ2h0ID8gaGVpZ2h0IDogbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbmV3TG9jYXRpb25QMih2LGEsYikge1xuICAgICAgY29uc3QgbiA9IHBhcnNlSW50KHYsIDEwKSAtIChkW2FdID8geCA6IDApICsgKGRbYl0gPyB4IDogMCk7XG4gICAgICBpZiAoYSA9PT0gMzcpIHJldHVybiBuIDwgMCA/IDAgOiBuID4gd2lkdGggPyB3aWR0aCA6IG47XG4gICAgICBpZiAoYSA9PT0gMzgpIHJldHVybiBuIDwgMCA/IDAgOiBuID4gaGVpZ2h0ID8gaGVpZ2h0IDogbjtcbiAgICB9XG5cbiAgICAvLyBBRERTIFJBTkRPTSBBTU9VTlQgT0YgQkxVRSAoMVBUKSBET1RTIElOVE8gVEhFIEdBTUUgQk9BUkRcbiAgICBtYWtlRGl2KCk7XG4gICAgZnVuY3Rpb24gbWFrZURpdigpIHtcbiAgICAgIHZhciAgY291bnQgPSAxO1xuICAgICAgd2hpbGUgKGNvdW50IDwgbnVtT2ZHb29kRG90cyl7XG4gICAgICAgIGNvbnN0IGRpdnNpemUgPSAyMDtcbiAgICAgICAgY29uc3QgcG9zeCA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS53aWR0aCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgICAgdmFyIHBvc3kgPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykuaGVpZ2h0KCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgICBjb25zdCAkbmV3ZGl2ID0gJCgnPGRpdiBjbGFzcz1cImJhbGxcIjwvZGl2PicpLmNzcyh7XG4gICAgICAgICAgJ2xlZnQnOiBwb3N4ICsgJ3B4JyxcbiAgICAgICAgICAndG9wJzogcG9zeSArICdweCdcbiAgICAgICAgfSk7XG4gICAgICAgICRuZXdkaXYuYXBwZW5kVG8oJyNnYW1lQm9hcmQnKS5jbG9uZSgpLmRlbGF5KDIwMDApLmZhZGVJbigxMDApO1xuICAgICAgICBjb3VudCArKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL0FERFMgUkFORE9NIEFNT1VOVCBPRiBHUkVFTiAoMnB0KSBET1RTIElOVE8gVEhFIEdBTUUgQk9BUkRcbiAgICBtYWtlQmlnRGl2KCk7XG4gICAgZnVuY3Rpb24gbWFrZUJpZ0RpdigpIHtcbiAgICAgIHZhciAgY291bnQgPSAxO1xuICAgICAgd2hpbGUgKGNvdW50IDwgbnVtT2ZCaWdEb3RzKXtcbiAgICAgICAgY29uc3QgZGl2c2l6ZSA9IDIwO1xuICAgICAgICBjb25zdCBwb3N4ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLndpZHRoKCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgICB2YXIgcG9zeSA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS5oZWlnaHQoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICAgIGNvbnN0ICRuZXdCaWdkaXYgPSAkKCc8ZGl2IGNsYXNzPVwiYmlnQmFsbFwiPjwvZGl2PicpLmNzcyh7XG4gICAgICAgICAgJ2xlZnQnOiBwb3N4ICsgJ3B4JyxcbiAgICAgICAgICAndG9wJzogcG9zeSArICdweCdcbiAgICAgICAgfSk7XG4gICAgICAgICRuZXdCaWdkaXYuYXBwZW5kVG8oJyNnYW1lQm9hcmQnKS5jbG9uZSgpLmRlbGF5KDIwMDApLmZhZGVJbigxMDApO1xuICAgICAgICBjb3VudCArKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBRERTIFJBTkRPTSBBTU9VTlQgT0YgUkVEICgtMVBUKSBET1RTIElOVE8gVEhFIEdBTUUgQk9BUkRcbiAgICBtYWtlQmFkRGl2KCk7XG4gICAgZnVuY3Rpb24gbWFrZUJhZERpdigpIHtcbiAgICAgIHZhciAgY291bnQgPSAxO1xuICAgICAgd2hpbGUgKGNvdW50IDwgbnVtT2ZCYWREb3RzKXtcbiAgICAgICAgY29uc3QgZGl2c2l6ZSA9IDIwO1xuICAgICAgICBjb25zdCBwb3N4ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLndpZHRoKCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgICB2YXIgcG9zeSA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS5oZWlnaHQoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICAgIGNvbnN0ICRuZXdCYWRkaXYgPSAkKCc8ZGl2IGNsYXNzPVwiYmFkYmFsbFwiPjwvZGl2PicpLmNzcyh7XG4gICAgICAgICAgJ2xlZnQnOiBwb3N4ICsgJ3B4JyxcbiAgICAgICAgICAndG9wJzogcG9zeSArICdweCdcbiAgICAgICAgfSk7XG4gICAgICAgICRuZXdCYWRkaXYuYXBwZW5kVG8oJyNnYW1lQm9hcmQnKS5jbG9uZSgpLmRlbGF5KDIwMDApLmZhZGVJbigxMDApO1xuICAgICAgICBjb3VudCArKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBRERTIE9ORSBHT0xEIERPVCAoMTBQVCkgSU5UTyBUSEUgR0FNRSBCT0FSRCBBVCBBIFJBTkRPTS5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG1ha2VHb2xkRGl2KCk7XG4gICAgfSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGdhbWVUaW1lIC0gMTAwMDApKSk7XG4gICAgZnVuY3Rpb24gbWFrZUdvbGREaXYoKSB7XG4gICAgICB2YXIgIGNvdW50ID0gMTtcbiAgICAgIHdoaWxlIChjb3VudCA8IG51bU9mR29sZERvdHMpe1xuICAgICAgICBjb25zdCBkaXZzaXplID0gMjA7XG4gICAgICAgIGNvbnN0IHBvc3ggPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykud2lkdGgoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICAgIHZhciBwb3N5ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLmhlaWdodCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgICAgY29uc3QgJG5ld0dvbGREaXYgPSAkKCc8ZGl2IGNsYXNzPVwiZ29sZGVuYmFsbFwiPjwvZGl2PicpLmNzcyh7XG4gICAgICAgICAgJ2xlZnQnOiBwb3N4ICsgJ3B4JyxcbiAgICAgICAgICAndG9wJzogcG9zeSArICdweCdcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAkbmV3R29sZERpdi5hcHBlbmRUbygnI2dhbWVCb2FyZCcpLmNsb25lKCkuZGVsYXkoMjAwMCkuZmFkZUluKDEwMCk7XG4gICAgICAgIGNvdW50ICsrO1xuICAgICAgICBpZighbXV0ZSlnb2xkZW50ZXJzLnBsYXkoKTtcblxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENIRUNLIEZPUiBDT0xMSURFU1xuXG4gICAgLy8gQ0hFQ0tTIEZPUiBQMSBDT0xMSURFIFdJVEggQkxVRSBET1RTXG4gICAgZnVuY3Rpb24gaXNDb2xsaWRlUDEoYSwgYikge1xuICAgICAgcmV0dXJuICEoXG4gICAgICAgICgoYS55ICsgYS5oZWlnaHQpIDwgKGIueSkpIHx8XG4gICAgICAgIChhLnkgPiAoYi55ICsgYi5oZWlnaHQpKSB8fFxuICAgICAgICAoKGEueCArIGEud2lkdGgpIDwgYi54KSB8fFxuICAgICAgICAoYS54ID4gKGIueCArIGIud2lkdGgpKVxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gQ0hFQ0tTIEZPUiBQMiBDT0xMSURFIFdJVEggQkxVRSBET1RTXG4gICAgZnVuY3Rpb24gaXNDb2xsaWRlUDIoYywgYikge1xuICAgICAgcmV0dXJuICEoXG4gICAgICAgICgoYy55ICsgYy5oZWlnaHQpIDwgKGIueSkpIHx8XG4gICAgICAgIChjLnkgPiAoYi55ICsgYi5oZWlnaHQpKSB8fFxuICAgICAgICAoKGMueCArIGMud2lkdGgpIDwgYi54KSB8fFxuICAgICAgICAoYy54ID4gKGIueCArIGIud2lkdGgpKVxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gQ0hFQ0tTIEZPUiBQMSBDT0xMSURFIFdJVEggUkVEIERPVFNcbiAgICBmdW5jdGlvbiBpc0JhZENvbGxpZGVQMShhLCBzKSB7XG4gICAgICByZXR1cm4gIShcbiAgICAgICAgKChhLnkgKyBhLmhlaWdodCkgPCAocy55KSkgfHxcbiAgICAgICAgKGEueSA+IChzLnkgKyBzLmhlaWdodCkpIHx8XG4gICAgICAgICgoYS54ICsgYS53aWR0aCkgPCBzLngpIHx8XG4gICAgICAgIChhLnggPiAocy54ICsgcy53aWR0aCkpXG4gICAgICApO1xuICAgIH1cbiAgICAvLyBDSEVDS1MgRk9SIFAyIENPTExJREUgV0lUSCBSRUQgRE9UU1xuICAgIGZ1bmN0aW9uIGlzQmFkQ29sbGlkZVAyKGMsIHMpIHtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICAoKGMueSArIGMuaGVpZ2h0KSA8IChzLnkpKSB8fFxuICAgICAgICAoYy55ID4gKHMueSArIHMuaGVpZ2h0KSkgfHxcbiAgICAgICAgKChjLnggKyBjLndpZHRoKSA8IHMueCkgfHxcbiAgICAgICAgKGMueCA+IChzLnggKyBzLndpZHRoKSlcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIENIRUNLUyBGT1IgUDEgQ09MTElERSBXSVRIIEdSRUVOIERPVFNcbiAgICBmdW5jdGlvbiBpc0JpZ0NvbGxpZGVQMShhLCBiaWcpIHtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICAoKGEueSArIGEuaGVpZ2h0KSA8IChiaWcueSkpIHx8XG4gICAgICAgIChhLnkgPiAoYmlnLnkgKyBiaWcuaGVpZ2h0KSkgfHxcbiAgICAgICAgKChhLnggKyBhLndpZHRoKSA8IGJpZy54KSB8fFxuICAgICAgICAoYS54ID4gKGJpZy54ICsgYmlnLndpZHRoKSlcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIENIRUNLUyBGT1IgUDIgQ09MTElERSBXSVRIIEdSRUVOIERPVFNcbiAgICBmdW5jdGlvbiBpc0JpZ0NvbGxpZGVQMihjLCBiaWcpIHtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICAoKGMueSArIGMuaGVpZ2h0KSA8IChiaWcueSkpIHx8XG4gICAgICAgIChjLnkgPiAoYmlnLnkgKyBiaWcuaGVpZ2h0KSkgfHxcbiAgICAgICAgKChjLnggKyBjLndpZHRoKSA8IGJpZy54KSB8fFxuICAgICAgICAoYy54ID4gKGJpZy54ICsgYmlnLndpZHRoKSlcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIENIRUNLUyBGT1IgUDEgQ09MTElERSBXSVRIIEdPTEQgRE9UU1xuICAgIGZ1bmN0aW9uIGlzR29sZENvbGxpZGVQMShhLCBnb2xkKSB7XG4gICAgICByZXR1cm4gIShcbiAgICAgICAgKChhLnkgKyBhLmhlaWdodCkgPCAoZ29sZC55KSkgfHxcbiAgICAgICAgKGEueSA+IChnb2xkLnkgKyBnb2xkLmhlaWdodCkpIHx8XG4gICAgICAgICgoYS54ICsgYS53aWR0aCkgPCBnb2xkLngpIHx8XG4gICAgICAgIChhLnggPiAoZ29sZC54ICsgZ29sZC53aWR0aCkpXG4gICAgICApO1xuICAgIH1cbiAgICAvLyBDSEVDS1MgRk9SIFAyIENPTExJREUgV0lUSCBHT0xEIERPVFNcbiAgICBmdW5jdGlvbiBpc0dvbGRDb2xsaWRlUDIoYywgZ29sZCkge1xuICAgICAgcmV0dXJuICEoXG4gICAgICAgICgoYy55ICsgYy5oZWlnaHQpIDwgKGdvbGQueSkpIHx8XG4gICAgICAgIChjLnkgPiAoZ29sZC55ICsgZ29sZC5oZWlnaHQpKSB8fFxuICAgICAgICAoKGMueCArIGMud2lkdGgpIDwgZ29sZC54KSB8fFxuICAgICAgICAoYy54ID4gKGdvbGQueCArIGdvbGQud2lkdGgpKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBDSEVDS1MgRk9SIE1PVkVNRU5UXG4gICAgJCh3aW5kb3cpLmtleWRvd24oZnVuY3Rpb24oZSkge1xuICAgICAgZFtlLndoaWNoXSA9IHRydWU7XG4gICAgICAvLyBDSEVDS1MgRk9SIFAxIE1PVkVNRU5UXG4gICAgICBjb25zdCBhID0ge1xuICAgICAgICB4OiBib3hQMS5wb3NpdGlvbigpLmxlZnQsXG4gICAgICAgIHk6IGJveFAxLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICB3aWR0aDogYm94UDEud2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBib3hQMS5oZWlnaHQoKVxuICAgICAgfTtcbiAgICAgIC8vIENIRUNLUyBGT1IgUDIgTU9WRU1FTlRcbiAgICAgIGNvbnN0IGMgPSB7XG4gICAgICAgIHg6IGJveFAyLnBvc2l0aW9uKCkubGVmdCxcbiAgICAgICAgeTogYm94UDIucG9zaXRpb24oKS50b3AsXG4gICAgICAgIHdpZHRoOiBib3hQMi53aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6IGJveFAyLmhlaWdodCgpXG4gICAgICB9O1xuXG5cbi8vIFBPU0lUSU9OIE9GIFJFRCBET1RTXG4gICAgICAkKCcuYmFkYmFsbCcpLmVhY2goKGluZGV4LCBiYWRiYWxsKSA9PiB7XG4gICAgICAgIGNvbnN0IHMgPSB7XG4gICAgICAgICAgeDogJChiYWRiYWxsKS5wb3NpdGlvbigpLmxlZnQsXG4gICAgICAgICAgeTogJChiYWRiYWxsKS5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICB3aWR0aDogJChiYWRiYWxsKS53aWR0aCgpLFxuICAgICAgICAgIGhlaWdodDogJChiYWRiYWxsKS5oZWlnaHQoKVxuICAgICAgICB9O1xuLy8gV0hBVCBUTyBETyBJRiBQMSBISVRTIEJBRCBET1RcbiAgICAgICAgaWYgKGlzQmFkQ29sbGlkZVAxKGEsIHMpKSB7XG4gICAgICAgICAgJCgnI3AxQ291bnRlcicpLmh0bWwoZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsLTE7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChiYWRiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBwMXNjb3JlLnBvcCgpO1xuICAgICAgICAgIGlmKCFtdXRlKWF1ZGlvRXJyb3IucGxheSgpO1xuICAgICAgICB9XG4vLyBXSEFUIFRPIERPIElGIFAyIEhJVFMgQkFEIERPVFxuICAgICAgICBpZiAoaXNCYWRDb2xsaWRlUDIoYywgcykpIHtcbiAgICAgICAgICAkKCcjcDJDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwtMTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkKGJhZGJhbGwpLnJlbW92ZSgpO1xuICAgICAgICAgIHAyc2NvcmUucG9wKCk7XG4gICAgICAgICAgaWYoIW11dGUpYXVkaW9FcnJvci5wbGF5KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4vLyBQT1NJVElPTiBPRiBCTFVFIERPVFNcbiAgICAgICQoJy5iYWxsJykuZWFjaCgoaW5kZXgsIGJhbGwpID0+IHtcbiAgICAgICAgY29uc3QgYiA9IHtcbiAgICAgICAgICB4OiAkKGJhbGwpLnBvc2l0aW9uKCkubGVmdCxcbiAgICAgICAgICB5OiAkKGJhbGwpLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICAgIHdpZHRoOiAkKGJhbGwpLndpZHRoKCksXG4gICAgICAgICAgaGVpZ2h0OiAkKGJhbGwpLmhlaWdodCgpXG4gICAgICAgIH07XG4vLyBXSEFUIFRPIERPIElGIFAyIEhJVFMgQkxVRSBET1RcbiAgICAgICAgaWYgKGlzQ29sbGlkZVAxKGEsIGIpKSB7XG4gICAgICAgICAgJCgnI3AxQ291bnRlcicpLmh0bWwoZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gK3ZhbCsxO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICQoYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgICAgcDFzY29yZS5wdXNoKCdiYWxsJyk7XG4gICAgICAgICAgaWYoIW11dGUpYXVkaW8ucGxheSgpO1xuICAgICAgICB9XG4vLyBXSEFUIFRPIERPIElGIFAyIEhJVFMgQkxVRSBET1RcbiAgICAgICAgaWYgKGlzQ29sbGlkZVAyKGMsIGIpKSB7XG4gICAgICAgICAgJCgnI3AyQ291bnRlcicpLmh0bWwoZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gK3ZhbCsxO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICQoYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgICAgcDJzY29yZS5wdXNoKCdiYWxsJyk7XG4gICAgICAgICAgaWYoIW11dGUpYXVkaW8ucGxheSgpO1xuXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG5cbi8vIFBPU0lUSU9OIE9GIEdSRUVOIERPVFNcbiAgICAgICQoJy5iaWdCYWxsJykuZWFjaCgoaW5kZXgsIGJpZ2JhbGwpID0+IHtcbiAgICAgICAgY29uc3QgYmlnID0ge1xuICAgICAgICAgIHg6ICQoYmlnYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICAgIHk6ICQoYmlnYmFsbCkucG9zaXRpb24oKS50b3AsXG4gICAgICAgICAgd2lkdGg6ICQoYmlnYmFsbCkud2lkdGgoKSxcbiAgICAgICAgICBoZWlnaHQ6ICQoYmlnYmFsbCkuaGVpZ2h0KClcbiAgICAgICAgfTtcbi8vIFdIQVQgVE8gRE8gSUYgUDEgSElUUyBHUkVFTiBET1RcbiAgICAgICAgaWYgKGlzQmlnQ29sbGlkZVAxKGEsIGJpZykpIHtcbiAgICAgICAgICAkKCcjcDFDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiArdmFsKzI7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChiaWdiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBwMXNjb3JlLnB1c2goJ2JhbGwnLCAnYmFsbDInKTtcbiAgICAgICAgICBpZighbXV0ZSlhdWRpb0JpZy5wbGF5KCk7XG4gICAgICAgIH1cbi8vIFdIQVQgVE8gRE8gSUYgUDIgSElUUyBHUkVFTiBET1RcbiAgICAgICAgaWYgKGlzQmlnQ29sbGlkZVAyKGMsIGJpZykpIHtcbiAgICAgICAgICAkKCcjcDJDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiArdmFsKzI7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChiaWdiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBwMnNjb3JlLnB1c2goJ2JhbGwnLCAnYmFsbDInKTtcbiAgICAgICAgICBpZighbXV0ZSlhdWRpb0JpZy5wbGF5KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG5cbi8vIFBPU0lUSU9OIE9GIEdPTEQgRE9UU1xuICAgICAgJCgnLmdvbGRlbmJhbGwnKS5lYWNoKChpbmRleCwgZ29sZGVuYmFsbCkgPT4ge1xuICAgICAgICBjb25zdCBnb2xkID0ge1xuICAgICAgICAgIHg6ICQoZ29sZGVuYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICAgIHk6ICQoZ29sZGVuYmFsbCkucG9zaXRpb24oKS50b3AsXG4gICAgICAgICAgd2lkdGg6ICQoZ29sZGVuYmFsbCkud2lkdGgoKSxcbiAgICAgICAgICBoZWlnaHQ6ICQoZ29sZGVuYmFsbCkuaGVpZ2h0KClcbiAgICAgICAgfTtcbi8vIFdIQVQgVE8gRE8gSUYgUDEgSElUUyBHT0xEIERPVFxuICAgICAgICBpZiAoaXNHb2xkQ29sbGlkZVAxKGEsIGdvbGQpKSB7XG4gICAgICAgICAgJCgnI3AxQ291bnRlcicpLmh0bWwoZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gK3ZhbCsxMDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkKGdvbGRlbmJhbGwpLnJlbW92ZSgpO1xuICAgICAgICAgIHAxc2NvcmUucHVzaCgnYmFsbCcsICdiYWxsMicsICdiYWxsMycsICdiYWxsNCcsICdiYWxsNScsICdiYWxsNicsICdiYWxsNycsICdiYWxsOCcsICdiYWxsOScsICdiYWxsMTAnKTtcbiAgICAgICAgICBpZighbXV0ZSlhdWRpb0dvbGQucGxheSgpO1xuICAgICAgICB9XG4vLyBXSEFUIFRPIERPIElGIFAyIEhJVFMgR09MRCBET1RcbiAgICAgICAgaWYgKGlzR29sZENvbGxpZGVQMihjLCBnb2xkKSkge1xuICAgICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuICt2YWwrMTA7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChnb2xkZW5iYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBwMnNjb3JlLnB1c2goJ2JhbGwnLCAnYmFsbDInLCAnYmFsbDMnLCAnYmFsbDQnLCAnYmFsbDUnLCAnYmFsbDYnLCAnYmFsbDcnLCAnYmFsbDgnLCAnYmFsbDknLCAnYmFsbDEwJyk7XG4gICAgICAgICAgaWYoIW11dGUpYXVkaW9Hb2xkLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cblxuXG4vLyBNT1ZFTUVOVCBGVU5DVElPTlNcblxuLy8gUDEgTU9WRU1FTlRcbmJveFAxLmNzcyh7XG4gIGxlZnQ6IGZ1bmN0aW9uKGksdikge1xuICAgIHJldHVybiBuZXdMb2NhdGlvblAxKHYsIDY1LCA2OCk7XG4gIH0sXG4gIHRvcDogZnVuY3Rpb24oaSx2KSB7XG4gICAgcmV0dXJuIG5ld0xvY2F0aW9uUDEodiwgODcsIDgzKTtcbiAgfVxufSk7XG4vLyBQMiBNT1ZFTUVOVFxuICAgICAgYm94UDIuY3NzKHtcbiAgICAgICAgbGVmdDogZnVuY3Rpb24oaSx2KSB7XG4gICAgICAgICAgcmV0dXJuIG5ld0xvY2F0aW9uUDIodiwgMzcsIDM5KTtcbiAgICAgICAgfSxcbiAgICAgICAgdG9wOiBmdW5jdGlvbihpLHYpIHtcbiAgICAgICAgICByZXR1cm4gbmV3TG9jYXRpb25QMih2LCAzOCwgNDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuXG4vLyBXSEVOIEtFWSBJUyBOT1QgRE9XTlxuICAgICQod2luZG93KS5rZXl1cChmdW5jdGlvbihlKSB7XG4gICAgICBkW2Uud2hpY2hdID0gZmFsc2U7XG4gICAgfSk7XG5cbi8vIENIRUNLIEZPUiBXSU5ORVJcbiAgICBmdW5jdGlvbiBjaGVja1dpbm5lcigpIHtcbiAgICAgIGlmIChwMXNjb3JlLmxlbmd0aCA+IHAyc2NvcmUubGVuZ3RoKXtcbiAgICAgICAgJCgnLnNob3dXaW5uZXInKS50ZXh0KCdQbGF5ZXIgT25lIFdpbnMnKTtcbiAgICAgIH0gZWxzZSBpZiAocDFzY29yZS5sZW5ndGggPCBwMnNjb3JlLmxlbmd0aCkge1xuICAgICAgICAkKCcuc2hvd1dpbm5lcicpLnRleHQoJ1BsYXllciBUd28gV2lucycpO1xuICAgICAgfSBlbHNlICQoJy5zaG93V2lubmVyJykudGV4dCgnSXRcXCdzIGEgZHJhdycpO1xuICAgIH1cblxuLy8gR0FNRSBUSU1FUiBBTkQgRU5EXG4gICAgbGV0IHRpbWVMZWZ0ID0gKGdhbWVUaW1lIC8gMTAwMCk7XG4gICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3VudERvd25UaW1lcicpO1xuICAgIGNvbnN0IHRpbWVySWQgPSBzZXRJbnRlcnZhbChjb3VudGRvd24sIDEwMDApO1xuICAgIGZ1bmN0aW9uIGNvdW50ZG93bigpIHtcbiAgICAgIGVsZW0uaW5uZXJIVE1MID0gdGltZUxlZnQgKyAnIHNlY29uZHMgcmVtYWluaW5nJztcbiAgICAgIHRpbWVMZWZ0LS07XG4gICAgICBpZiAodGltZUxlZnQgPT09IDApIHtcblxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG5cbiAgICAgICAgJCgnLmdhbWVTY3JlZW4nKS5yZW1vdmUoKTtcbiAgICAgICAgJCgnI2dhbWVPdmVyRGl2JykucmVtb3ZlQ2xhc3MoJ25vc2hvdycpO1xuXG4gICAgICAgIGNoZWNrV2lubmVyKCk7XG4gICAgICAgIGlmKCFtdXRlKWF1ZGlvZW5kLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuLy8gRU5EXG59KTtcbiJdfQ==

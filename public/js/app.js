"use strict";$(function(){var t=$("#gameBoard"),i=$(".boxP1"),e=$(".boxP2"),o=t.width()-i.width(),n=t.height()-e.height(),a={},h=20,r=0,l=0,u=!1,c=$("audio")[0],d=$("audio")[1],s=$("audio")[2],p=$("audio")[3],f=$("audio")[4],g=$("audio")[5],m=6e4,v=20;!function(){$("input[type=range]").eq(0).on("change",function(t){m=$(t.target).val(),$(".value").text("Your game will last "+m/1e3+" seconds")})}();var w=!1;$(".icon1").click(function(){!1===w?($("#popupBackground").fadeIn("fast","swing"),w=!0):!0===w&&($("#popupBackground").fadeOut("fast","swing"),w=!1)}),$("#popupBackground").hide(),$(".icon1").each(function(){$(this).data("original",$(this).html())}).on("click",function(){$(this).toggleClass("clicked").html(function(t,i){var e=$(this).data("original");return i===e?'<i class="fa fa-times-circle" aria-hidden="true"></i>':e})}),$("#mute-button").on("click",function(){u=!u}),$("#mute-button").each(function(){$(this).data("original",$(this).html())}).on("click",function(){$(this).toggleClass("clicked").html(function(t,i){var e=$(this).data("original");return i===e?'<i class="fa fa-volume-off" aria-hidden="true"></i>':e})}),$("#start").click(function(){function t(t,i,e){var r=parseInt(t,10)-(a[i]?h:0)+(a[e]?h:0);return 65===i?r<0?0:r>o?o:r:87===i?r<0?0:r>n?n:r:void 0}function w(t,i,e){var r=parseInt(t,10)-(a[i]?h:0)+(a[e]?h:0);return 37===i?r<0?0:r>o?o:r:38===i?r<0?0:r>n?n:r:void 0}function y(t,i){for(var e=1;e<t;){var o=(Math.random()*($("#gameBoard").width()-v)).toFixed(),n=(Math.random()*($("#gameBoard").height()-v)).toFixed();$('<div class="'+i+'"</div>').css({left:o+"px",top:n+"px"}).appendTo("#gameBoard"),e++}}function x(t,i){return!(t.y+t.height<i.y||t.y>i.y+i.height||t.x+t.width<i.x||t.x>i.x+i.width)}function b(){r>l?$(".showWinner").text("Player One Wins"):r<l?$(".showWinner").text("Player Two Wins"):$(".showWinner").text("It's a draw")}function k(){B.innerHTML=C+" seconds remaining",0===--C&&(clearTimeout(I),$(".gameScreen").remove(),$("#gameOverDiv").removeClass("noshow"),b(),u||g.play())}$("#welcomePage").hide(),$(".gameScreen").removeAttr("id","hidden"),y(400,"ball"),y(100,"bigBall"),y(300,"badball"),setTimeout(function(){y(2,"goldenball"),u||f.play()},Math.floor(Math.random()*(m-1e4))),$(window).keydown(function(o){a[o.which]=!0;var n={x:i.position().left,y:i.position().top,width:i.width(),height:i.height()},h={x:e.position().left,y:e.position().top,width:e.width(),height:e.height()};$(".badball").each(function(t,i){var e={x:$(i).position().left,y:$(i).position().top,width:$(i).width(),height:$(i).height()};x(n,e)&&(r--,$("#p1Counter").html(r),$(i).remove(),u||s.play()),x(h,e)&&(l--,$("#p2Counter").html(l),$(i).remove(),u||s.play())}),$(".ball").each(function(t,i){var e={x:$(i).position().left,y:$(i).position().top,width:$(i).width(),height:$(i).height()};x(n,e)&&(r++,$("#p1Counter").html(r),$(i).remove(),u||c.play()),x(h,e)&&(l++,$("#p2Counter").html(l),$(i).remove(),u||c.play())}),$(".bigBall").each(function(t,i){var e={x:$(i).position().left,y:$(i).position().top,width:$(i).width(),height:$(i).height()};x(n,e)&&(r+=2,$("#p1Counter").html(r),$(i).remove(),u||d.play()),x(h,e)&&(l+=2,$("#p2Counter").html(l),$(i).remove(),u||d.play())}),$(".goldenball").each(function(t,i){var e={x:$(i).position().left,y:$(i).position().top,width:$(i).width(),height:$(i).height()};x(n,e)&&(r+=10,$("#p1Counter").html(r),$(i).remove(),u||p.play()),x(h,e)&&(l+=10,$("#p2Counter").html(l),$(i).remove(),u||p.play())}),i.css({left:function(i,e){return t(e,65,68)},top:function(i,e){return t(e,87,83)}}),e.css({left:function(t,i){return w(i,37,39)},top:function(t,i){return w(i,38,40)}})}),$(window).keyup(function(t){a[t.which]=!1});var C=m/1e3,B=document.getElementById("countDownTimer"),I=setInterval(k,1e3)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2FtZUJvYXJkIiwiYm94UDEiLCJib3hQMiIsIndpZHRoIiwiaGVpZ2h0IiwiZCIsIngiLCJwMVNjb3JlIiwibnVtT2ZHb2xkRG90cyIsIm11dGUiLCJhdWRpbyIsImF1ZGlvQmlnIiwiYXVkaW9FcnJvciIsImF1ZGlvR29sZCIsImdvbGRlbnRlcnMiLCJhdWRpb2VuZCIsImdhbWVUaW1lIiwiZXEiLCJvbiIsImUiLCJ0YXJnZXQiLCJ2YWwiLCJ0ZXh0IiwiaGVscCIsImNsaWNrIiwiZmFkZUluIiwiZmFkZU91dCIsImhpZGUiLCJlYWNoIiwidGhpcyIsImRhdGEiLCJodG1sIiwidG9nZ2xlQ2xhc3MiLCJfIiwib3JnIiwibiIsInYiLCJhIiwiYiIsInBhcnNlSW50IiwiY291bnQiLCJudW0iLCJjbGFzc05hbWUiLCJwb3N5IiwiTWF0aCIsInJhbmRvbSIsIiRuZXdkaXYiLCJjc3MiLCJ0b0ZpeGVkIiwicG9zeCIsImRpdnNpemUiLCJsZWZ0IiwiYXBwZW5kVG8iLCJpc0NvbGxpZGUiLCJjdWJlIiwiZG90Iiwid2luZG93Iiwia2V5ZG93biIsInkiLCJ3aGljaCIsImVsZW0iLCJ0aW1lcklkIiwic2V0SW50ZXJ2YWwiLCJpbm5lckhUTUwiLCJ0aW1lTGVmdCIsImNvdW50ZG93biIsImNsZWFyVGltZW91dCIsInJlbW92ZSIsInJlbW92ZUNsYXNzIiwiY2hlY2tXaW5uZXIiLCJwbGF5IiwicmVtb3ZlQXR0ciIsIm1ha2VEaXYiLCJzZXRUaW1lb3V0IiwiZmxvb3IiLCJwb3NpdGlvbiIsInRvcCIsInAyQ3ViZSIsInJlZERvdCIsImJhZGJhbGwiLCJwMUN1YmUiLCJwMlNjb3JlIiwiYmFsbCIsImJsdWVEb3QiLCJiaWdiYWxsIiwiaW5kZXgiLCJncmVlbkRvdCIsImdvbGREb3QiLCJnb2xkZW5iYWxsIiwibmV3TG9jYXRpb25QMSIsIm5ld0xvY2F0aW9uUDIiLCJrZXl1cCIsImkiLCJkb2N1bWVudCJdLCJtYXBwaW5n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RUFBQXdDLFFBQUEsR0FhR1UsSUFBQUEsR0FBQUEsRUFBQUEsSUFDQVQsRUFBQWlDLFNBQVM5RSxlQUFBLGtCQUNWOEMsRUFBQUMsWUFBQUcsRUFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcblxuXG4gIGNvbnN0IGdhbWVCb2FyZCA9ICQoJyNnYW1lQm9hcmQnKTtcbiAgY29uc3QgIGJveFAxID0gJCgnLmJveFAxJyk7XG4gIGNvbnN0ICBib3hQMiA9ICQoJy5ib3hQMicpO1xuICBjb25zdCAgd2lkdGggPSBnYW1lQm9hcmQud2lkdGgoKSAtIGJveFAxLndpZHRoKCk7XG4gIGNvbnN0ICBoZWlnaHQgPSBnYW1lQm9hcmQuaGVpZ2h0KCkgLSBib3hQMi5oZWlnaHQoKTtcbiAgY29uc3QgIGQgPSB7fTtcbiAgY29uc3QgIHggPSAyMCA7XG4gIGxldCBwMVNjb3JlID0gMDtcbiAgbGV0IHAyU2NvcmUgPSAwO1xuICBjb25zdCBudW1PZkdvb2REb3RzID0gNDAwO1xuICBjb25zdCBudW1PZkJhZERvdHMgPSAzMDA7XG4gIGNvbnN0IG51bU9mQmlnRG90cyA9IDEwMDtcbiAgY29uc3QgbnVtT2ZHb2xkRG90cyA9IDI7XG4gIGxldCBtdXRlID0gZmFsc2U7XG4gIGNvbnN0IGF1ZGlvID0gJCgnYXVkaW8nKVswXTtcbiAgY29uc3QgYXVkaW9CaWcgPSAkKCdhdWRpbycpWzFdO1xuICBjb25zdCBhdWRpb0Vycm9yID0gJCgnYXVkaW8nKVsyXTtcbiAgY29uc3QgYXVkaW9Hb2xkID0gJCgnYXVkaW8nKVszXTtcbiAgY29uc3QgZ29sZGVudGVycyA9ICQoJ2F1ZGlvJylbNF07XG4gIGNvbnN0IGF1ZGlvZW5kID0gJCgnYXVkaW8nKVs1XTtcbiAgbGV0IGdhbWVUaW1lID0gNjAwMDA7XG4gIGNvbnN0IGRpdnNpemUgPSAyMDtcblxuXG4gIC8vcmFuZ2Ugc2xpZGVyIHN0dWZmIHRvIGNob29zZSB0aW1lXG4gIGNvbnN0IHJhbmdlU2xpZGVyID0gZnVuY3Rpb24oKXtcbiAgICAkKCdpbnB1dFt0eXBlPXJhbmdlXScpLmVxKDApLm9uKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgZ2FtZVRpbWUgPSAkKGUudGFyZ2V0KS52YWwoKTtcbiAgICAgICQoJy52YWx1ZScpLnRleHQoJ1lvdXIgZ2FtZSB3aWxsIGxhc3QgJyArIChnYW1lVGltZSAvIDEwMDApICsgJyBzZWNvbmRzJyk7XG4gICAgfSk7XG4gIH07XG4gIHJhbmdlU2xpZGVyKCk7XG5cbiAgLy9cbiAgbGV0IGhlbHAgPSBmYWxzZTtcbiAgJCgnLmljb24xJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICBpZiAoaGVscCA9PT0gZmFsc2Upe1xuICAgICAgJCgnI3BvcHVwQmFja2dyb3VuZCcpLmZhZGVJbignZmFzdCcsICdzd2luZycpO1xuICAgICAgaGVscCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChoZWxwID09PSB0cnVlKXtcbiAgICAgICQoJyNwb3B1cEJhY2tncm91bmQnKS5mYWRlT3V0KCdmYXN0JywgJ3N3aW5nJyk7XG4gICAgICBoZWxwID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICAvLyBpbnN0cnVjdGlvbnMgYnV0dG9uIHRvZ2dsZVxuICAkKCcjcG9wdXBCYWNrZ3JvdW5kJykuaGlkZSgpO1xuICAkKCcuaWNvbjEnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykuZGF0YSgnb3JpZ2luYWwnLCAkKHRoaXMpLmh0bWwoKSk7XG4gIH0pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2NsaWNrZWQnKS5odG1sKGZ1bmN0aW9uKF8sIGh0bWwpIHtcbiAgICAgIHZhciBvcmcgPSAkKHRoaXMpLmRhdGEoJ29yaWdpbmFsJyk7XG4gICAgICByZXR1cm4gaHRtbCA9PT0gb3JnID8gJzxpIGNsYXNzPVwiZmEgZmEtdGltZXMtY2lyY2xlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicgOiBvcmc7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vTVVURSBUT0dHTEUgT04gQU5EIE9GRlxuICAkKCcjbXV0ZS1idXR0b24nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgbXV0ZSA9ICFtdXRlO1xuICB9KTtcblxuICAvL01VVEUgVE9HR0xFIEJVVFRPTiBTVFlMRSBPTiBBTkQgT0ZGXG4gICQoJyNtdXRlLWJ1dHRvbicpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS5kYXRhKCdvcmlnaW5hbCcsICQodGhpcykuaHRtbCgpKTtcbiAgfSkub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnY2xpY2tlZCcpLmh0bWwoZnVuY3Rpb24oXywgaHRtbCkge1xuICAgICAgdmFyIG9yZyA9ICQodGhpcykuZGF0YSgnb3JpZ2luYWwnKTtcbiAgICAgIHJldHVybiBodG1sID09PSBvcmcgPyAnPGkgY2xhc3M9XCJmYSBmYS12b2x1bWUtb2ZmXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicgOiBvcmc7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vU1RBUlRTIFdIT0xFIEdBTUUhISFcbiAgJCgnI3N0YXJ0JykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAkKCAnI3dlbGNvbWVQYWdlJyApLmhpZGUoKTtcbiAgICAkKCcuZ2FtZVNjcmVlbicpLnJlbW92ZUF0dHIoJ2lkJywgJ2hpZGRlbicpO1xuXG5cbiAgICAvLyB2ID0gb3JnaW5pbmFsIHZhbHVlLlxuICAgIC8vIGEsYiA9IGRpcmVjdGlvblxuICAgIC8vIGQgaXMgb2JqZWN0IGhvbGRpbmcgdHJ1ZSBvciBmYXNlIGFib3V0IGtleSBwcmVzc1xuICAgIC8vIHBhcnNlSW50IHR1cm5zIHB4IGludG8gSW50IGlzaW5nIDEwIG9yIHNvbWV0aGluZyByYWRpeCBzdHVmZlxuICAgIC8vIG4gPSBjaGVjayBmb3IgdmFsaWQgbW92ZW1lbnRcbiAgICAvLyB4ID0gcGl4YWwganVtcFxuXG4gICAgZnVuY3Rpb24gbmV3TG9jYXRpb25QMSh2LGEsYikge1xuICAgICAgY29uc3QgbiA9IHBhcnNlSW50KHYsIDEwKSAtIChkW2FdID8geCA6IDApICsgKGRbYl0gPyB4IDogMCk7XG4gICAgICBpZiAoYSA9PT0gNjUpIHJldHVybiAgIG4gPCAwID8gMCA6IG4gPiB3aWR0aCA/IHdpZHRoIDogbjtcbiAgICAgIGlmIChhID09PSA4NykgcmV0dXJuIG4gPCAwID8gMCA6IG4gPiBoZWlnaHQgPyBoZWlnaHQgOiBuO1xuICAgIH1cbiAgICBmdW5jdGlvbiBuZXdMb2NhdGlvblAyKHYsYSxiKSB7XG4gICAgICBjb25zdCBuID0gcGFyc2VJbnQodiwgMTApIC0gKGRbYV0gPyB4IDogMCkgKyAoZFtiXSA/IHggOiAwKTtcbiAgICAgIGlmIChhID09PSAzNykgcmV0dXJuIG4gPCAwID8gMCA6IG4gPiB3aWR0aCA/IHdpZHRoIDogbjtcbiAgICAgIGlmIChhID09PSAzOCkgcmV0dXJuIG4gPCAwID8gMCA6IG4gPiBoZWlnaHQgPyBoZWlnaHQgOiBuO1xuICAgIH1cblxuICAgIC8vIEFERFMgUkFORE9NIEFNT1VOVCBPRiBCTFVFICgxUFQpIERPVFMgSU5UTyBUSEUgR0FNRSBCT0FSRFxuICAgIG1ha2VEaXYobnVtT2ZHb29kRG90cywgJ2JhbGwnKTtcbiAgICBtYWtlRGl2KG51bU9mQmlnRG90cywgJ2JpZ0JhbGwnKTtcbiAgICBtYWtlRGl2KG51bU9mQmFkRG90cywgJ2JhZGJhbGwnKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG1ha2VEaXYobnVtT2ZHb2xkRG90cywgJ2dvbGRlbmJhbGwnKTtcbiAgICAgIGlmKCFtdXRlKWdvbGRlbnRlcnMucGxheSgpO1xuICAgIH0sIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChnYW1lVGltZSAtIDEwMDAwKSkpO1xuXG5cbiAgICBmdW5jdGlvbiBtYWtlRGl2KG51bSwgY2xhc3NOYW1lKSB7XG4gICAgICB2YXIgIGNvdW50ID0gMTtcbiAgICAgIHdoaWxlIChjb3VudCA8IG51bSl7XG4gICAgICAgIGNvbnN0IHBvc3ggPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykud2lkdGgoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICAgIGNvbnN0IHBvc3kgPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykuaGVpZ2h0KCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgICBjb25zdCAkbmV3ZGl2ID0gJChgPGRpdiBjbGFzcz1cIiR7Y2xhc3NOYW1lfVwiPC9kaXY+YCkuY3NzKHtcbiAgICAgICAgICAnbGVmdCc6IHBvc3ggKyAncHgnLFxuICAgICAgICAgICd0b3AnOiBwb3N5ICsgJ3B4J1xuICAgICAgICB9KTtcbiAgICAgICAgJG5ld2Rpdi5hcHBlbmRUbygnI2dhbWVCb2FyZCcpO1xuICAgICAgICBjb3VudCArKztcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vIENIRUNLUyBGT1IgUDEgQ09MTElERSBXSVRIIEJMVUUgRE9UU1xuICAgIGZ1bmN0aW9uIGlzQ29sbGlkZShjdWJlLCBkb3QpIHtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICAoKGN1YmUueSArIGN1YmUuaGVpZ2h0KSA8IChkb3QueSkpIHx8XG4gICAgICAgIChjdWJlLnkgPiAoZG90LnkgKyBkb3QuaGVpZ2h0KSkgfHxcbiAgICAgICAgKChjdWJlLnggKyBjdWJlLndpZHRoKSA8IGRvdC54KSB8fFxuICAgICAgICAoY3ViZS54ID4gKGRvdC54ICsgZG90LndpZHRoKSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ0hFQ0tTIEZPUiBNT1ZFTUVOVFxuICAgICQod2luZG93KS5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGRbZS53aGljaF0gPSB0cnVlO1xuXG4gICAgICAvLyBDSEVDS1MgRk9SIFAxIE1PVkVNRU5UXG4gICAgICBjb25zdCBwMUN1YmUgPSB7XG4gICAgICAgIHg6IGJveFAxLnBvc2l0aW9uKCkubGVmdCxcbiAgICAgICAgeTogYm94UDEucG9zaXRpb24oKS50b3AsXG4gICAgICAgIHdpZHRoOiBib3hQMS53aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6IGJveFAxLmhlaWdodCgpXG4gICAgICB9O1xuICAgICAgLy8gQ0hFQ0tTIEZPUiBQMiBNT1ZFTUVOVFxuICAgICAgY29uc3QgcDJDdWJlID0ge1xuICAgICAgICB4OiBib3hQMi5wb3NpdGlvbigpLmxlZnQsXG4gICAgICAgIHk6IGJveFAyLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICB3aWR0aDogYm94UDIud2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBib3hQMi5oZWlnaHQoKVxuICAgICAgfTtcblxuICAgICAgLy8gUE9TSVRJT04gT0YgUkVEIERPVFNcbiAgICAgICQoJy5iYWRiYWxsJykuZWFjaCgoaW5kZXgsIGJhZGJhbGwpID0+IHtcbiAgICAgICAgY29uc3QgcmVkRG90ID0ge1xuICAgICAgICAgIHg6ICQoYmFkYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICAgIHk6ICQoYmFkYmFsbCkucG9zaXRpb24oKS50b3AsXG4gICAgICAgICAgd2lkdGg6ICQoYmFkYmFsbCkud2lkdGgoKSxcbiAgICAgICAgICBoZWlnaHQ6ICQoYmFkYmFsbCkuaGVpZ2h0KClcbiAgICAgICAgfTtcbiAgICAgICAgLy8gV0hBVCBUTyBETyBJRiBQMSBISVRTIEJBRCBET1RcbiAgICAgICAgaWYgKGlzQ29sbGlkZShwMUN1YmUsIHJlZERvdCkpIHtcbiAgICAgICAgICBwMVNjb3JlLS07XG4gICAgICAgICAgJCgnI3AxQ291bnRlcicpLmh0bWwocDFTY29yZSk7XG4gICAgICAgICAgJChiYWRiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBpZighbXV0ZSlhdWRpb0Vycm9yLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXSEFUIFRPIERPIElGIFAyIEhJVFMgQkFEIERPVFxuICAgICAgICBpZiAoaXNDb2xsaWRlKHAyQ3ViZSwgcmVkRG90KSkge1xuICAgICAgICAgIHAyU2NvcmUtLTtcbiAgICAgICAgICAkKCcjcDJDb3VudGVyJykuaHRtbChwMlNjb3JlKTtcbiAgICAgICAgICAkKGJhZGJhbGwpLnJlbW92ZSgpO1xuICAgICAgICAgIGlmKCFtdXRlKWF1ZGlvRXJyb3IucGxheSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIFBPU0lUSU9OIE9GIEJMVUUgRE9UU1xuICAgICAgJCgnLmJhbGwnKS5lYWNoKChpbmRleCwgYmFsbCkgPT4ge1xuICAgICAgICBjb25zdCBibHVlRG90ID0ge1xuICAgICAgICAgIHg6ICQoYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICAgIHk6ICQoYmFsbCkucG9zaXRpb24oKS50b3AsXG4gICAgICAgICAgd2lkdGg6ICQoYmFsbCkud2lkdGgoKSxcbiAgICAgICAgICBoZWlnaHQ6ICQoYmFsbCkuaGVpZ2h0KClcbiAgICAgICAgfTtcbiAgICAgICAgLy8gV0hBVCBUTyBETyBJRiBQMSBISVRTIEJMVUUgRE9UXG4gICAgICAgIGlmIChpc0NvbGxpZGUocDFDdWJlLCBibHVlRG90KSkge1xuICAgICAgICAgIHAxU2NvcmUrKztcbiAgICAgICAgICAkKCcjcDFDb3VudGVyJykuaHRtbChwMVNjb3JlKTtcbiAgICAgICAgICAkKGJhbGwpLnJlbW92ZSgpO1xuICAgICAgICAgIGlmKCFtdXRlKWF1ZGlvLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXSEFUIFRPIERPIElGIFAyIEhJVFMgQkxVRSBET1RcbiAgICAgICAgaWYgKGlzQ29sbGlkZShwMkN1YmUsIGJsdWVEb3QpKSB7XG4gICAgICAgICAgcDJTY29yZSsrO1xuICAgICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKHAyU2NvcmUpO1xuICAgICAgICAgICQoYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgICAgaWYoIW11dGUpYXVkaW8ucGxheSgpO1xuXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gUE9TSVRJT04gT0YgR1JFRU4gRE9UU1xuICAgICAgJCgnLmJpZ0JhbGwnKS5lYWNoKChpbmRleCwgYmlnYmFsbCkgPT4ge1xuICAgICAgICBjb25zdCBncmVlbkRvdCA9IHtcbiAgICAgICAgICB4OiAkKGJpZ2JhbGwpLnBvc2l0aW9uKCkubGVmdCxcbiAgICAgICAgICB5OiAkKGJpZ2JhbGwpLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICAgIHdpZHRoOiAkKGJpZ2JhbGwpLndpZHRoKCksXG4gICAgICAgICAgaGVpZ2h0OiAkKGJpZ2JhbGwpLmhlaWdodCgpXG4gICAgICAgIH07XG4gICAgICAgIC8vIFdIQVQgVE8gRE8gSUYgUDEgSElUUyBHUkVFTiBET1RcbiAgICAgICAgaWYgKGlzQ29sbGlkZShwMUN1YmUsIGdyZWVuRG90KSkge1xuICAgICAgICAgIHAxU2NvcmUgKz0gMjtcbiAgICAgICAgICAkKCcjcDFDb3VudGVyJykuaHRtbChwMVNjb3JlKTtcbiAgICAgICAgICAkKGJpZ2JhbGwpLnJlbW92ZSgpO1xuICAgICAgICAgIGlmKCFtdXRlKWF1ZGlvQmlnLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXSEFUIFRPIERPIElGIFAyIEhJVFMgR1JFRU4gRE9UXG4gICAgICAgIGlmIChpc0NvbGxpZGUocDJDdWJlLCBncmVlbkRvdCkpIHtcbiAgICAgICAgICBwMlNjb3JlICs9IDI7XG4gICAgICAgICAgJCgnI3AyQ291bnRlcicpLmh0bWwocDJTY29yZSk7XG4gICAgICAgICAgJChiaWdiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBpZighbXV0ZSlhdWRpb0JpZy5wbGF5KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gUE9TSVRJT04gT0YgR09MRCBET1RTXG4gICAgICAkKCcuZ29sZGVuYmFsbCcpLmVhY2goKGluZGV4LCBnb2xkZW5iYWxsKSA9PiB7XG4gICAgICAgIGNvbnN0IGdvbGREb3QgPSB7XG4gICAgICAgICAgeDogJChnb2xkZW5iYWxsKS5wb3NpdGlvbigpLmxlZnQsXG4gICAgICAgICAgeTogJChnb2xkZW5iYWxsKS5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICB3aWR0aDogJChnb2xkZW5iYWxsKS53aWR0aCgpLFxuICAgICAgICAgIGhlaWdodDogJChnb2xkZW5iYWxsKS5oZWlnaHQoKVxuICAgICAgICB9O1xuICAgICAgICAvLyBXSEFUIFRPIERPIElGIFAxIEhJVFMgR09MRCBET1RcbiAgICAgICAgaWYgKGlzQ29sbGlkZShwMUN1YmUsIGdvbGREb3QpKSB7XG4gICAgICAgICAgcDFTY29yZSArPSAxMDtcbiAgICAgICAgICAkKCcjcDFDb3VudGVyJykuaHRtbChwMVNjb3JlKTtcbiAgICAgICAgICAkKGdvbGRlbmJhbGwpLnJlbW92ZSgpO1xuICAgICAgICAgIGlmKCFtdXRlKWF1ZGlvR29sZC5wbGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV0hBVCBUTyBETyBJRiBQMiBISVRTIEdPTEQgRE9UXG4gICAgICAgIGlmIChpc0NvbGxpZGUocDJDdWJlLCBnb2xkRG90KSkge1xuICAgICAgICAgIHAyU2NvcmUgKz0gMTA7XG4gICAgICAgICAgJCgnI3AyQ291bnRlcicpLmh0bWwocDJTY29yZSk7XG4gICAgICAgICAgJChnb2xkZW5iYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBpZighbXV0ZSlhdWRpb0dvbGQucGxheSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuXG4gICAgICAvLyBNT1ZFTUVOVCBGVU5DVElPTlNcblxuICAgICAgLy8gUDEgTU9WRU1FTlRcbiAgICAgIGJveFAxLmNzcyh7XG4gICAgICAgIGxlZnQ6IGZ1bmN0aW9uKGksdikge1xuICAgICAgICAgIHJldHVybiBuZXdMb2NhdGlvblAxKHYsIDY1LCA2OCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvcDogZnVuY3Rpb24oaSx2KSB7XG4gICAgICAgICAgcmV0dXJuIG5ld0xvY2F0aW9uUDEodiwgODcsIDgzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBQMiBNT1ZFTUVOVFxuICAgICAgYm94UDIuY3NzKHtcbiAgICAgICAgbGVmdDogZnVuY3Rpb24oaSx2KSB7XG4gICAgICAgICAgcmV0dXJuIG5ld0xvY2F0aW9uUDIodiwgMzcsIDM5KTtcbiAgICAgICAgfSxcbiAgICAgICAgdG9wOiBmdW5jdGlvbihpLHYpIHtcbiAgICAgICAgICByZXR1cm4gbmV3TG9jYXRpb25QMih2LCAzOCwgNDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIFdIRU4gS0VZIElTIE5PVCBET1dOXG4gICAgJCh3aW5kb3cpLmtleXVwKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGRbZS53aGljaF0gPSBmYWxzZTtcbiAgICB9KTtcblxuICAgIC8vIC8vIENIRUNLIEZPUiBXSU5ORVJcbiAgICBmdW5jdGlvbiBjaGVja1dpbm5lcigpIHtcbiAgICAgIGlmIChwMVNjb3JlID4gcDJTY29yZSl7XG4gICAgICAgICQoJy5zaG93V2lubmVyJykudGV4dCgnUGxheWVyIE9uZSBXaW5zJyk7XG4gICAgICB9IGVsc2UgaWYgKHAxU2NvcmUgPCBwMlNjb3JlKSB7XG4gICAgICAgICQoJy5zaG93V2lubmVyJykudGV4dCgnUGxheWVyIFR3byBXaW5zJyk7XG4gICAgICB9IGVsc2UgJCgnLnNob3dXaW5uZXInKS50ZXh0KCdJdFxcJ3MgYSBkcmF3Jyk7XG4gICAgfVxuXG4gICAgLy8gR0FNRSBUSU1FUiBBTkQgRU5EXG4gICAgbGV0IHRpbWVMZWZ0ID0gKGdhbWVUaW1lIC8gMTAwMCk7XG4gICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3VudERvd25UaW1lcicpO1xuICAgIGNvbnN0IHRpbWVySWQgPSBzZXRJbnRlcnZhbChjb3VudGRvd24sIDEwMDApO1xuICAgIGZ1bmN0aW9uIGNvdW50ZG93bigpIHtcbiAgICAgIGVsZW0uaW5uZXJIVE1MID0gdGltZUxlZnQgKyAnIHNlY29uZHMgcmVtYWluaW5nJztcbiAgICAgIHRpbWVMZWZ0LS07XG4gICAgICBpZiAodGltZUxlZnQgPT09IDApIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICAkKCcuZ2FtZVNjcmVlbicpLnJlbW92ZSgpO1xuICAgICAgICAkKCcjZ2FtZU92ZXJEaXYnKS5yZW1vdmVDbGFzcygnbm9zaG93Jyk7XG4gICAgICAgIGNoZWNrV2lubmVyKCk7XG4gICAgICAgIGlmKCFtdXRlKWF1ZGlvZW5kLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAvLyBFTkRcbn0pO1xuIl19

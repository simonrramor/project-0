"use strict";$(function(){var t=$("#gameBoard"),i=$(".boxP1"),e=$(".boxP2"),n=t.width()-i.width(),o=t.height()-e.height(),a={},h=20,r=[],l=[],d=300,u=200,c=50,p=2,s=!1,g=$("audio")[0],f=$("audio")[1],m=$("audio")[2],x=$("audio")[3],y=$("audio")[4],w=$("audio")[5],v=6e4;!function(){$("input[type=range]").eq(0).on("change",function(t){v=$(t.target).val(),console.log("gametime is now ",v),$(".value").text("Your game will last "+v/1e3+" seconds")})}();var b=!1;$(".icon1").click(function(){!1===b?($("#popupBackground").fadeIn("fast","swing"),b=!0):!0===b&&($("#popupBackground").fadeOut("fast","swing"),b=!1)}),$("#popupBackground").hide(),$(".icon1").each(function(){$(this).data("original",$(this).html())}).on("click",function(){$(this).toggleClass("clicked").html(function(t,i){var e=$(this).data("original");return i===e?'<i class="fa fa-times-circle" aria-hidden="true"></i>':e})}),$("#mute-button").on("click",function(){s=!s}),$("#mute-button").each(function(){$(this).data("original",$(this).html())}).on("click",function(){$(this).toggleClass("clicked").html(function(t,i){var e=$(this).data("original");return i===e?'<i class="fa fa-volume-off" aria-hidden="true"></i>':e})}),$("#start").click(function(){function t(t,i,e){var r=parseInt(t,10)-(a[i]?h:0)+(a[e]?h:0);return 65===i?r<0?0:r>n?n:r:87===i?r<0?0:r>o?o:r:void 0}function b(t,i,e){var r=parseInt(t,10)-(a[i]?h:0)+(a[e]?h:0);return 37===i?r<0?0:r>n?n:r:38===i?r<0?0:r>o?o:r:void 0}function B(){for(var t=1;t<p;){var i=(Math.random()*($("#gameBoard").width()-20)).toFixed(),e=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="goldenball"></div>').css({left:i+"px",top:e+"px"}).appendTo("#gameBoard"),t++,s||y.play()}}function k(t,i){return!(t.y+t.height<i.y||t.y>i.y+i.height||t.x+t.width<i.x||t.x>i.x+i.width)}function C(t,i){return!(t.y+t.height<i.y||t.y>i.y+i.height||t.x+t.width<i.x||t.x>i.x+i.width)}function M(t,i){return!(t.y+t.height<i.y||t.y>i.y+i.height||t.x+t.width<i.x||t.x>i.x+i.width)}function T(t,i){return!(t.y+t.height<i.y||t.y>i.y+i.height||t.x+t.width<i.x||t.x>i.x+i.width)}function F(t,i){return!(t.y+t.height<i.y||t.y>i.y+i.height||t.x+t.width<i.x||t.x>i.x+i.width)}function I(t,i){return!(t.y+t.height<i.y||t.y>i.y+i.height||t.x+t.width<i.x||t.x>i.x+i.width)}function P(t,i){return!(t.y+t.height<i.y||t.y>i.y+i.height||t.x+t.width<i.x||t.x>i.x+i.width)}function W(t,i){return!(t.y+t.height<i.y||t.y>i.y+i.height||t.x+t.width<i.x||t.x>i.x+i.width)}function O(){r.length>l.length?$(".showWinner").text("Player One Wins"):r.length<l.length?$(".showWinner").text("Player Two Wins"):$(".showWinner").text("It's a draw")}function D(){q.innerHTML=S+" seconds remaining",0===--S&&(clearTimeout(A),$(".gameScreen").remove(),$("#gameOverDiv").removeClass("noshow"),O(),s||w.play())}$("#welcomePage").hide(),$(".gameScreen").removeAttr("id","hidden"),function(){for(var t=1;t<d;){var i=(Math.random()*($("#gameBoard").width()-20)).toFixed(),e=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="ball"</div>').css({left:i+"px",top:e+"px"}).appendTo("#gameBoard"),t++}}(),function(){for(var t=1;t<c;){var i=(Math.random()*($("#gameBoard").width()-20)).toFixed(),e=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="bigBall"></div>').css({left:i+"px",top:e+"px"}).appendTo("#gameBoard"),t++}}(),function(){for(var t=1;t<u;){var i=(Math.random()*($("#gameBoard").width()-20)).toFixed(),e=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="badball"></div>').css({left:i+"px",top:e+"px"}).appendTo("#gameBoard"),t++}}(),setTimeout(function(){B()},Math.floor(Math.random()*(v-1e4))),$(window).keydown(function(n){a[n.which]=!0;var o={x:i.position().left,y:i.position().top,width:i.width(),height:i.height()},h={x:e.position().left,y:e.position().top,width:e.width(),height:e.height()};$(".badball").each(function(t,i){var e={x:$(i).position().left,y:$(i).position().top,width:$(i).width(),height:$(i).height()};M(o,e)&&($("#p1Counter").html(function(t,i){return i-1}),$(i).remove(),r.pop(),s||m.play()),T(h,e)&&($("#p2Counter").html(function(t,i){return i-1}),$(i).remove(),l.pop(),s||m.play())}),$(".ball").each(function(t,i){var e={x:$(i).position().left,y:$(i).position().top,width:$(i).width(),height:$(i).height()};k(o,e)&&($("#p1Counter").html(function(t,i){return+i+1}),$(i).remove(),r.push("ball"),s||g.play()),C(h,e)&&($("#p2Counter").html(function(t,i){return+i+1}),$(i).remove(),l.push("ball"),s||g.play())}),$(".bigBall").each(function(t,i){var e={x:$(i).position().left,y:$(i).position().top,width:$(i).width(),height:$(i).height()};F(o,e)&&($("#p1Counter").html(function(t,i){return+i+2}),$(i).remove(),r.push("ball","ball2"),s||f.play()),I(h,e)&&($("#p2Counter").html(function(t,i){return+i+2}),$(i).remove(),l.push("ball","ball2"),s||f.play())}),$(".goldenball").each(function(t,i){var e={x:$(i).position().left,y:$(i).position().top,width:$(i).width(),height:$(i).height()};P(o,e)&&($("#p1Counter").html(function(t,i){return+i+10}),$(i).remove(),r.push("ball","ball2","ball3","ball4","ball5","ball6","ball7","ball8","ball9","ball10"),s||x.play()),W(h,e)&&($("#p2Counter").html(function(t,i){return+i+10}),$(i).remove(),l.push("ball","ball2","ball3","ball4","ball5","ball6","ball7","ball8","ball9","ball10"),s||x.play())}),i.css({left:function(i,e){return t(e,65,68)},top:function(i,e){return t(e,87,83)}}),e.css({left:function(t,i){return b(i,37,39)},top:function(t,i){return b(i,38,40)}})}),$(window).keyup(function(t){a[t.which]=!1});var S=v/1e3,q=document.getElementById("countDownTimer"),A=setInterval(D,1e3)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2FtZUJvYXJkIiwiYm94UDEiLCJib3hQMiIsIndpZHRoIiwiaGVpZ2h0IiwiZCIsIngiLCJwMXNjb3JlIiwicDJzY29yZSIsIm51bU9mR29vZERvdHMiLCJudW1PZkJhZERvdHMiLCJudW1PZkJpZ0RvdHMiLCJudW1PZkdvbGREb3RzIiwibXV0ZSIsImF1ZGlvIiwiYXVkaW9CaWciLCJhdWRpb0Vycm9yIiwiYXVkaW9Hb2xkIiwiZ29sZGVudGVycyIsImF1ZGlvZW5kIiwiZXEiLCJvbiIsImUiLCJnYW1lVGltZSIsInRhcmdldCIsInZhbCIsImNvbnNvbGUiLCJsb2ciLCJ0ZXh0IiwiaGVscCIsImNsaWNrIiwiZmFkZUluIiwiZmFkZU91dCIsImhpZGUiLCJlYWNoIiwidGhpcyIsImRhdGEiLCJodG1sIiwidG9nZ2xlQ2xhc3MiLCJfIiwib3JnIiwibiIsInYiLCJhIiwiYiIsInBhcnNlSW50IiwiY291bnQiLCJkaXZzaXplIiwicG9zeSIsIk1hdGgiLCJyYW5kb20iLCJ0b0ZpeGVkIiwiJG5ld0dvbGREaXYiLCJjc3MiLCJsZWZ0IiwidG9wIiwicGxheSIsImlzQ29sbGlkZVAxIiwieSIsImMiLCJpc0JhZENvbGxpZGVQMSIsImlzQmFkQ29sbGlkZVAyIiwiaXNCaWdDb2xsaWRlUDEiLCJzIiwiaXNHb2xkQ29sbGlkZVAxIiwid2luZG93Iiwia2V5ZG93biIsIndoaWNoIiwiYmlnIiwicG9zaXRpb24iLCJpc0JpZ0NvbGxpZGVQMiIsImJhZGJhbGwiLCJnb2xkIiwiaXNHb2xkQ29sbGlkZVAyIiwiY2hlY2tXaW5uZXIiLCJsZW5ndGgiLCJjb3VudGRvd24iLCJlbGVtIiwiaW5uZXJIVE1MIiwidGltZUxlZnQiLCJjbGVhclRpbWVvdXQiLCJ0aW1lcklkIiwicmVtb3ZlIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmVBdHRyIiwiJG5ld2RpdiIsInBvc3giLCIkbmV3QmlnZGl2IiwiJG5ld0JhZGRpdiIsIm1ha2VHb2xkRGl2IiwiZmxvb3IiLCJiYWxsIiwiaW5kZXgiLCJpc0NvbGxpZGVQMiIsImkiLCJwb3AiLCJiaWdiYWxsIiwiZ29sZGVuYmFsbCIsInB1c2giLCJuZXdMb2NhdGlvblAxIiwibmV3TG9jYXRpb25QMiIsImtleXVwIiwiZ2V0RWxlbWVudEJ5SWQiLCJzZXRJbnRlcnZhbCIsImRvY3VtZW50Il0sIm1hcHBpbmdzIjoiWUFBQUEsR0FBRSxXQUdBLEdBQU1DLEdBQVlELEVBQUUsY0FBZEMsRUFBQUEsRUFBWUQsVUFDWEUsRUFBVUYsRUFBQSxVQUNWRyxFQUFVRixFQUFqQkcsUUFBQUYsRUFBQUUsUUFDT0EsRUFBUUgsRUFBVUcsU0FBVUYsRUFBQUcsU0FDNUJBLEtBQ0FDLEVBQVAsR0FDT0MsS0FDREMsS0FDQUMsRUFBTixJQUNNQyxFQUFnQixJQUNoQkMsRUFBZSxHQUNmQyxFQUFOLEVBQ01DLEdBQUFBLEVBQ0ZDLEVBQU9kLEVBQVgsU0FBQSxHQUNNZSxFQUFVZixFQUFBLFNBQWhCLEdBQ01nQixFQUFhaEIsRUFBQSxTQUFuQixHQUNNaUIsRUFBYWpCLEVBQUUsU0FBRixHQUNia0IsRUFBY2xCLEVBQUEsU0FBcEIsR0FDTW1CLEVBQWFuQixFQUFFLFNBQVMsR0FDeEJvQixFQUFXcEIsS0FLRyxXQUNsQkEsRUFBRSxxQkFBcUJxQixHQUFHLEdBQUdDLEdBQUcsU0FBVSxTQUFBQyxHQUN4Q0MsRUFBV3hCLEVBQUV1QixFQUFFRSxRQUFRQyxNQUN2QkMsUUFBUUMsSUFBSSxtQkFBb0JKLEdBQ2hDeEIsRUFBRSxVQUFVNkIsS0FBSyx1QkFBMEJMLEVBQVcsSUFBUSxnQkFNbEUsSUFBSU0sSUFBTyxDQUNYOUIsR0FBRSxVQUFVK0IsTUFBTSxZQUNILElBQVRELEdBQ0Y5QixFQUFFLG9CQUFvQmdDLE9BQU8sT0FBUSxTQUNyQ0YsR0FBTyxJQUNXLElBQVRBLElBQ1Q5QixFQUFFLG9CQUFvQmlDLFFBQVEsT0FBUSxTQUN0Q0gsR0FBTyxLQUtYOUIsRUFBRSxvQkFBb0JrQyxPQUN0QmxDLEVBQUUsVUFBVW1DLEtB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ImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcblxuXG4gIGNvbnN0IGdhbWVCb2FyZCA9ICQoJyNnYW1lQm9hcmQnKTtcbiAgY29uc3QgIGJveFAxID0gJCgnLmJveFAxJyk7XG4gIGNvbnN0ICBib3hQMiA9ICQoJy5ib3hQMicpO1xuICBjb25zdCAgd2lkdGggPSBnYW1lQm9hcmQud2lkdGgoKSAtIGJveFAxLndpZHRoKCk7XG4gIGNvbnN0ICBoZWlnaHQgPSBnYW1lQm9hcmQuaGVpZ2h0KCkgLSBib3hQMi5oZWlnaHQoKTtcbiAgY29uc3QgIGQgPSB7fTtcbiAgY29uc3QgIHggPSAyMCA7XG4gIGNvbnN0IHAxc2NvcmUgPSBbXTtcbiAgY29uc3QgcDJzY29yZSA9IFtdO1xuICBjb25zdCBudW1PZkdvb2REb3RzID0gMzAwO1xuICBjb25zdCBudW1PZkJhZERvdHMgPSAyMDA7XG4gIGNvbnN0IG51bU9mQmlnRG90cyA9IDUwO1xuICBjb25zdCBudW1PZkdvbGREb3RzID0gMjtcbiAgbGV0IG11dGUgPSBmYWxzZTtcbiAgY29uc3QgYXVkaW8gPSAkKCdhdWRpbycpWzBdO1xuICBjb25zdCBhdWRpb0JpZyA9ICQoJ2F1ZGlvJylbMV07XG4gIGNvbnN0IGF1ZGlvRXJyb3IgPSAkKCdhdWRpbycpWzJdO1xuICBjb25zdCBhdWRpb0dvbGQgPSAkKCdhdWRpbycpWzNdO1xuICBjb25zdCBnb2xkZW50ZXJzID0gJCgnYXVkaW8nKVs0XTtcbiAgY29uc3QgYXVkaW9lbmQgPSAkKCdhdWRpbycpWzVdO1xuICBsZXQgZ2FtZVRpbWUgPSA2MDAwMDtcblxuXG4gIC8vcmFuZ2Ugc2xpZGVyIHN0dWZmIHRvIGNob29zZSB0aW1lXG4gIGNvbnN0IHJhbmdlU2xpZGVyID0gZnVuY3Rpb24oKXtcbiAgICAkKCdpbnB1dFt0eXBlPXJhbmdlXScpLmVxKDApLm9uKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgZ2FtZVRpbWUgPSAkKGUudGFyZ2V0KS52YWwoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdnYW1ldGltZSBpcyBub3cgJywgZ2FtZVRpbWUpO1xuICAgICAgJCgnLnZhbHVlJykudGV4dCgnWW91ciBnYW1lIHdpbGwgbGFzdCAnICsgKGdhbWVUaW1lIC8gMTAwMCkgKyAnIHNlY29uZHMnKTtcbiAgICB9KTtcbiAgfTtcbiAgcmFuZ2VTbGlkZXIoKTtcblxuICAvL2hlbHAgaWNvblxuICBsZXQgaGVscCA9IGZhbHNlO1xuICAkKCcuaWNvbjEnKS5jbGljayhmdW5jdGlvbigpe1xuICAgIGlmIChoZWxwID09PSBmYWxzZSl7XG4gICAgICAkKCcjcG9wdXBCYWNrZ3JvdW5kJykuZmFkZUluKCdmYXN0JywgJ3N3aW5nJyk7XG4gICAgICBoZWxwID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGhlbHAgPT09IHRydWUpe1xuICAgICAgJCgnI3BvcHVwQmFja2dyb3VuZCcpLmZhZGVPdXQoJ2Zhc3QnLCAnc3dpbmcnKTtcbiAgICAgIGhlbHAgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGluc3RydWN0aW9ucyBidXR0b24gdG9nZ2xlXG4gICQoJyNwb3B1cEJhY2tncm91bmQnKS5oaWRlKCk7XG4gICQoJy5pY29uMScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS5kYXRhKCdvcmlnaW5hbCcsICQodGhpcykuaHRtbCgpKTtcbiAgfSkub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnY2xpY2tlZCcpLmh0bWwoZnVuY3Rpb24oXywgaHRtbCkge1xuICAgICAgdmFyIG9yZyA9ICQodGhpcykuZGF0YSgnb3JpZ2luYWwnKTtcbiAgICAgIHJldHVybiBodG1sID09PSBvcmcgPyAnPGkgY2xhc3M9XCJmYSBmYS10aW1lcy1jaXJjbGVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+JyA6IG9yZztcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy9NVVRFIFRPR0dMRSBPTiBBTkQgT0ZGXG4gICQoJyNtdXRlLWJ1dHRvbicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBtdXRlID0gIW11dGU7XG4gIH0pO1xuXG4gIC8vTVVURSBUT0dHTEUgQlVUVE9OIFNUWUxFIE9OIEFORCBPRkZcbiAgJCgnI211dGUtYnV0dG9uJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAkKHRoaXMpLmRhdGEoJ29yaWdpbmFsJywgJCh0aGlzKS5odG1sKCkpO1xuICB9KS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdjbGlja2VkJykuaHRtbChmdW5jdGlvbihfLCBodG1sKSB7XG4gICAgICB2YXIgb3JnID0gJCh0aGlzKS5kYXRhKCdvcmlnaW5hbCcpO1xuICAgICAgcmV0dXJuIGh0bWwgPT09IG9yZyA/ICc8aSBjbGFzcz1cImZhIGZhLXZvbHVtZS1vZmZcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+JyA6IG9yZztcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy9TVEFSVFMgV0hPTEUgR0FNRSEhIVxuICAkKCcjc3RhcnQnKS5jbGljayhmdW5jdGlvbigpe1xuICAgICQoICcjd2VsY29tZVBhZ2UnICkuaGlkZSgpO1xuICAgICQoJy5nYW1lU2NyZWVuJykucmVtb3ZlQXR0cignaWQnLCAnaGlkZGVuJyk7XG5cblxuICAgIC8vIHYgPSBvcmdpbmluYWwgdmFsdWUuXG4gICAgLy8gYSxiID0gZGlyZWN0aW9uXG4gICAgLy8gZCBpcyBvYmplY3QgaG9sZGluZyB0cnVlIG9yIGZhc2UgYWJvdXQga2V5IHByZXNzXG4gICAgLy8gcGFyc2VJbnQgdHVybnMgcHggaW50byBJbnQgaXNpbmcgMTAgb3Igc29tZXRoaW5nIHJhZGl4IHN0dWZmXG4gICAgLy8gbiA9IGNoZWNrIGZvciB2YWxpZCBtb3ZlbWVudFxuICAgIC8vIHggPSBwaXhhbCBqdW1wXG5cbiAgICBmdW5jdGlvbiBuZXdMb2NhdGlvblAxKHYsYSxiKSB7XG4gICAgICBjb25zdCBuID0gcGFyc2VJbnQodiwgMTApIC0gKGRbYV0gPyB4IDogMCkgKyAoZFtiXSA/IHggOiAwKTtcbiAgICAgIGlmIChhID09PSA2NSkgcmV0dXJuICAgbiA8IDAgPyAwIDogbiA+IHdpZHRoID8gd2lkdGggOiBuO1xuICAgICAgaWYgKGEgPT09IDg3KSByZXR1cm4gbiA8IDAgPyAwIDogbiA+IGhlaWdodCA/IGhlaWdodCA6IG47XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5ld0xvY2F0aW9uUDIodixhLGIpIHtcbiAgICAgIGNvbnN0IG4gPSBwYXJzZUludCh2LCAxMCkgLSAoZFthXSA/IHggOiAwKSArIChkW2JdID8geCA6IDApO1xuICAgICAgaWYgKGEgPT09IDM3KSByZXR1cm4gbiA8IDAgPyAwIDogbiA+IHdpZHRoID8gd2lkdGggOiBuO1xuICAgICAgaWYgKGEgPT09IDM4KSByZXR1cm4gbiA8IDAgPyAwIDogbiA+IGhlaWdodCA/IGhlaWdodCA6IG47XG4gICAgfVxuXG4gICAgLy8gQUREUyBSQU5ET00gQU1PVU5UIE9GIEJMVUUgKDFQVCkgRE9UUyBJTlRPIFRIRSBHQU1FIEJPQVJEXG4gICAgbWFrZURpdigpO1xuICAgIGZ1bmN0aW9uIG1ha2VEaXYoKSB7XG4gICAgICB2YXIgIGNvdW50ID0gMTtcbiAgICAgIHdoaWxlIChjb3VudCA8IG51bU9mR29vZERvdHMpe1xuICAgICAgICBjb25zdCBkaXZzaXplID0gMjA7XG4gICAgICAgIGNvbnN0IHBvc3ggPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykud2lkdGgoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICAgIHZhciBwb3N5ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLmhlaWdodCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgICAgY29uc3QgJG5ld2RpdiA9ICQoJzxkaXYgY2xhc3M9XCJiYWxsXCI8L2Rpdj4nKS5jc3Moe1xuICAgICAgICAgICdsZWZ0JzogcG9zeCArICdweCcsXG4gICAgICAgICAgJ3RvcCc6IHBvc3kgKyAncHgnXG4gICAgICAgIH0pO1xuICAgICAgICAkbmV3ZGl2LmFwcGVuZFRvKCcjZ2FtZUJvYXJkJyk7XG4gICAgICAgIGNvdW50ICsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vQUREUyBSQU5ET00gQU1PVU5UIE9GIEdSRUVOICgycHQpIERPVFMgSU5UTyBUSEUgR0FNRSBCT0FSRFxuICAgIG1ha2VCaWdEaXYoKTtcbiAgICBmdW5jdGlvbiBtYWtlQmlnRGl2KCkge1xuICAgICAgdmFyICBjb3VudCA9IDE7XG4gICAgICB3aGlsZSAoY291bnQgPCBudW1PZkJpZ0RvdHMpe1xuICAgICAgICBjb25zdCBkaXZzaXplID0gMjA7XG4gICAgICAgIGNvbnN0IHBvc3ggPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykud2lkdGgoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICAgIHZhciBwb3N5ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLmhlaWdodCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgICAgY29uc3QgJG5ld0JpZ2RpdiA9ICQoJzxkaXYgY2xhc3M9XCJiaWdCYWxsXCI+PC9kaXY+JykuY3NzKHtcbiAgICAgICAgICAnbGVmdCc6IHBvc3ggKyAncHgnLFxuICAgICAgICAgICd0b3AnOiBwb3N5ICsgJ3B4J1xuICAgICAgICB9KTtcbiAgICAgICAgJG5ld0JpZ2Rpdi5hcHBlbmRUbygnI2dhbWVCb2FyZCcpO1xuICAgICAgICBjb3VudCArKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBRERTIFJBTkRPTSBBTU9VTlQgT0YgUkVEICgtMVBUKSBET1RTIElOVE8gVEhFIEdBTUUgQk9BUkRcbiAgICBtYWtlQmFkRGl2KCk7XG4gICAgZnVuY3Rpb24gbWFrZUJhZERpdigpIHtcbiAgICAgIHZhciAgY291bnQgPSAxO1xuICAgICAgd2hpbGUgKGNvdW50IDwgbnVtT2ZCYWREb3RzKXtcbiAgICAgICAgY29uc3QgZGl2c2l6ZSA9IDIwO1xuICAgICAgICBjb25zdCBwb3N4ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLndpZHRoKCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgICB2YXIgcG9zeSA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS5oZWlnaHQoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICAgIGNvbnN0ICRuZXdCYWRkaXYgPSAkKCc8ZGl2IGNsYXNzPVwiYmFkYmFsbFwiPjwvZGl2PicpLmNzcyh7XG4gICAgICAgICAgJ2xlZnQnOiBwb3N4ICsgJ3B4JyxcbiAgICAgICAgICAndG9wJzogcG9zeSArICdweCdcbiAgICAgICAgfSk7XG4gICAgICAgICRuZXdCYWRkaXYuYXBwZW5kVG8oJyNnYW1lQm9hcmQnKTtcbiAgICAgICAgY291bnQgKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQUREUyBPTkUgR09MRCBET1QgKDEwUFQpIElOVE8gVEhFIEdBTUUgQk9BUkQgQVQgQSBSQU5ET00uXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBtYWtlR29sZERpdigpO1xuICAgIH0sIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChnYW1lVGltZSAtIDEwMDAwKSkpO1xuICAgIGZ1bmN0aW9uIG1ha2VHb2xkRGl2KCkge1xuICAgICAgdmFyICBjb3VudCA9IDE7XG4gICAgICB3aGlsZSAoY291bnQgPCBudW1PZkdvbGREb3RzKXtcbiAgICAgICAgY29uc3QgZGl2c2l6ZSA9IDIwO1xuICAgICAgICBjb25zdCBwb3N4ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLndpZHRoKCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgICB2YXIgcG9zeSA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS5oZWlnaHQoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICAgIGNvbnN0ICRuZXdHb2xkRGl2ID0gJCgnPGRpdiBjbGFzcz1cImdvbGRlbmJhbGxcIj48L2Rpdj4nKS5jc3Moe1xuICAgICAgICAgICdsZWZ0JzogcG9zeCArICdweCcsXG4gICAgICAgICAgJ3RvcCc6IHBvc3kgKyAncHgnXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgJG5ld0dvbGREaXYuYXBwZW5kVG8oJyNnYW1lQm9hcmQnKTtcbiAgICAgICAgY291bnQgKys7XG4gICAgICAgIGlmKCFtdXRlKWdvbGRlbnRlcnMucGxheSgpO1xuXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ0hFQ0sgRk9SIENPTExJREVTXG5cbiAgICAvLyBDSEVDS1MgRk9SIFAxIENPTExJREUgV0lUSCBCTFVFIERPVFNcbiAgICBmdW5jdGlvbiBpc0NvbGxpZGVQMShhLCBiKSB7XG4gICAgICByZXR1cm4gIShcbiAgICAgICAgKChhLnkgKyBhLmhlaWdodCkgPCAoYi55KSkgfHxcbiAgICAgICAgKGEueSA+IChiLnkgKyBiLmhlaWdodCkpIHx8XG4gICAgICAgICgoYS54ICsgYS53aWR0aCkgPCBiLngpIHx8XG4gICAgICAgIChhLnggPiAoYi54ICsgYi53aWR0aCkpXG4gICAgICApO1xuICAgIH1cbiAgICAvLyBDSEVDS1MgRk9SIFAyIENPTExJREUgV0lUSCBCTFVFIERPVFNcbiAgICBmdW5jdGlvbiBpc0NvbGxpZGVQMihjLCBiKSB7XG4gICAgICByZXR1cm4gIShcbiAgICAgICAgKChjLnkgKyBjLmhlaWdodCkgPCAoYi55KSkgfHxcbiAgICAgICAgKGMueSA+IChiLnkgKyBiLmhlaWdodCkpIHx8XG4gICAgICAgICgoYy54ICsgYy53aWR0aCkgPCBiLngpIHx8XG4gICAgICAgIChjLnggPiAoYi54ICsgYi53aWR0aCkpXG4gICAgICApO1xuICAgIH1cbiAgICAvLyBDSEVDS1MgRk9SIFAxIENPTExJREUgV0lUSCBSRUQgRE9UU1xuICAgIGZ1bmN0aW9uIGlzQmFkQ29sbGlkZVAxKGEsIHMpIHtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICAoKGEueSArIGEuaGVpZ2h0KSA8IChzLnkpKSB8fFxuICAgICAgICAoYS55ID4gKHMueSArIHMuaGVpZ2h0KSkgfHxcbiAgICAgICAgKChhLnggKyBhLndpZHRoKSA8IHMueCkgfHxcbiAgICAgICAgKGEueCA+IChzLnggKyBzLndpZHRoKSlcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIENIRUNLUyBGT1IgUDIgQ09MTElERSBXSVRIIFJFRCBET1RTXG4gICAgZnVuY3Rpb24gaXNCYWRDb2xsaWRlUDIoYywgcykge1xuICAgICAgcmV0dXJuICEoXG4gICAgICAgICgoYy55ICsgYy5oZWlnaHQpIDwgKHMueSkpIHx8XG4gICAgICAgIChjLnkgPiAocy55ICsgcy5oZWlnaHQpKSB8fFxuICAgICAgICAoKGMueCArIGMud2lkdGgpIDwgcy54KSB8fFxuICAgICAgICAoYy54ID4gKHMueCArIHMud2lkdGgpKVxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gQ0hFQ0tTIEZPUiBQMSBDT0xMSURFIFdJVEggR1JFRU4gRE9UU1xuICAgIGZ1bmN0aW9uIGlzQmlnQ29sbGlkZVAxKGEsIGJpZykge1xuICAgICAgcmV0dXJuICEoXG4gICAgICAgICgoYS55ICsgYS5oZWlnaHQpIDwgKGJpZy55KSkgfHxcbiAgICAgICAgKGEueSA+IChiaWcueSArIGJpZy5oZWlnaHQpKSB8fFxuICAgICAgICAoKGEueCArIGEud2lkdGgpIDwgYmlnLngpIHx8XG4gICAgICAgIChhLnggPiAoYmlnLnggKyBiaWcud2lkdGgpKVxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gQ0hFQ0tTIEZPUiBQMiBDT0xMSURFIFdJVEggR1JFRU4gRE9UU1xuICAgIGZ1bmN0aW9uIGlzQmlnQ29sbGlkZVAyKGMsIGJpZykge1xuICAgICAgcmV0dXJuICEoXG4gICAgICAgICgoYy55ICsgYy5oZWlnaHQpIDwgKGJpZy55KSkgfHxcbiAgICAgICAgKGMueSA+IChiaWcueSArIGJpZy5oZWlnaHQpKSB8fFxuICAgICAgICAoKGMueCArIGMud2lkdGgpIDwgYmlnLngpIHx8XG4gICAgICAgIChjLnggPiAoYmlnLnggKyBiaWcud2lkdGgpKVxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gQ0hFQ0tTIEZPUiBQMSBDT0xMSURFIFdJVEggR09MRCBET1RTXG4gICAgZnVuY3Rpb24gaXNHb2xkQ29sbGlkZVAxKGEsIGdvbGQpIHtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICAoKGEueSArIGEuaGVpZ2h0KSA8IChnb2xkLnkpKSB8fFxuICAgICAgICAoYS55ID4gKGdvbGQueSArIGdvbGQuaGVpZ2h0KSkgfHxcbiAgICAgICAgKChhLnggKyBhLndpZHRoKSA8IGdvbGQueCkgfHxcbiAgICAgICAgKGEueCA+IChnb2xkLnggKyBnb2xkLndpZHRoKSlcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIENIRUNLUyBGT1IgUDIgQ09MTElERSBXSVRIIEdPTEQgRE9UU1xuICAgIGZ1bmN0aW9uIGlzR29sZENvbGxpZGVQMihjLCBnb2xkKSB7XG4gICAgICByZXR1cm4gIShcbiAgICAgICAgKChjLnkgKyBjLmhlaWdodCkgPCAoZ29sZC55KSkgfHxcbiAgICAgICAgKGMueSA+IChnb2xkLnkgKyBnb2xkLmhlaWdodCkpIHx8XG4gICAgICAgICgoYy54ICsgYy53aWR0aCkgPCBnb2xkLngpIHx8XG4gICAgICAgIChjLnggPiAoZ29sZC54ICsgZ29sZC53aWR0aCkpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENIRUNLUyBGT1IgTU9WRU1FTlRcbiAgICAkKHdpbmRvdykua2V5ZG93bihmdW5jdGlvbihlKSB7XG4gICAgICBkW2Uud2hpY2hdID0gdHJ1ZTtcbiAgICAgIC8vIENIRUNLUyBGT1IgUDEgTU9WRU1FTlRcbiAgICAgIGNvbnN0IGEgPSB7XG4gICAgICAgIHg6IGJveFAxLnBvc2l0aW9uKCkubGVmdCxcbiAgICAgICAgeTogYm94UDEucG9zaXRpb24oKS50b3AsXG4gICAgICAgIHdpZHRoOiBib3hQMS53aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6IGJveFAxLmhlaWdodCgpXG4gICAgICB9O1xuICAgICAgLy8gQ0hFQ0tTIEZPUiBQMiBNT1ZFTUVOVFxuICAgICAgY29uc3QgYyA9IHtcbiAgICAgICAgeDogYm94UDIucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICB5OiBib3hQMi5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgd2lkdGg6IGJveFAyLndpZHRoKCksXG4gICAgICAgIGhlaWdodDogYm94UDIuaGVpZ2h0KClcbiAgICAgIH07XG5cblxuLy8gUE9TSVRJT04gT0YgUkVEIERPVFNcbiAgICAgICQoJy5iYWRiYWxsJykuZWFjaCgoaW5kZXgsIGJhZGJhbGwpID0+IHtcbiAgICAgICAgY29uc3QgcyA9IHtcbiAgICAgICAgICB4OiAkKGJhZGJhbGwpLnBvc2l0aW9uKCkubGVmdCxcbiAgICAgICAgICB5OiAkKGJhZGJhbGwpLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICAgIHdpZHRoOiAkKGJhZGJhbGwpLndpZHRoKCksXG4gICAgICAgICAgaGVpZ2h0OiAkKGJhZGJhbGwpLmhlaWdodCgpXG4gICAgICAgIH07XG4vLyBXSEFUIFRPIERPIElGIFAxIEhJVFMgQkFEIERPVFxuICAgICAgICBpZiAoaXNCYWRDb2xsaWRlUDEoYSwgcykpIHtcbiAgICAgICAgICAkKCcjcDFDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwtMTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkKGJhZGJhbGwpLnJlbW92ZSgpO1xuICAgICAgICAgIHAxc2NvcmUucG9wKCk7XG4gICAgICAgICAgaWYoIW11dGUpYXVkaW9FcnJvci5wbGF5KCk7XG4gICAgICAgIH1cbi8vIFdIQVQgVE8gRE8gSUYgUDIgSElUUyBCQUQgRE9UXG4gICAgICAgIGlmIChpc0JhZENvbGxpZGVQMihjLCBzKSkge1xuICAgICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbC0xO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICQoYmFkYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgICAgcDJzY29yZS5wb3AoKTtcbiAgICAgICAgICBpZighbXV0ZSlhdWRpb0Vycm9yLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbi8vIFBPU0lUSU9OIE9GIEJMVUUgRE9UU1xuICAgICAgJCgnLmJhbGwnKS5lYWNoKChpbmRleCwgYmFsbCkgPT4ge1xuICAgICAgICBjb25zdCBiID0ge1xuICAgICAgICAgIHg6ICQoYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICAgIHk6ICQoYmFsbCkucG9zaXRpb24oKS50b3AsXG4gICAgICAgICAgd2lkdGg6ICQoYmFsbCkud2lkdGgoKSxcbiAgICAgICAgICBoZWlnaHQ6ICQoYmFsbCkuaGVpZ2h0KClcbiAgICAgICAgfTtcbi8vIFdIQVQgVE8gRE8gSUYgUDIgSElUUyBCTFVFIERPVFxuICAgICAgICBpZiAoaXNDb2xsaWRlUDEoYSwgYikpIHtcbiAgICAgICAgICAkKCcjcDFDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiArdmFsKzE7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBwMXNjb3JlLnB1c2goJ2JhbGwnKTtcbiAgICAgICAgICBpZighbXV0ZSlhdWRpby5wbGF5KCk7XG4gICAgICAgIH1cbi8vIFdIQVQgVE8gRE8gSUYgUDIgSElUUyBCTFVFIERPVFxuICAgICAgICBpZiAoaXNDb2xsaWRlUDIoYywgYikpIHtcbiAgICAgICAgICAkKCcjcDJDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiArdmFsKzE7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBwMnNjb3JlLnB1c2goJ2JhbGwnKTtcbiAgICAgICAgICBpZighbXV0ZSlhdWRpby5wbGF5KCk7XG5cbiAgICAgICAgfVxuICAgICAgfSk7XG5cblxuLy8gUE9TSVRJT04gT0YgR1JFRU4gRE9UU1xuICAgICAgJCgnLmJpZ0JhbGwnKS5lYWNoKChpbmRleCwgYmlnYmFsbCkgPT4ge1xuICAgICAgICBjb25zdCBiaWcgPSB7XG4gICAgICAgICAgeDogJChiaWdiYWxsKS5wb3NpdGlvbigpLmxlZnQsXG4gICAgICAgICAgeTogJChiaWdiYWxsKS5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICB3aWR0aDogJChiaWdiYWxsKS53aWR0aCgpLFxuICAgICAgICAgIGhlaWdodDogJChiaWdiYWxsKS5oZWlnaHQoKVxuICAgICAgICB9O1xuLy8gV0hBVCBUTyBETyBJRiBQMSBISVRTIEdSRUVOIERPVFxuICAgICAgICBpZiAoaXNCaWdDb2xsaWRlUDEoYSwgYmlnKSkge1xuICAgICAgICAgICQoJyNwMUNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuICt2YWwrMjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkKGJpZ2JhbGwpLnJlbW92ZSgpO1xuICAgICAgICAgIHAxc2NvcmUucHVzaCgnYmFsbCcsICdiYWxsMicpO1xuICAgICAgICAgIGlmKCFtdXRlKWF1ZGlvQmlnLnBsYXkoKTtcbiAgICAgICAgfVxuLy8gV0hBVCBUTyBETyBJRiBQMiBISVRTIEdSRUVOIERPVFxuICAgICAgICBpZiAoaXNCaWdDb2xsaWRlUDIoYywgYmlnKSkge1xuICAgICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuICt2YWwrMjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkKGJpZ2JhbGwpLnJlbW92ZSgpO1xuICAgICAgICAgIHAyc2NvcmUucHVzaCgnYmFsbCcsICdiYWxsMicpO1xuICAgICAgICAgIGlmKCFtdXRlKWF1ZGlvQmlnLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cblxuLy8gUE9TSVRJT04gT0YgR09MRCBET1RTXG4gICAgICAkKCcuZ29sZGVuYmFsbCcpLmVhY2goKGluZGV4LCBnb2xkZW5iYWxsKSA9PiB7XG4gICAgICAgIGNvbnN0IGdvbGQgPSB7XG4gICAgICAgICAgeDogJChnb2xkZW5iYWxsKS5wb3NpdGlvbigpLmxlZnQsXG4gICAgICAgICAgeTogJChnb2xkZW5iYWxsKS5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICB3aWR0aDogJChnb2xkZW5iYWxsKS53aWR0aCgpLFxuICAgICAgICAgIGhlaWdodDogJChnb2xkZW5iYWxsKS5oZWlnaHQoKVxuICAgICAgICB9O1xuLy8gV0hBVCBUTyBETyBJRiBQMSBISVRTIEdPTEQgRE9UXG4gICAgICAgIGlmIChpc0dvbGRDb2xsaWRlUDEoYSwgZ29sZCkpIHtcbiAgICAgICAgICAkKCcjcDFDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiArdmFsKzEwO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICQoZ29sZGVuYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgICAgcDFzY29yZS5wdXNoKCdiYWxsJywgJ2JhbGwyJywgJ2JhbGwzJywgJ2JhbGw0JywgJ2JhbGw1JywgJ2JhbGw2JywgJ2JhbGw3JywgJ2JhbGw4JywgJ2JhbGw5JywgJ2JhbGwxMCcpO1xuICAgICAgICAgIGlmKCFtdXRlKWF1ZGlvR29sZC5wbGF5KCk7XG4gICAgICAgIH1cbi8vIFdIQVQgVE8gRE8gSUYgUDIgSElUUyBHT0xEIERPVFxuICAgICAgICBpZiAoaXNHb2xkQ29sbGlkZVAyKGMsIGdvbGQpKSB7XG4gICAgICAgICAgJCgnI3AyQ291bnRlcicpLmh0bWwoZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gK3ZhbCsxMDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkKGdvbGRlbmJhbGwpLnJlbW92ZSgpO1xuICAgICAgICAgIHAyc2NvcmUucHVzaCgnYmFsbCcsICdiYWxsMicsICdiYWxsMycsICdiYWxsNCcsICdiYWxsNScsICdiYWxsNicsICdiYWxsNycsICdiYWxsOCcsICdiYWxsOScsICdiYWxsMTAnKTtcbiAgICAgICAgICBpZighbXV0ZSlhdWRpb0dvbGQucGxheSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuXG5cbi8vIE1PVkVNRU5UIEZVTkNUSU9OU1xuXG4vLyBQMSBNT1ZFTUVOVFxuYm94UDEuY3NzKHtcbiAgbGVmdDogZnVuY3Rpb24oaSx2KSB7XG4gICAgcmV0dXJuIG5ld0xvY2F0aW9uUDEodiwgNjUsIDY4KTtcbiAgfSxcbiAgdG9wOiBmdW5jdGlvbihpLHYpIHtcbiAgICByZXR1cm4gbmV3TG9jYXRpb25QMSh2LCA4NywgODMpO1xuICB9XG59KTtcbi8vIFAyIE1PVkVNRU5UXG4gICAgICBib3hQMi5jc3Moe1xuICAgICAgICBsZWZ0OiBmdW5jdGlvbihpLHYpIHtcbiAgICAgICAgICByZXR1cm4gbmV3TG9jYXRpb25QMih2LCAzNywgMzkpO1xuICAgICAgICB9LFxuICAgICAgICB0b3A6IGZ1bmN0aW9uKGksdikge1xuICAgICAgICAgIHJldHVybiBuZXdMb2NhdGlvblAyKHYsIDM4LCA0MCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG5cbi8vIFdIRU4gS0VZIElTIE5PVCBET1dOXG4gICAgJCh3aW5kb3cpLmtleXVwKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGRbZS53aGljaF0gPSBmYWxzZTtcbiAgICB9KTtcblxuLy8gQ0hFQ0sgRk9SIFdJTk5FUlxuICAgIGZ1bmN0aW9uIGNoZWNrV2lubmVyKCkge1xuICAgICAgaWYgKHAxc2NvcmUubGVuZ3RoID4gcDJzY29yZS5sZW5ndGgpe1xuICAgICAgICAkKCcuc2hvd1dpbm5lcicpLnRleHQoJ1BsYXllciBPbmUgV2lucycpO1xuICAgICAgfSBlbHNlIGlmIChwMXNjb3JlLmxlbmd0aCA8IHAyc2NvcmUubGVuZ3RoKSB7XG4gICAgICAgICQoJy5zaG93V2lubmVyJykudGV4dCgnUGxheWVyIFR3byBXaW5zJyk7XG4gICAgICB9IGVsc2UgJCgnLnNob3dXaW5uZXInKS50ZXh0KCdJdFxcJ3MgYSBkcmF3Jyk7XG4gICAgfVxuXG4vLyBHQU1FIFRJTUVSIEFORCBFTkRcbiAgICBsZXQgdGltZUxlZnQgPSAoZ2FtZVRpbWUgLyAxMDAwKTtcbiAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50RG93blRpbWVyJyk7XG4gICAgY29uc3QgdGltZXJJZCA9IHNldEludGVydmFsKGNvdW50ZG93biwgMTAwMCk7XG4gICAgZnVuY3Rpb24gY291bnRkb3duKCkge1xuICAgICAgZWxlbS5pbm5lckhUTUwgPSB0aW1lTGVmdCArICcgc2Vjb25kcyByZW1haW5pbmcnO1xuICAgICAgdGltZUxlZnQtLTtcbiAgICAgIGlmICh0aW1lTGVmdCA9PT0gMCkge1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcblxuICAgICAgICAkKCcuZ2FtZVNjcmVlbicpLnJlbW92ZSgpO1xuICAgICAgICAkKCcjZ2FtZU92ZXJEaXYnKS5yZW1vdmVDbGFzcygnbm9zaG93Jyk7XG5cbiAgICAgICAgY2hlY2tXaW5uZXIoKTtcbiAgICAgICAgaWYoIW11dGUpYXVkaW9lbmQucGxheSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4vLyBFTkRcbn0pO1xuIl19

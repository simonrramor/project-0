"use strict";$(function(){var t=$("#gameBoard"),e=$(".boxP1"),i=$(".boxP2"),n=t.width()-e.width(),o=t.height()-i.height(),a={},h=20,l=[],r=[],d=200,u=200,c=30,s=2,p=!1,g=$("audio")[0],f=$("audio")[1],m=$("audio")[2],x=$("audio")[3],y=$("audio")[4],w=$("audio")[5],v=6e4,b=!1;$("#popupBackground").hide(),function(){$("input[type=range]").eq(0).on("change",function(t){v=$(t.target).val(),console.log("gametime is now ",v),$(".value").text("Your game will last "+v/1e3+" seconds")})}(),$(".icon1").click(function(){!1===b?($("#popupBackground").fadeIn("fast","swing"),b=!0):!0===b&&($("#popupBackground").fadeOut("fast","swing"),b=!1)}),$(".icon1").each(function(){$(this).data("original",$(this).html())}).on("click",function(){$(this).toggleClass("clicked").html(function(t,e){var i=$(this).data("original");return e===i?'<i class="fa fa-times-circle" aria-hidden="true"></i>':i})}),$("#mute-button").each(function(){$(this).data("original",$(this).html())}).on("click",function(){$(this).toggleClass("clicked").html(function(t,e){var i=$(this).data("original");return e===i?'<i class="fa fa-volume-off" aria-hidden="true"></i>':i})}),$("#start").click(function(){function t(t,e,i){var l=parseInt(t,10)-(a[e]?h:0)+(a[i]?h:0);return 65===e?l<0?0:l>n?n:l:87===e?l<0?0:l>o?o:l:void 0}function b(t,e,i){var l=parseInt(t,10)-(a[e]?h:0)+(a[i]?h:0);return 37===e?l<0?0:l>n?n:l:38===e?l<0?0:l>o?o:l:void 0}function B(){for(var t=1;t<s;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),i=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="goldenball"></div>').css({left:e+"px",top:i+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++,p||y.play()}}function k(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function C(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function M(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function I(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function T(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function F(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function P(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function W(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function O(){l.length>r.length?$(".showWinner").text("Player One Wins"):l.length<r.length?$(".showWinner").text("Player Two Wins"):$(".showWinner").text("It's a draw")}function D(){q.innerHTML=S+" seconds remaining",0===--S&&(clearTimeout(A),$(".gameScreen").remove(),$("#gameOverDiv").removeClass("noshow"),O(),p||w.play())}console.log("start clicked"),$("#welcomePage").hide(),$(".gameScreen").removeAttr("id","hidden"),$("#mute-button").on("click",function(){p=!p}),function(){for(var t=1;t<d;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),i=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="ball"</div>').css({left:e+"px",top:i+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),function(){for(var t=1;t<c;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),i=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="bigBall"></div>').css({left:e+"px",top:i+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),function(){for(var t=1;t<u;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),i=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="badball"></div>').css({left:e+"px",top:i+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),setTimeout(function(){B()},Math.floor(Math.random()*(v-1e4))),$(window).keydown(function(n){a[n.which]=!0;var o={x:e.position().left,y:e.position().top,width:e.width(),height:e.height()},h={x:i.position().left,y:i.position().top,width:i.width(),height:i.height()};$(".badball").each(function(t,e){var i={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};M(o,i)&&($("#p1Counter").html(function(t,e){return e-1}),$(e).remove(),l.pop(),p||m.play()),I(h,i)&&($("#p2Counter").html(function(t,e){return e-1}),$(e).remove(),r.pop(),p||m.play())}),$(".ball").each(function(t,e){var i={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};k(o,i)&&($("#p1Counter").html(function(t,e){return+e+1}),$(e).remove(),l.push("ball"),p||g.play()),C(h,i)&&($("#p2Counter").html(function(t,e){return+e+1}),$(e).remove(),r.push("ball"),p||g.play())}),$(".bigBall").each(function(t,e){var i={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};T(o,i)&&($("#p1Counter").html(function(t,e){return+e+2}),$(e).remove(),l.push("ball","ball2"),p||f.play()),F(h,i)&&($("#p2Counter").html(function(t,e){return+e+2}),$(e).remove(),r.push("ball","ball2"),p||f.play())}),$(".goldenball").each(function(t,e){var i={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};P(o,i)&&($("#p1Counter").html(function(t,e){return+e+10}),$(e).remove(),l.push("ball","ball2","ball3","ball4","ball5","ball6","ball7","ball8","ball9","ball10"),p||x.play()),W(h,i)&&($("#p2Counter").html(function(t,e){return+e+10}),$(e).remove(),r.push("ball","ball2","ball3","ball4","ball5","ball6","ball7","ball8","ball9","ball10"),p||x.play())}),e.css({left:function(e,i){return t(i,65,68)},top:function(e,i){return t(i,87,83)}}),i.css({left:function(t,e){return b(e,37,39)},top:function(t,e){return b(e,38,40)}})}),$(window).keyup(function(t){a[t.which]=!1});var S=v/1e3,q=document.getElementById("countDownTimer"),A=setInterval(D,1e3)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2FtZUJvYXJkIiwiYm94UDEiLCJib3hQMiIsIndpZHRoIiwiaGVpZ2h0IiwiZCIsIngiLCJwMXNjb3JlIiwicDJzY29yZSIsIm51bU9mR29vZERvdHMiLCJudW1PZkJhZERvdHMiLCJudW1PZkJpZ0RvdHMiLCJtdXRlIiwiYXVkaW8iLCJhdWRpb0JpZyIsImF1ZGlvRXJyb3IiLCJhdWRpb0dvbGQiLCJnb2xkZW50ZXJzIiwiYXVkaW9lbmQiLCJoZWxwIiwiaGlkZSIsInJhbmdlU2xpZGVyIiwiZXEiLCJlIiwiZ2FtZVRpbWUiLCJ0YXJnZXQiLCJ2YWwiLCJjb25zb2xlIiwidGV4dCIsImNsaWNrIiwiZmFkZUluIiwiZmFkZU91dCIsImVhY2giLCJ0aGlzIiwiZGF0YSIsImh0bWwiLCJvbiIsInRvZ2dsZUNsYXNzIiwiXyIsIm9yZyIsImEiLCJuIiwiYiIsInBhcnNlSW50IiwidiIsIm5ld0xvY2F0aW9uUDIiLCJwb3N5IiwiY291bnQiLCIkbmV3R29sZERpdiIsInBvc3giLCJNYXRoIiwicmFuZG9tIiwidG9GaXhlZCIsInRvcCIsImFwcGVuZFRvIiwiY2xvbmUiLCJkZWxheSIsInBsYXkiLCJpc0NvbGxpZGVQMSIsInkiLCJpc0JhZENvbGxpZGVQMSIsInMiLCJpc0NvbGxpZGVQMiIsImMiLCJpc0JpZ0NvbGxpZGVQMiIsImlzR29sZENvbGxpZGVQMiIsIndoaWNoIiwicG9zaXRpb24iLCJiaWciLCJiYWRiYWxsIiwiaXNHb2xkQ29sbGlkZVAxIiwiZ29sZCIsImNoZWNrV2lubmVyIiwibGVuZ3RoIiwiY291bnRkb3duIiwiZWxlbSIsImlubmVySFRNTCIsInRpbWVMZWZ0IiwiY2xlYXJUaW1lb3V0IiwidGltZXJJZCIsInJlbW92ZSIsInJlbW92ZUNsYXNzIiwibG9nIiwicmVtb3ZlQXR0ciIsImNzcyIsIiRuZXdkaXYiLCIkbmV3QmlnZGl2IiwiJG5ld0JhZGRpdiIsInNldFRpbWVvdXQiLCJtYWtlR29sZERpdiIsImRpdnNpemUiLCJ3aW5kb3ciLCJsZWZ0IiwiaW5kZXgiLCJiYWxsIiwiaSIsImJpZ2JhbGwiLCJpc0JhZENvbGxpZGVQMiIsInB1c2giLCJnb2xkZW5iYWxsIiwibmV3TG9jYXRpb25QMSIsImlzQmlnQ29sbGlkZVAxIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImtleXVwIiwic2V0SW50ZXJ2YWwiXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBR0EsR0FBTUMsR0FBWUQsRUFBRSxjQUFkQyxFQUFBQSxFQUFZRCxVQUNYRSxFQUFVRixFQUFBLFVBQ1ZHLEVBQVVGLEVBQWpCRyxRQUFBRixFQUFBRSxRQUNPQSxFQUFRSCxFQUFVRyxTQUFVRixFQUFBRyxTQUM1QkEsS0FDQUMsRUFBUCxHQUNPQyxLQUNEQyxLQUNBQyxFQUFOLElBQ01DLEVBQWdCLElBQ2hCQyxFQUFlLEdBQ2ZDLEVBQU4sRUFFQUMsR0FBQSxFQUNJQSxFQUFPYixFQUFYLFNBQUEsR0FDTWMsRUFBVWQsRUFBQSxTQUFoQixHQUNNZSxFQUFhZixFQUFBLFNBQW5CLEdBQ01nQixFQUFhaEIsRUFBRSxTQUFGLEdBQ2JpQixFQUFjakIsRUFBQSxTQUFwQixHQUNNa0IsRUFBYWxCLEVBQUUsU0FBUyxHQUN4Qm1CLEVBQVduQixJQVdib0IsR0FBTyxDQUFYcEIsR0FBQSxvQkFBQXFCLE9BUm9CLFdBQXBCckIsRUFBTXNCLHFCQUFjQyxHQUFkRCxHQUFBQSxHQUFBQSxTQUF3QixTQUFBRSxHQUMxQkMsRUFBQXpCLEVBQUF3QixFQUFBRSxRQUFGQyxNQUNFRixRQUFBQSxJQUFXekIsbUJBQVh5QixHQUNBRyxFQUFBQSxVQUFZQyxLQUFBLHVCQUFaSixFQUFBLElBQUEsaUJBVUp6QixFQUFBLFVBQUE4QixNQUFBLFlBQ1lBLElBQVZWLEdBQ0FwQixFQUFJb0Isb0JBQWVXLE9BQUEsT0FBQSxTQUNqQi9CLEdBQUUsSUFDRixJQUFPb0IsSUFGVHBCLEVBQUEsb0JBR09nQyxRQUFrQixPQUFBLFNBQ3ZCaEMsR0FBRSxLQUtOQSxFQUFB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RUFBRTRGLFFBQVFhLE1BQU0sU0FBU2pGLEdBQ3ZCbEIsRUFBRWtCLEVBQUUyQyxRQUFTLEdBYWYsSUFBSVcsR0FBWXJELEVBQVcsSUFDckJtRCxFQUFPMkIsU0FBU0MsZUFBZSxrQkFDL0J4QixFQUFVMEIsWUFBWS9CLEVBQVciLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgoKSA9PiB7XG5cblxuICBjb25zdCBnYW1lQm9hcmQgPSAkKCcjZ2FtZUJvYXJkJyk7XG4gIGNvbnN0ICBib3hQMSA9ICQoJy5ib3hQMScpO1xuICBjb25zdCAgYm94UDIgPSAkKCcuYm94UDInKTtcbiAgY29uc3QgIHdpZHRoID0gZ2FtZUJvYXJkLndpZHRoKCkgLSBib3hQMS53aWR0aCgpO1xuICBjb25zdCAgaGVpZ2h0ID0gZ2FtZUJvYXJkLmhlaWdodCgpIC0gYm94UDIuaGVpZ2h0KCk7XG4gIGNvbnN0ICBkID0ge307XG4gIGNvbnN0ICB4ID0gMjAgO1xuICBjb25zdCBwMXNjb3JlID0gW107XG4gIGNvbnN0IHAyc2NvcmUgPSBbXTtcbiAgY29uc3QgbnVtT2ZHb29kRG90cyA9IDIwMDtcbiAgY29uc3QgbnVtT2ZCYWREb3RzID0gMjAwO1xuICBjb25zdCBudW1PZkJpZ0RvdHMgPSAzMDtcbiAgY29uc3QgbnVtT2ZHb2xkRG90cyA9IDI7XG4gIC8vIGNvbnN0IGdhbWVUaW1lID0gMzAwMDA7IC8vIGluIG1pbGlzZWNvbmRzXG4gIGxldCBtdXRlID0gZmFsc2U7XG4gIGNvbnN0IGF1ZGlvID0gJCgnYXVkaW8nKVswXTtcbiAgY29uc3QgYXVkaW9CaWcgPSAkKCdhdWRpbycpWzFdO1xuICBjb25zdCBhdWRpb0Vycm9yID0gJCgnYXVkaW8nKVsyXTtcbiAgY29uc3QgYXVkaW9Hb2xkID0gJCgnYXVkaW8nKVszXTtcbiAgY29uc3QgZ29sZGVudGVycyA9ICQoJ2F1ZGlvJylbNF07XG4gIGNvbnN0IGF1ZGlvZW5kID0gJCgnYXVkaW8nKVs1XTtcbiAgbGV0IGdhbWVUaW1lID0gNjAwMDA7XG5cbiAgY29uc3QgcmFuZ2VTbGlkZXIgPSBmdW5jdGlvbigpe1xuICAgICQoJ2lucHV0W3R5cGU9cmFuZ2VdJykuZXEoMCkub24oJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBnYW1lVGltZSA9ICQoZS50YXJnZXQpLnZhbCgpO1xuICAgICAgY29uc29sZS5sb2coJ2dhbWV0aW1lIGlzIG5vdyAnLCBnYW1lVGltZSk7XG4gICAgICAkKCcudmFsdWUnKS50ZXh0KCdZb3VyIGdhbWUgd2lsbCBsYXN0ICcgKyAoZ2FtZVRpbWUgLyAxMDAwKSArICcgc2Vjb25kcycpO1xuICAgIH0pO1xuICB9O1xuXG4gIGxldCBoZWxwID0gZmFsc2U7XG4gICQoJyNwb3B1cEJhY2tncm91bmQnKS5oaWRlKCk7XG5cbiAgcmFuZ2VTbGlkZXIoKTtcblxuICAvL2hlbHBcbiAgJCgnLmljb24xJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICBpZiAoaGVscCA9PT0gZmFsc2Upe1xuICAgICAgJCgnI3BvcHVwQmFja2dyb3VuZCcpLmZhZGVJbignZmFzdCcsICdzd2luZycpO1xuICAgICAgaGVscCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChoZWxwID09PSB0cnVlKXtcbiAgICAgICQoJyNwb3B1cEJhY2tncm91bmQnKS5mYWRlT3V0KCdmYXN0JywgJ3N3aW5nJyk7XG4gICAgICBoZWxwID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICAvLyBpbnN0cnVjdGlvbnMgYnV0dG9uIHRvZ2dsZVxuICAkKCcuaWNvbjEnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykuZGF0YSgnb3JpZ2luYWwnLCAkKHRoaXMpLmh0bWwoKSk7XG4gIH0pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2NsaWNrZWQnKS5odG1sKGZ1bmN0aW9uKF8sIGh0bWwpIHtcbiAgICAgIHZhciBvcmcgPSAkKHRoaXMpLmRhdGEoJ29yaWdpbmFsJyk7XG4gICAgICByZXR1cm4gaHRtbCA9PT0gb3JnID8gJzxpIGNsYXNzPVwiZmEgZmEtdGltZXMtY2lyY2xlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicgOiBvcmc7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vTXV0ZSBidXR0b24gdG9nZ2xlXG4gICQoJyNtdXRlLWJ1dHRvbicpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS5kYXRhKCdvcmlnaW5hbCcsICQodGhpcykuaHRtbCgpKTtcbiAgfSkub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnY2xpY2tlZCcpLmh0bWwoZnVuY3Rpb24oXywgaHRtbCkge1xuICAgICAgdmFyIG9yZyA9ICQodGhpcykuZGF0YSgnb3JpZ2luYWwnKTtcbiAgICAgIHJldHVybiBodG1sID09PSBvcmcgPyAnPGkgY2xhc3M9XCJmYSBmYS12b2x1bWUtb2ZmXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicgOiBvcmc7XG4gICAgfSk7XG4gIH0pO1xuXG5cbiAgLy9TVEFSVFMgV0hPTEUgR0FNRSEhIVxuICAkKCcjc3RhcnQnKS5jbGljayhmdW5jdGlvbigpe1xuICAgIGNvbnNvbGUubG9nKCdzdGFydCBjbGlja2VkJyk7XG4gICAgJCggJyN3ZWxjb21lUGFnZScgKS5oaWRlKCk7XG4gICAgJCgnLmdhbWVTY3JlZW4nKS5yZW1vdmVBdHRyKCdpZCcsICdoaWRkZW4nKTtcblxuXG5cblxuICAgICQoJyNtdXRlLWJ1dHRvbicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIG11dGUgPSAhbXV0ZTtcbiAgICB9KTtcblxuICAgIC8vIHYgPSBvcmdpbmluYWwgdmFsdWUuXG4gICAgLy8gYSxiID0gZGlyZWN0aW9uXG4gICAgLy8gZCBpcyBvYmplY3QgaG9sZGluZyB0cnVlIG9yIGZhc2UgYWJvdXQga2V5IHByZXNzXG4gICAgLy8gcGFyc2VJbnQgdHVybnMgcHggaW50byBJbnQgaXNpbmcgMTAgb3Igc29tZXRoaW5nIHJhZGl4IHN0dWZmXG4gICAgLy8gbiA9IGNoZWNrIGZvciB2YWxpZCBtb3ZlbWVudFxuICAgIC8vIHggPSBwaXhhbCBqdW1wXG5cbiAgICBmdW5jdGlvbiBuZXdMb2NhdGlvblAxKHYsYSxiKSB7XG4gICAgICBjb25zdCBuID0gcGFyc2VJbnQodiwgMTApIC0gKGRbYV0gPyB4IDogMCkgKyAoZFtiXSA/IHggOiAwKTtcbiAgICAgIGlmIChhID09PSA2NSkgcmV0dXJuICAgbiA8IDAgPyAwIDogbiA+IHdpZHRoID8gd2lkdGggOiBuO1xuICAgICAgaWYgKGEgPT09IDg3KSByZXR1cm4gbiA8IDAgPyAwIDogbiA+IGhlaWdodCA/IGhlaWdodCA6IG47XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5ld0xvY2F0aW9uUDIodixhLGIpIHtcbiAgICAgIGNvbnN0IG4gPSBwYXJzZUludCh2LCAxMCkgLSAoZFthXSA/IHggOiAwKSArIChkW2JdID8geCA6IDApO1xuICAgICAgaWYgKGEgPT09IDM3KSByZXR1cm4gbiA8IDAgPyAwIDogbiA+IHdpZHRoID8gd2lkdGggOiBuO1xuICAgICAgaWYgKGEgPT09IDM4KSByZXR1cm4gbiA8IDAgPyAwIDogbiA+IGhlaWdodCA/IGhlaWdodCA6IG47XG4gICAgfVxuXG4gICAgLy8gbWFrZXMgcmFuZG9tIGFtb3VudHMgb2YgZGl2IG9uIHRoZSBwYWdlXG4gICAgbWFrZURpdigpO1xuICAgIGZ1bmN0aW9uIG1ha2VEaXYoKSB7XG4gICAgICB2YXIgIGNvdW50ID0gMTtcbiAgICAgIHdoaWxlIChjb3VudCA8IG51bU9mR29vZERvdHMpe1xuICAgICAgICBjb25zdCBkaXZzaXplID0gMjA7XG4gICAgICAgIGNvbnN0IHBvc3ggPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykud2lkdGgoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICAgIHZhciBwb3N5ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLmhlaWdodCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgICAgY29uc3QgJG5ld2RpdiA9ICQoJzxkaXYgY2xhc3M9XCJiYWxsXCI8L2Rpdj4nKS5jc3Moe1xuICAgICAgICAgICdsZWZ0JzogcG9zeCArICdweCcsXG4gICAgICAgICAgJ3RvcCc6IHBvc3kgKyAncHgnXG4gICAgICAgIH0pO1xuICAgICAgICAkbmV3ZGl2LmFwcGVuZFRvKCcjZ2FtZUJvYXJkJykuY2xvbmUoKS5kZWxheSgyMDAwKS5mYWRlSW4oMTAwKTtcbiAgICAgICAgY291bnQgKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9hZGRzIGluIHRoZSBiaWcgZ3JlZW4gZG90c1xuICAgIG1ha2VCaWdEaXYoKTtcbiAgICBmdW5jdGlvbiBtYWtlQmlnRGl2KCkge1xuICAgICAgdmFyICBjb3VudCA9IDE7XG4gICAgICB3aGlsZSAoY291bnQgPCBudW1PZkJpZ0RvdHMpe1xuICAgICAgICBjb25zdCBkaXZzaXplID0gMjA7XG4gICAgICAgIGNvbnN0IHBvc3ggPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykud2lkdGgoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICAgIHZhciBwb3N5ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLmhlaWdodCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgICAgY29uc3QgJG5ld0JpZ2RpdiA9ICQoJzxkaXYgY2xhc3M9XCJiaWdCYWxsXCI+PC9kaXY+JykuY3NzKHtcbiAgICAgICAgICAnbGVmdCc6IHBvc3ggKyAncHgnLFxuICAgICAgICAgICd0b3AnOiBwb3N5ICsgJ3B4J1xuICAgICAgICB9KTtcbiAgICAgICAgJG5ld0JpZ2Rpdi5hcHBlbmRUbygnI2dhbWVCb2FyZCcpLmNsb25lKCkuZGVsYXkoMjAwMCkuZmFkZUluKDEwMCk7XG4gICAgICAgIGNvdW50ICsrO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBhZGRzIGluIHRoZSBiYWQgcmVkIGRvdHRzXG4gICAgbWFrZUJhZERpdigpO1xuICAgIGZ1bmN0aW9uIG1ha2VCYWREaXYoKSB7XG4gICAgICB2YXIgIGNvdW50ID0gMTtcbiAgICAgIHdoaWxlIChjb3VudCA8IG51bU9mQmFkRG90cyl7XG4gICAgICAgIGNvbnN0IGRpdnNpemUgPSAyMDtcbiAgICAgICAgY29uc3QgcG9zeCA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS53aWR0aCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgICAgdmFyIHBvc3kgPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykuaGVpZ2h0KCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgICBjb25zdCAkbmV3QmFkZGl2ID0gJCgnPGRpdiBjbGFzcz1cImJhZGJhbGxcIj48L2Rpdj4nKS5jc3Moe1xuICAgICAgICAgICdsZWZ0JzogcG9zeCArICdweCcsXG4gICAgICAgICAgJ3RvcCc6IHBvc3kgKyAncHgnXG4gICAgICAgIH0pO1xuICAgICAgICAkbmV3QmFkZGl2LmFwcGVuZFRvKCcjZ2FtZUJvYXJkJykuY2xvbmUoKS5kZWxheSgyMDAwKS5mYWRlSW4oMTAwKTtcbiAgICAgICAgY291bnQgKys7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG1ha2VHb2xkRGl2KCk7XG5cbiAgICB9LCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoZ2FtZVRpbWUgLSAxMDAwMCkpKTtcblxuICAgIGZ1bmN0aW9uIG1ha2VHb2xkRGl2KCkge1xuICAgICAgdmFyICBjb3VudCA9IDE7XG4gICAgICB3aGlsZSAoY291bnQgPCBudW1PZkdvbGREb3RzKXtcbiAgICAgICAgY29uc3QgZGl2c2l6ZSA9IDIwO1xuICAgICAgICBjb25zdCBwb3N4ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLndpZHRoKCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgICB2YXIgcG9zeSA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS5oZWlnaHQoKSAtIGRpdnNpemUpKS50b0ZpeGVkKCk7XG4gICAgICAgIGNvbnN0ICRuZXdHb2xkRGl2ID0gJCgnPGRpdiBjbGFzcz1cImdvbGRlbmJhbGxcIj48L2Rpdj4nKS5jc3Moe1xuICAgICAgICAgICdsZWZ0JzogcG9zeCArICdweCcsXG4gICAgICAgICAgJ3RvcCc6IHBvc3kgKyAncHgnXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgJG5ld0dvbGREaXYuYXBwZW5kVG8oJyNnYW1lQm9hcmQnKS5jbG9uZSgpLmRlbGF5KDIwMDApLmZhZGVJbigxMDApO1xuICAgICAgICBjb3VudCArKztcbiAgICAgICAgaWYoIW11dGUpZ29sZGVudGVycy5wbGF5KCk7XG5cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb2xsaWRlIGZ1bmN0aW9uIHRvIGNoZWNrIGZvciBjb2xsaXNpb25cblxuICAgIC8vIGNoZWNrIGZvciBwMSArIGJsdWUgZG90c1xuICAgIGZ1bmN0aW9uIGlzQ29sbGlkZVAxKGEsIGIpIHtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICAoKGEueSArIGEuaGVpZ2h0KSA8IChiLnkpKSB8fFxuICAgICAgICAoYS55ID4gKGIueSArIGIuaGVpZ2h0KSkgfHxcbiAgICAgICAgKChhLnggKyBhLndpZHRoKSA8IGIueCkgfHxcbiAgICAgICAgKGEueCA+IChiLnggKyBiLndpZHRoKSlcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIGNoZWNrIGZvciBwMiArIGJsdWUgZG90c1xuICAgIGZ1bmN0aW9uIGlzQ29sbGlkZVAyKGMsIGIpIHtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICAoKGMueSArIGMuaGVpZ2h0KSA8IChiLnkpKSB8fFxuICAgICAgICAoYy55ID4gKGIueSArIGIuaGVpZ2h0KSkgfHxcbiAgICAgICAgKChjLnggKyBjLndpZHRoKSA8IGIueCkgfHxcbiAgICAgICAgKGMueCA+IChiLnggKyBiLndpZHRoKSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgZm9yIHAxICsgcmVkIGRvdHNcbiAgICBmdW5jdGlvbiBpc0JhZENvbGxpZGVQMShhLCBzKSB7XG4gICAgICByZXR1cm4gIShcbiAgICAgICAgKChhLnkgKyBhLmhlaWdodCkgPCAocy55KSkgfHxcbiAgICAgICAgKGEueSA+IChzLnkgKyBzLmhlaWdodCkpIHx8XG4gICAgICAgICgoYS54ICsgYS53aWR0aCkgPCBzLngpIHx8XG4gICAgICAgIChhLnggPiAocy54ICsgcy53aWR0aCkpXG4gICAgICApO1xuICAgIH1cbiAgICAvLyBjaGVjayBmb3IgcDIgKyByZWQgZG90c1xuICAgIGZ1bmN0aW9uIGlzQmFkQ29sbGlkZVAyKGMsIHMpIHtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICAoKGMueSArIGMuaGVpZ2h0KSA8IChzLnkpKSB8fFxuICAgICAgICAoYy55ID4gKHMueSArIHMuaGVpZ2h0KSkgfHxcbiAgICAgICAgKChjLnggKyBjLndpZHRoKSA8IHMueCkgfHxcbiAgICAgICAgKGMueCA+IChzLnggKyBzLndpZHRoKSlcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIGNoZWNrIGZvciBwMSArIGdyZWVuIGRvdHNcbiAgICBmdW5jdGlvbiBpc0JpZ0NvbGxpZGVQMShhLCBiaWcpIHtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICAoKGEueSArIGEuaGVpZ2h0KSA8IChiaWcueSkpIHx8XG4gICAgICAgIChhLnkgPiAoYmlnLnkgKyBiaWcuaGVpZ2h0KSkgfHxcbiAgICAgICAgKChhLnggKyBhLndpZHRoKSA8IGJpZy54KSB8fFxuICAgICAgICAoYS54ID4gKGJpZy54ICsgYmlnLndpZHRoKSlcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIGNoZWNrIGZvciBwMiArIGdyZWVuIGRvdHNcbiAgICBmdW5jdGlvbiBpc0JpZ0NvbGxpZGVQMihjLCBiaWcpIHtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICAoKGMueSArIGMuaGVpZ2h0KSA8IChiaWcueSkpIHx8XG4gICAgICAgIChjLnkgPiAoYmlnLnkgKyBiaWcuaGVpZ2h0KSkgfHxcbiAgICAgICAgKChjLnggKyBjLndpZHRoKSA8IGJpZy54KSB8fFxuICAgICAgICAoYy54ID4gKGJpZy54ICsgYmlnLndpZHRoKSlcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIGNoZWNrIGZvciBwMSArIGdyZWVuIGRvdHNcbiAgICBmdW5jdGlvbiBpc0dvbGRDb2xsaWRlUDEoYSwgZ29sZCkge1xuICAgICAgcmV0dXJuICEoXG4gICAgICAgICgoYS55ICsgYS5oZWlnaHQpIDwgKGdvbGQueSkpIHx8XG4gICAgICAgIChhLnkgPiAoZ29sZC55ICsgZ29sZC5oZWlnaHQpKSB8fFxuICAgICAgICAoKGEueCArIGEud2lkdGgpIDwgZ29sZC54KSB8fFxuICAgICAgICAoYS54ID4gKGdvbGQueCArIGdvbGQud2lkdGgpKVxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gY2hlY2sgZm9yIHAyICsgR09MRCBkb3RzXG4gICAgZnVuY3Rpb24gaXNHb2xkQ29sbGlkZVAyKGMsIGdvbGQpIHtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICAoKGMueSArIGMuaGVpZ2h0KSA8IChnb2xkLnkpKSB8fFxuICAgICAgICAoYy55ID4gKGdvbGQueSArIGdvbGQuaGVpZ2h0KSkgfHxcbiAgICAgICAgKChjLnggKyBjLndpZHRoKSA8IGdvbGQueCkgfHxcbiAgICAgICAgKGMueCA+IChnb2xkLnggKyBnb2xkLndpZHRoKSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy9tb3ZlbWVudCB1c2luZyBrZXlzXG4gICAgJCh3aW5kb3cpLmtleWRvd24oZnVuY3Rpb24oZSkge1xuICAgICAgZFtlLndoaWNoXSA9IHRydWU7XG5cbiAgICAgIGNvbnN0IGEgPSB7XG4gICAgICAgIHg6IGJveFAxLnBvc2l0aW9uKCkubGVmdCxcbiAgICAgICAgeTogYm94UDEucG9zaXRpb24oKS50b3AsXG4gICAgICAgIHdpZHRoOiBib3hQMS53aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6IGJveFAxLmhlaWdodCgpXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjID0ge1xuICAgICAgICB4OiBib3hQMi5wb3NpdGlvbigpLmxlZnQsXG4gICAgICAgIHk6IGJveFAyLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICB3aWR0aDogYm94UDIud2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBib3hQMi5oZWlnaHQoKVxuICAgICAgfTtcblxuXG4gICAgICAvL0NoZWNrIGZvciBiYWQgYmFsbCBjb25uZWN0XG4gICAgICAkKCcuYmFkYmFsbCcpLmVhY2goKGluZGV4LCBiYWRiYWxsKSA9PiB7XG4gICAgICAgIGNvbnN0IHMgPSB7XG4gICAgICAgICAgeDogJChiYWRiYWxsKS5wb3NpdGlvbigpLmxlZnQsXG4gICAgICAgICAgeTogJChiYWRiYWxsKS5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICB3aWR0aDogJChiYWRiYWxsKS53aWR0aCgpLFxuICAgICAgICAgIGhlaWdodDogJChiYWRiYWxsKS5oZWlnaHQoKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpc0JhZENvbGxpZGVQMShhLCBzKSkge1xuICAgICAgICAgICQoJyNwMUNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbC0xO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICQoYmFkYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgICAgcDFzY29yZS5wb3AoKTtcbiAgICAgICAgICBpZighbXV0ZSlhdWRpb0Vycm9yLnBsYXkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0JhZENvbGxpZGVQMihjLCBzKSkge1xuICAgICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbC0xO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICQoYmFkYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgICAgcDJzY29yZS5wb3AoKTtcbiAgICAgICAgICBpZighbXV0ZSlhdWRpb0Vycm9yLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vQ2hlY2sgZm9yIGJhbGwgY29ubmVjdFxuICAgICAgJCgnLmJhbGwnKS5lYWNoKChpbmRleCwgYmFsbCkgPT4ge1xuICAgICAgICBjb25zdCBiID0ge1xuICAgICAgICAgIHg6ICQoYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICAgIHk6ICQoYmFsbCkucG9zaXRpb24oKS50b3AsXG4gICAgICAgICAgd2lkdGg6ICQoYmFsbCkud2lkdGgoKSxcbiAgICAgICAgICBoZWlnaHQ6ICQoYmFsbCkuaGVpZ2h0KClcbiAgICAgICAgfTtcblxuXG5cbiAgICAgICAgaWYgKGlzQ29sbGlkZVAxKGEsIGIpKSB7XG4gICAgICAgICAgJCgnI3AxQ291bnRlcicpLmh0bWwoZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gK3ZhbCsxO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICQoYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgICAgcDFzY29yZS5wdXNoKCdiYWxsJyk7XG4gICAgICAgICAgaWYoIW11dGUpYXVkaW8ucGxheSgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNDb2xsaWRlUDIoYywgYikpIHtcbiAgICAgICAgICAkKCcjcDJDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiArdmFsKzE7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBwMnNjb3JlLnB1c2goJ2JhbGwnKTtcbiAgICAgICAgICBpZighbXV0ZSlhdWRpby5wbGF5KCk7XG5cbiAgICAgICAgfVxuICAgICAgfSk7XG5cblxuICAgICAgLy9DaGVjayBmb3IgYmlnIGJhbGwgY29ubmVjdFxuICAgICAgJCgnLmJpZ0JhbGwnKS5lYWNoKChpbmRleCwgYmlnYmFsbCkgPT4ge1xuICAgICAgICBjb25zdCBiaWcgPSB7XG4gICAgICAgICAgeDogJChiaWdiYWxsKS5wb3NpdGlvbigpLmxlZnQsXG4gICAgICAgICAgeTogJChiaWdiYWxsKS5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICB3aWR0aDogJChiaWdiYWxsKS53aWR0aCgpLFxuICAgICAgICAgIGhlaWdodDogJChiaWdiYWxsKS5oZWlnaHQoKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpc0JpZ0NvbGxpZGVQMShhLCBiaWcpKSB7XG4gICAgICAgICAgJCgnI3AxQ291bnRlcicpLmh0bWwoZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gK3ZhbCsyO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICQoYmlnYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgICAgcDFzY29yZS5wdXNoKCdiYWxsJywgJ2JhbGwyJyk7XG4gICAgICAgICAgaWYoIW11dGUpYXVkaW9CaWcucGxheSgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNCaWdDb2xsaWRlUDIoYywgYmlnKSkge1xuICAgICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuICt2YWwrMjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkKGJpZ2JhbGwpLnJlbW92ZSgpO1xuICAgICAgICAgIHAyc2NvcmUucHVzaCgnYmFsbCcsICdiYWxsMicpO1xuICAgICAgICAgIGlmKCFtdXRlKWF1ZGlvQmlnLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cblxuICAgICAgLy9DaGVjayBmb3IgR09MRCBiYWxsIGNvbm5lY3RcbiAgICAgICQoJy5nb2xkZW5iYWxsJykuZWFjaCgoaW5kZXgsIGdvbGRlbmJhbGwpID0+IHtcbiAgICAgICAgY29uc3QgZ29sZCA9IHtcbiAgICAgICAgICB4OiAkKGdvbGRlbmJhbGwpLnBvc2l0aW9uKCkubGVmdCxcbiAgICAgICAgICB5OiAkKGdvbGRlbmJhbGwpLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICAgIHdpZHRoOiAkKGdvbGRlbmJhbGwpLndpZHRoKCksXG4gICAgICAgICAgaGVpZ2h0OiAkKGdvbGRlbmJhbGwpLmhlaWdodCgpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGlzR29sZENvbGxpZGVQMShhLCBnb2xkKSkge1xuICAgICAgICAgICQoJyNwMUNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuICt2YWwrMTA7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChnb2xkZW5iYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBwMXNjb3JlLnB1c2goJ2JhbGwnLCAnYmFsbDInLCAnYmFsbDMnLCAnYmFsbDQnLCAnYmFsbDUnLCAnYmFsbDYnLCAnYmFsbDcnLCAnYmFsbDgnLCAnYmFsbDknLCAnYmFsbDEwJyk7XG4gICAgICAgICAgaWYoIW11dGUpYXVkaW9Hb2xkLnBsYXkoKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzR29sZENvbGxpZGVQMihjLCBnb2xkKSkge1xuICAgICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuICt2YWwrMTA7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChnb2xkZW5iYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgICBwMnNjb3JlLnB1c2goJ2JhbGwnLCAnYmFsbDInLCAnYmFsbDMnLCAnYmFsbDQnLCAnYmFsbDUnLCAnYmFsbDYnLCAnYmFsbDcnLCAnYmFsbDgnLCAnYmFsbDknLCAnYmFsbDEwJyk7XG4gICAgICAgICAgaWYoIW11dGUpYXVkaW9Hb2xkLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cblxuXG4gICAgICAvLyBib3ggbW92ZW1lbnQgY29udHJvbGxzXG4gICAgICBib3hQMS5jc3Moe1xuICAgICAgICBsZWZ0OiBmdW5jdGlvbihpLHYpIHtcbiAgICAgICAgICByZXR1cm4gbmV3TG9jYXRpb25QMSh2LCA2NSwgNjgpO1xuICAgICAgICB9LFxuICAgICAgICB0b3A6IGZ1bmN0aW9uKGksdikge1xuICAgICAgICAgIHJldHVybiBuZXdMb2NhdGlvblAxKHYsIDg3LCA4Myk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYm94UDIuY3NzKHtcbiAgICAgICAgbGVmdDogZnVuY3Rpb24oaSx2KSB7XG4gICAgICAgICAgcmV0dXJuIG5ld0xvY2F0aW9uUDIodiwgMzcsIDM5KTtcbiAgICAgICAgfSxcbiAgICAgICAgdG9wOiBmdW5jdGlvbihpLHYpIHtcbiAgICAgICAgICByZXR1cm4gbmV3TG9jYXRpb25QMih2LCAzOCwgNDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuXG5cbiAgICAkKHdpbmRvdykua2V5dXAoZnVuY3Rpb24oZSkge1xuICAgICAgZFtlLndoaWNoXSA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy9jaGVja2luZyBmb3Igd2lubm5lciBmdW5jdGlvblxuICAgIGZ1bmN0aW9uIGNoZWNrV2lubmVyKCkge1xuICAgICAgaWYgKHAxc2NvcmUubGVuZ3RoID4gcDJzY29yZS5sZW5ndGgpe1xuICAgICAgICAkKCcuc2hvd1dpbm5lcicpLnRleHQoJ1BsYXllciBPbmUgV2lucycpO1xuICAgICAgfSBlbHNlIGlmIChwMXNjb3JlLmxlbmd0aCA8IHAyc2NvcmUubGVuZ3RoKSB7XG4gICAgICAgICQoJy5zaG93V2lubmVyJykudGV4dCgnUGxheWVyIFR3byBXaW5zJyk7XG4gICAgICB9IGVsc2UgJCgnLnNob3dXaW5uZXInKS50ZXh0KCdJdFxcJ3MgYSBkcmF3Jyk7XG4gICAgfVxuXG5cbiAgICBsZXQgdGltZUxlZnQgPSAoZ2FtZVRpbWUgLyAxMDAwKTtcbiAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50RG93blRpbWVyJyk7XG4gICAgY29uc3QgdGltZXJJZCA9IHNldEludGVydmFsKGNvdW50ZG93biwgMTAwMCk7XG4gICAgZnVuY3Rpb24gY291bnRkb3duKCkge1xuICAgICAgZWxlbS5pbm5lckhUTUwgPSB0aW1lTGVmdCArICcgc2Vjb25kcyByZW1haW5pbmcnO1xuICAgICAgdGltZUxlZnQtLTtcbiAgICAgIGlmICh0aW1lTGVmdCA9PT0gMCkge1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcblxuICAgICAgICAkKCcuZ2FtZVNjcmVlbicpLnJlbW92ZSgpO1xuICAgICAgICAkKCcjZ2FtZU92ZXJEaXYnKS5yZW1vdmVDbGFzcygnbm9zaG93Jyk7XG5cbiAgICAgICAgY2hlY2tXaW5uZXIoKTtcbiAgICAgICAgaWYoIW11dGUpYXVkaW9lbmQucGxheSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cblxufSk7XG4iXX0=

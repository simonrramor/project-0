"use strict";$(function(){function t(t,e,n){var i=parseInt(t,10)-(m[e]?w:0)+(m[n]?w:0);return 65===e?i<0?0:i>s?s:i:87===e?i<0?0:i>y?y:i:void 0}function e(t,e,n){var i=parseInt(t,10)-(m[e]?w:0)+(m[n]?w:0);return 37===e?i<0?0:i>s?s:i:38===e?i<0?0:i>y?y:i:void 0}function n(){for(var t=1;t<I;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),n=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="goldenball"></div>').css({left:e+"px",top:n+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++,F.play()}}function i(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function o(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function a(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function h(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function l(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function r(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function d(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function u(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function c(){v.length>b.length?$(".showWinner").text("Player One Wins"):v.length<b.length?$(".showWinner").text("Player Two Wins"):$(".showWinner").text("It's a draw")}function p(){0===P?(clearTimeout(W),$(".gameScreen").remove(),$("#gameOverDiv").removeClass("noshow"),c()):(k.innerHTML=P+" seconds remaining",P--)}var g=$("#gameBoard"),f=$(".boxP1"),x=$(".boxP2"),s=g.width()-f.width(),y=g.height()-x.height(),m={},w=20,v=[],b=[],B=200,M=200,C=30,I=2,T=!1;$("#mute-button").on("click",function(){T=!T}),function(){for(var t=1;t<B;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),n=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="ball "></div>').css({left:e+"px",top:n+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),function(){for(var t=1;t<C;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),n=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="bigBall"></div>').css({left:e+"px",top:n+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}(),function(){for(var t=1;t<M;){var e=(Math.random()*($("#gameBoard").width()-20)).toFixed(),n=(Math.random()*($("#gameBoard").height()-20)).toFixed();$('<div class="badball"></div>').css({left:e+"px",top:n+"px"}).appendTo("#gameBoard").clone().delay(2e3).fadeIn(100),t++}}();var F=$("audio")[4];setTimeout(function(){n()},Math.floor(1e4*Math.random())),$(window).keydown(function(n){m[n.which]=!0;var c={x:f.position().left,y:f.position().top,width:f.width(),height:f.height()},p={x:x.position().left,y:x.position().top,width:x.width(),height:x.height()},g=$("audio")[2];$(".badball").each(function(t,e){var n={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};a(c,n)&&($("#p1Counter").html(function(t,e){return e-1}),$(e).remove(),v.pop(),T||g.play()),h(p,n)&&($("#p2Counter").html(function(t,e){return e-1}),$(e).remove(),b.pop(),T||g.play())}),$(".ball").each(function(t,e){var n={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()},a=$("audio")[0];i(c,n)&&($("#p1Counter").html(function(t,e){return+e+1}),$(e).remove(),v.push("ball"),T||a.play()),o(p,n)&&($("#p2Counter").html(function(t,e){return+e+1}),$(e).remove(),b.push("ball"),T||a.play())});var s=$("audio")[1];$(".bigBall").each(function(t,e){var n={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};l(c,n)&&($("#p1Counter").html(function(t,e){return+e+2}),$(e).remove(),v.push("ball","ball2"),T||s.play()),r(p,n)&&($("#p2Counter").html(function(t,e){return+e+2}),$(e).remove(),b.push("ball","ball2"),T||s.play())});var y=$("audio")[3];$(".goldenball").each(function(t,e){var n={x:$(e).position().left,y:$(e).position().top,width:$(e).width(),height:$(e).height()};d(c,n)&&($("#p1Counter").html(function(t,e){return+e+10}),$(e).remove(),v.push("ball","ball2","ball3","ball4","ball5","ball6","ball7","ball8","ball9","ball10"),T||y.play()),u(p,n)&&($("#p2Counter").html(function(t,e){return+e+10}),$(e).remove(),b.push("ball","ball2","ball3","ball4","ball5","ball6","ball7","ball8","ball9","ball10"),T||y.play())}),f.css({left:function(e,n){return t(n,65,68)},top:function(e,n){return t(n,87,83)}}),x.css({left:function(t,n){return e(n,37,39)},top:function(t,n){return e(n,38,40)}})}),$(window).keyup(function(t){m[t.which]=!1});var P=20,k=document.getElementById("countDownTimer"),W=setInterval(p,1e3);$("#mute-button").on("click",function(){$("audio").each(function(){console.log("paused"),$(this).volume=0})}),$("#mute").click(function(){!1===k.muted?mutePage():unMutePage()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwibmV3TG9jYXRpb25QMSIsInYiLCJhIiwiYiIsIm4iLCJwYXJzZUludCIsImQiLCJ4Iiwid2lkdGgiLCJoZWlnaHQiLCJuZXdMb2NhdGlvblAyIiwibWFrZUdvbGREaXYiLCJjb3VudCIsIm51bU9mR29sZERvdHMiLCJkaXZzaXplIiwiTWF0aCIsInJhbmRvbSIsInRvRml4ZWQiLCJwb3N4IiwibGVmdCIsIiRuZXdHb2xkRGl2IiwidG9wIiwicG9zeSIsImFwcGVuZFRvIiwiY2xvbmUiLCJkZWxheSIsImZhZGVJbiIsImdvbGRlbnRlcnMiLCJwbGF5IiwiaXNDb2xsaWRlUDEiLCJ5IiwiaXNDb2xsaWRlUDIiLCJjIiwiaXNCYWRDb2xsaWRlUDIiLCJpc0JhZENvbGxpZGVQMSIsInMiLCJpc0dvbGRDb2xsaWRlUDEiLCJpc0dvbGRDb2xsaWRlUDIiLCJ3aW5kb3ciLCJrZXlkb3duIiwiYm94UDEiLCJiaWciLCJhdWRpb0Vycm9yIiwicG9zaXRpb24iLCJnb2xkIiwiYmFkYmFsbCIsInAxc2NvcmUiLCJtdXRlIiwiY2hlY2tXaW5uZXIiLCJsZW5ndGgiLCJwMnNjb3JlIiwidGV4dCIsInVuTXV0ZVBhZ2UiLCJ0aW1lTGVmdCIsImNsZWFyVGltZW91dCIsInRpbWVySWQiLCJyZW1vdmUiLCJyZW1vdmVDbGFzcyIsImVsZW0iLCJpbm5lckhUTUwiLCJnYW1lQm9hcmQiLCJib3hQMiIsIm51bU9mR29vZERvdHMiLCJudW1PZkJhZERvdHMiLCJvbiIsIm1ha2VEaXYiLCJjc3MiLCIkbmV3ZGl2IiwibWFrZUJpZ0RpdiIsIm51bU9mQmlnRG90cyIsIiRuZXdCaWdkaXYiLCJtYWtlQmFkRGl2IiwiJG5ld0JhZGRpdiIsInNldFRpbWVvdXQiLCJlIiwid2hpY2giLCJlYWNoIiwiYmFsbCIsImF1ZGlvIiwiaW5kZXgiLCJodG1sIiwiaSIsInZhbCIsInB1c2giLCJwb3AiLCJiaWdiYWxsIiwiYXVkaW9CaWciLCJnb2xkZW5iYWxsIiwiYXVkaW9Hb2xkIiwia2V5dXAiLCJjb25zb2xlIiwidm9sdW1lIiwiZ2FtZVRpbWUiLCJtdXRlUGFnZSIsInNldEludGVydmFsIiwiY291bnRkb3duIiwibG9nIiwidGhpcyIsImNsaWNrIiwibXV0ZWQiXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBMkJBLFFBQUFDLEdBQUFDLEVBQUFDLEVBQUFDLEdBR0UsR0FBTUMsR0FBSUMsU0FBU0osRUFBRyxLQUFPSyxFQUFFSixHQUFLSyxFQUFJLElBQU1ELEVBQUVILEdBQUtJLEVBQUksRUFEM0QsT0FBU1AsTUFBVEUsRUFBQUUsRUFBMkJELEVBQUcsRUFBQUMsRUFBQUksRUFBQUEsRUFBQUosRUFDbEJDLEtBQUpELEVBQWdCQSxFQUFaLEVBQXFCRixFQUFGRSxFQUFBSyxFQUFtQk4sRUFBU0MsTUFBekQsR0FFQSxRQUFJRixHQUFpQkUsRUFBQUEsRUFBSUQsR0FDMUIsR0FBQUMsR0FBQUMsU0FBQUosRUFBQSxLQUFBSyxFQUFBSixHQUFBSyxFQUFBLElBQUFELEVBQUFILEdBQUFJLEVBQUEsRUFDRCxPQUFTRyxNQUFUUixFQUF1QkQsRUFBdkIsRUFBQSxFQUE4QkcsRUFBQUksRUFBQUEsRUFBQUosRUFDbEJDLEtBQUpELEVBQWdCQSxFQUFaLEVBQXFCRixFQUFGRSxFQUFBSyxFQUFtQk4sRUFBU0MsTUFBekQsR0E2REYsUUFBU08sS0FDUCxJQURGLEdBQUFDLEdBQVNELEVBQ0ZDLEVBQUxDLEdBQUEsQ0FDQSxHQUNRQyxJQUFVQyxLQUFoQkMsVUFBQWpCLEVBQUEsY0FBQVMsUUFEYUssS0FDYkksVUFDTUMsR0FBUUgsS0FBS0MsVUFBWWpCLEVBQUUsY0FBY1MsU0FGbENLLEtBRXNESSxTQUNsREQsR0FBQUEsa0NBQXVDRixLQUN4REssS0FBTUMsRUFBQUEsS0FDSkMsSUFBQUMsRUFBUUosT0FLRUssU0FBUyxjQUFjQyxRQUFRQyxNQUFNLEtBQU1DLE9BQU8sS0FDOURkLElBQ0FlLEVBQVdDLFFBU2IsUUFBT0MsR0FDS3BCLEVBQUFBLEdBS2IsUUFD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LFFBQUEsR0FhRSxJQUFBdEIsR0FBSXVDLEdBQ0ZDLEVBQUFBLFNBQUFBLGVBQUFBLGtCQURGdEMsRUFFT3VDLFlBQUFDLEVBQUEsSUF0Q1RoRyxHQUFFLGdCQUFnQmlFLEdBQUcsUUFBUyxXQUM1QmpFLEVBQUUsU0FBUzZFLEtBQUssV0FDZGMsUUFBUU0sSUFBSSxVQUNaakcsRUFBRWtHLE1BQU1OLE9BQVMsTUFnQ3JCNUYsRUFBRSxTQUFTbUcsTUFBTSxZQUNJLElBQWZ4QyxFQUFLeUMsTUFDUE4sV0FFQXpDIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuXG4gIGNvbnN0IGdhbWVCb2FyZCA9ICQoJyNnYW1lQm9hcmQnKTtcbiAgY29uc3QgIGJveFAxID0gJCgnLmJveFAxJyk7XG4gIGNvbnN0ICBib3hQMiA9ICQoJy5ib3hQMicpO1xuICBjb25zdCAgd2lkdGggPSBnYW1lQm9hcmQud2lkdGgoKSAtIGJveFAxLndpZHRoKCk7XG4gIGNvbnN0ICBoZWlnaHQgPSBnYW1lQm9hcmQuaGVpZ2h0KCkgLSBib3hQMi5oZWlnaHQoKTtcbiAgY29uc3QgIGQgPSB7fTtcbiAgY29uc3QgIHggPSAyMCA7XG4gIGNvbnN0IHAxc2NvcmUgPSBbXTtcbiAgY29uc3QgcDJzY29yZSA9IFtdO1xuICBjb25zdCBudW1PZkdvb2REb3RzID0gMjAwO1xuICBjb25zdCBudW1PZkJhZERvdHMgPSAyMDA7XG4gIGNvbnN0IG51bU9mQmlnRG90cyA9IDMwO1xuICBjb25zdCBudW1PZkdvbGREb3RzID0gMjtcbiAgY29uc3QgZ2FtZVRpbWUgPSAyMDAwMDsgLy8gaW4gbWlsaXNlY29uZHNcbiAgbGV0IG11dGUgPSBmYWxzZTtcblxuICAkKCcjbXV0ZS1idXR0b24nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgbXV0ZSA9ICFtdXRlO1xuICB9KTtcblxuICAvLyB2ID0gb3JnaW5pbmFsIHZhbHVlLlxuICAvLyBhLGIgPSBkaXJlY3Rpb25cbiAgLy8gZCBpcyBvYmplY3QgaG9sZGluZyB0cnVlIG9yIGZhc2UgYWJvdXQga2V5IHByZXNzXG4gIC8vIHBhcnNlSW50IHR1cm5zIHB4IGludG8gSW50IGlzaW5nIDEwIG9yIHNvbWV0aGluZyByYWRpeCBzdHVmZlxuICAvLyBuID0gY2hlY2sgZm9yIHZhbGlkIG1vdmVtZW50XG4gIC8vIHggPSBwaXhhbCBqdW1wXG5cbiAgZnVuY3Rpb24gbmV3TG9jYXRpb25QMSh2LGEsYikge1xuICAgIGNvbnN0IG4gPSBwYXJzZUludCh2LCAxMCkgLSAoZFthXSA/IHggOiAwKSArIChkW2JdID8geCA6IDApO1xuICAgIGlmIChhID09PSA2NSkgcmV0dXJuICAgbiA8IDAgPyAwIDogbiA+IHdpZHRoID8gd2lkdGggOiBuO1xuICAgIGlmIChhID09PSA4NykgcmV0dXJuIG4gPCAwID8gMCA6IG4gPiBoZWlnaHQgPyBoZWlnaHQgOiBuO1xuICB9XG4gIGZ1bmN0aW9uIG5ld0xvY2F0aW9uUDIodixhLGIpIHtcbiAgICBjb25zdCBuID0gcGFyc2VJbnQodiwgMTApIC0gKGRbYV0gPyB4IDogMCkgKyAoZFtiXSA/IHggOiAwKTtcbiAgICBpZiAoYSA9PT0gMzcpIHJldHVybiBuIDwgMCA/IDAgOiBuID4gd2lkdGggPyB3aWR0aCA6IG47XG4gICAgaWYgKGEgPT09IDM4KSByZXR1cm4gbiA8IDAgPyAwIDogbiA+IGhlaWdodCA/IGhlaWdodCA6IG47XG4gIH1cblxuICAvLyBtYWtlcyByYW5kb20gYW1vdW50cyBvZiBkaXYgb24gdGhlIHBhZ2VcbiAgbWFrZURpdigpO1xuICBmdW5jdGlvbiBtYWtlRGl2KCkge1xuICAgIHZhciAgY291bnQgPSAxO1xuICAgIHdoaWxlIChjb3VudCA8IG51bU9mR29vZERvdHMpe1xuICAgICAgY29uc3QgZGl2c2l6ZSA9IDIwO1xuICAgICAgY29uc3QgcG9zeCA9IChNYXRoLnJhbmRvbSgpICogKCQoJyNnYW1lQm9hcmQnKS53aWR0aCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgIHZhciBwb3N5ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLmhlaWdodCgpIC0gZGl2c2l6ZSkpLnRvRml4ZWQoKTtcbiAgICAgIGNvbnN0ICRuZXdkaXYgPSAkKCc8ZGl2IGNsYXNzPVwiYmFsbCAnICsgJ1wiPjwvZGl2PicpLmNzcyh7XG4gICAgICAgICdsZWZ0JzogcG9zeCArICdweCcsXG4gICAgICAgICd0b3AnOiBwb3N5ICsgJ3B4J1xuICAgICAgfSk7XG4gICAgICAkbmV3ZGl2LmFwcGVuZFRvKCcjZ2FtZUJvYXJkJykuY2xvbmUoKS5kZWxheSgyMDAwKS5mYWRlSW4oMTAwKTtcbiAgICAgIGNvdW50ICsrO1xuICAgIH1cbiAgfVxuXG4gIC8vYWRkcyBpbiB0aGUgYmlnIGdyZWVuIGRvdHNcbiAgbWFrZUJpZ0RpdigpO1xuICBmdW5jdGlvbiBtYWtlQmlnRGl2KCkge1xuICAgIHZhciAgY291bnQgPSAxO1xuICAgIHdoaWxlIChjb3VudCA8IG51bU9mQmlnRG90cyl7XG4gICAgICBjb25zdCBkaXZzaXplID0gMjA7XG4gICAgICBjb25zdCBwb3N4ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLndpZHRoKCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgdmFyIHBvc3kgPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykuaGVpZ2h0KCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgY29uc3QgJG5ld0JpZ2RpdiA9ICQoJzxkaXYgY2xhc3M9XCJiaWdCYWxsXCI+PC9kaXY+JykuY3NzKHtcbiAgICAgICAgJ2xlZnQnOiBwb3N4ICsgJ3B4JyxcbiAgICAgICAgJ3RvcCc6IHBvc3kgKyAncHgnXG4gICAgICB9KTtcbiAgICAgICRuZXdCaWdkaXYuYXBwZW5kVG8oJyNnYW1lQm9hcmQnKS5jbG9uZSgpLmRlbGF5KDIwMDApLmZhZGVJbigxMDApO1xuICAgICAgY291bnQgKys7XG4gICAgfVxuICB9XG4gIC8vIGFkZHMgaW4gdGhlIGJhZCByZWQgZG90dHNcbiAgbWFrZUJhZERpdigpO1xuICBmdW5jdGlvbiBtYWtlQmFkRGl2KCkge1xuICAgIHZhciAgY291bnQgPSAxO1xuICAgIHdoaWxlIChjb3VudCA8IG51bU9mQmFkRG90cyl7XG4gICAgICBjb25zdCBkaXZzaXplID0gMjA7XG4gICAgICBjb25zdCBwb3N4ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLndpZHRoKCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgdmFyIHBvc3kgPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykuaGVpZ2h0KCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgY29uc3QgJG5ld0JhZGRpdiA9ICQoJzxkaXYgY2xhc3M9XCJiYWRiYWxsXCI+PC9kaXY+JykuY3NzKHtcbiAgICAgICAgJ2xlZnQnOiBwb3N4ICsgJ3B4JyxcbiAgICAgICAgJ3RvcCc6IHBvc3kgKyAncHgnXG4gICAgICB9KTtcbiAgICAgICRuZXdCYWRkaXYuYXBwZW5kVG8oJyNnYW1lQm9hcmQnKS5jbG9uZSgpLmRlbGF5KDIwMDApLmZhZGVJbigxMDApO1xuICAgICAgY291bnQgKys7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ29sZGVudGVycyA9ICQoJ2F1ZGlvJylbNF07XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIG1ha2VHb2xkRGl2KCk7XG5cbiAgfSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGdhbWVUaW1lIC0gMTAwMDApKSk7XG5cbiAgZnVuY3Rpb24gbWFrZUdvbGREaXYoKSB7XG4gICAgdmFyICBjb3VudCA9IDE7XG4gICAgd2hpbGUgKGNvdW50IDwgbnVtT2ZHb2xkRG90cyl7XG4gICAgICBjb25zdCBkaXZzaXplID0gMjA7XG4gICAgICBjb25zdCBwb3N4ID0gKE1hdGgucmFuZG9tKCkgKiAoJCgnI2dhbWVCb2FyZCcpLndpZHRoKCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgdmFyIHBvc3kgPSAoTWF0aC5yYW5kb20oKSAqICgkKCcjZ2FtZUJvYXJkJykuaGVpZ2h0KCkgLSBkaXZzaXplKSkudG9GaXhlZCgpO1xuICAgICAgY29uc3QgJG5ld0dvbGREaXYgPSAkKCc8ZGl2IGNsYXNzPVwiZ29sZGVuYmFsbFwiPjwvZGl2PicpLmNzcyh7XG4gICAgICAgICdsZWZ0JzogcG9zeCArICdweCcsXG4gICAgICAgICd0b3AnOiBwb3N5ICsgJ3B4J1xuICAgICAgfSk7XG5cblxuICAgICAgJG5ld0dvbGREaXYuYXBwZW5kVG8oJyNnYW1lQm9hcmQnKS5jbG9uZSgpLmRlbGF5KDIwMDApLmZhZGVJbigxMDApO1xuICAgICAgY291bnQgKys7XG4gICAgICBnb2xkZW50ZXJzLnBsYXkoKTtcblxuICAgIH1cbiAgfVxuXG4gIC8vIGNvbGxpZGUgZnVuY3Rpb24gdG8gY2hlY2sgZm9yIGNvbGxpc2lvblxuXG4gIC8vIGNoZWNrIGZvciBwMSArIGJsdWUgZG90c1xuICBmdW5jdGlvbiBpc0NvbGxpZGVQMShhLCBiKSB7XG4gICAgcmV0dXJuICEoXG4gICAgICAoKGEueSArIGEuaGVpZ2h0KSA8IChiLnkpKSB8fFxuICAgICAgKGEueSA+IChiLnkgKyBiLmhlaWdodCkpIHx8XG4gICAgICAoKGEueCArIGEud2lkdGgpIDwgYi54KSB8fFxuICAgICAgKGEueCA+IChiLnggKyBiLndpZHRoKSlcbiAgICApO1xuICB9XG4gIC8vIGNoZWNrIGZvciBwMiArIGJsdWUgZG90c1xuICBmdW5jdGlvbiBpc0NvbGxpZGVQMihjLCBiKSB7XG4gICAgcmV0dXJuICEoXG4gICAgICAoKGMueSArIGMuaGVpZ2h0KSA8IChiLnkpKSB8fFxuICAgICAgKGMueSA+IChiLnkgKyBiLmhlaWdodCkpIHx8XG4gICAgICAoKGMueCArIGMud2lkdGgpIDwgYi54KSB8fFxuICAgICAgKGMueCA+IChiLnggKyBiLndpZHRoKSlcbiAgICApO1xuICB9XG5cbiAgLy8gY2hlY2sgZm9yIHAxICsgcmVkIGRvdHNcbiAgZnVuY3Rpb24gaXNCYWRDb2xsaWRlUDEoYSwgcykge1xuICAgIHJldHVybiAhKFxuICAgICAgKChhLnkgKyBhLmhlaWdodCkgPCAocy55KSkgfHxcbiAgICAgIChhLnkgPiAocy55ICsgcy5oZWlnaHQpKSB8fFxuICAgICAgKChhLnggKyBhLndpZHRoKSA8IHMueCkgfHxcbiAgICAgIChhLnggPiAocy54ICsgcy53aWR0aCkpXG4gICAgKTtcbiAgfVxuICAvLyBjaGVjayBmb3IgcDIgKyByZWQgZG90c1xuICBmdW5jdGlvbiBpc0JhZENvbGxpZGVQMihjLCBzKSB7XG4gICAgcmV0dXJuICEoXG4gICAgICAoKGMueSArIGMuaGVpZ2h0KSA8IChzLnkpKSB8fFxuICAgICAgKGMueSA+IChzLnkgKyBzLmhlaWdodCkpIHx8XG4gICAgICAoKGMueCArIGMud2lkdGgpIDwgcy54KSB8fFxuICAgICAgKGMueCA+IChzLnggKyBzLndpZHRoKSlcbiAgICApO1xuICB9XG4gIC8vIGNoZWNrIGZvciBwMSArIGdyZWVuIGRvdHNcbiAgZnVuY3Rpb24gaXNCaWdDb2xsaWRlUDEoYSwgYmlnKSB7XG4gICAgcmV0dXJuICEoXG4gICAgICAoKGEueSArIGEuaGVpZ2h0KSA8IChiaWcueSkpIHx8XG4gICAgICAoYS55ID4gKGJpZy55ICsgYmlnLmhlaWdodCkpIHx8XG4gICAgICAoKGEueCArIGEud2lkdGgpIDwgYmlnLngpIHx8XG4gICAgICAoYS54ID4gKGJpZy54ICsgYmlnLndpZHRoKSlcbiAgICApO1xuICB9XG4gIC8vIGNoZWNrIGZvciBwMiArIGdyZWVuIGRvdHNcbiAgZnVuY3Rpb24gaXNCaWdDb2xsaWRlUDIoYywgYmlnKSB7XG4gICAgcmV0dXJuICEoXG4gICAgICAoKGMueSArIGMuaGVpZ2h0KSA8IChiaWcueSkpIHx8XG4gICAgICAoYy55ID4gKGJpZy55ICsgYmlnLmhlaWdodCkpIHx8XG4gICAgICAoKGMueCArIGMud2lkdGgpIDwgYmlnLngpIHx8XG4gICAgICAoYy54ID4gKGJpZy54ICsgYmlnLndpZHRoKSlcbiAgICApO1xuICB9XG4gIC8vIGNoZWNrIGZvciBwMSArIGdyZWVuIGRvdHNcbiAgZnVuY3Rpb24gaXNHb2xkQ29sbGlkZVAxKGEsIGdvbGQpIHtcbiAgICByZXR1cm4gIShcbiAgICAgICgoYS55ICsgYS5oZWlnaHQpIDwgKGdvbGQueSkpIHx8XG4gICAgICAoYS55ID4gKGdvbGQueSArIGdvbGQuaGVpZ2h0KSkgfHxcbiAgICAgICgoYS54ICsgYS53aWR0aCkgPCBnb2xkLngpIHx8XG4gICAgICAoYS54ID4gKGdvbGQueCArIGdvbGQud2lkdGgpKVxuICAgICk7XG4gIH1cbiAgLy8gY2hlY2sgZm9yIHAyICsgR09MRCBkb3RzXG4gIGZ1bmN0aW9uIGlzR29sZENvbGxpZGVQMihjLCBnb2xkKSB7XG4gICAgcmV0dXJuICEoXG4gICAgICAoKGMueSArIGMuaGVpZ2h0KSA8IChnb2xkLnkpKSB8fFxuICAgICAgKGMueSA+IChnb2xkLnkgKyBnb2xkLmhlaWdodCkpIHx8XG4gICAgICAoKGMueCArIGMud2lkdGgpIDwgZ29sZC54KSB8fFxuICAgICAgKGMueCA+IChnb2xkLnggKyBnb2xkLndpZHRoKSlcbiAgICApO1xuICB9XG5cbiAgLy9tb3ZlbWVudCB1c2luZyBrZXlzXG4gICQod2luZG93KS5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgICBkW2Uud2hpY2hdID0gdHJ1ZTtcblxuICAgIGNvbnN0IGEgPSB7XG4gICAgICB4OiBib3hQMS5wb3NpdGlvbigpLmxlZnQsXG4gICAgICB5OiBib3hQMS5wb3NpdGlvbigpLnRvcCxcbiAgICAgIHdpZHRoOiBib3hQMS53aWR0aCgpLFxuICAgICAgaGVpZ2h0OiBib3hQMS5oZWlnaHQoKVxuICAgIH07XG5cbiAgICBjb25zdCBjID0ge1xuICAgICAgeDogYm94UDIucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgeTogYm94UDIucG9zaXRpb24oKS50b3AsXG4gICAgICB3aWR0aDogYm94UDIud2lkdGgoKSxcbiAgICAgIGhlaWdodDogYm94UDIuaGVpZ2h0KClcbiAgICB9O1xuXG4gICAgY29uc3QgYXVkaW9FcnJvciA9ICQoJ2F1ZGlvJylbMl07XG4gICAgLy9DaGVjayBmb3IgYmFkIGJhbGwgY29ubmVjdFxuICAgICQoJy5iYWRiYWxsJykuZWFjaCgoaW5kZXgsIGJhZGJhbGwpID0+IHtcbiAgICAgIGNvbnN0IHMgPSB7XG4gICAgICAgIHg6ICQoYmFkYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICB5OiAkKGJhZGJhbGwpLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICB3aWR0aDogJChiYWRiYWxsKS53aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6ICQoYmFkYmFsbCkuaGVpZ2h0KClcbiAgICAgIH07XG5cbiAgICAgIGlmIChpc0JhZENvbGxpZGVQMShhLCBzKSkge1xuICAgICAgICAkKCcjcDFDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICByZXR1cm4gdmFsLTE7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGJhZGJhbGwpLnJlbW92ZSgpO1xuICAgICAgICBwMXNjb3JlLnBvcCgpO1xuICAgICAgICBpZighbXV0ZSlhdWRpb0Vycm9yLnBsYXkoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQmFkQ29sbGlkZVAyKGMsIHMpKSB7XG4gICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgIHJldHVybiB2YWwtMTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoYmFkYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgIHAyc2NvcmUucG9wKCk7XG4gICAgICAgIGlmKCFtdXRlKWF1ZGlvRXJyb3IucGxheSgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vQ2hlY2sgZm9yIGJhbGwgY29ubmVjdFxuICAgICQoJy5iYWxsJykuZWFjaCgoaW5kZXgsIGJhbGwpID0+IHtcbiAgICAgIGNvbnN0IGIgPSB7XG4gICAgICAgIHg6ICQoYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICB5OiAkKGJhbGwpLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICB3aWR0aDogJChiYWxsKS53aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6ICQoYmFsbCkuaGVpZ2h0KClcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGF1ZGlvID0gJCgnYXVkaW8nKVswXTtcblxuICAgICAgaWYgKGlzQ29sbGlkZVAxKGEsIGIpKSB7XG4gICAgICAgICQoJyNwMUNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgIHJldHVybiArdmFsKzE7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGJhbGwpLnJlbW92ZSgpO1xuICAgICAgICBwMXNjb3JlLnB1c2goJ2JhbGwnKTtcbiAgICAgICAgaWYoIW11dGUpYXVkaW8ucGxheSgpO1xuXG4gICAgICB9XG5cbiAgICAgIGlmIChpc0NvbGxpZGVQMihjLCBiKSkge1xuICAgICAgICAkKCcjcDJDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICByZXR1cm4gK3ZhbCsxO1xuICAgICAgICB9KTtcbiAgICAgICAgJChiYWxsKS5yZW1vdmUoKTtcbiAgICAgICAgcDJzY29yZS5wdXNoKCdiYWxsJyk7XG4gICAgICAgIGlmKCFtdXRlKWF1ZGlvLnBsYXkoKTtcblxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgYXVkaW9CaWcgPSAkKCdhdWRpbycpWzFdO1xuICAgIC8vQ2hlY2sgZm9yIGJpZyBiYWxsIGNvbm5lY3RcbiAgICAkKCcuYmlnQmFsbCcpLmVhY2goKGluZGV4LCBiaWdiYWxsKSA9PiB7XG4gICAgICBjb25zdCBiaWcgPSB7XG4gICAgICAgIHg6ICQoYmlnYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICB5OiAkKGJpZ2JhbGwpLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICB3aWR0aDogJChiaWdiYWxsKS53aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6ICQoYmlnYmFsbCkuaGVpZ2h0KClcbiAgICAgIH07XG5cbiAgICAgIGlmIChpc0JpZ0NvbGxpZGVQMShhLCBiaWcpKSB7XG4gICAgICAgICQoJyNwMUNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgIHJldHVybiArdmFsKzI7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGJpZ2JhbGwpLnJlbW92ZSgpO1xuICAgICAgICBwMXNjb3JlLnB1c2goJ2JhbGwnLCAnYmFsbDInKTtcbiAgICAgICAgaWYoIW11dGUpYXVkaW9CaWcucGxheSgpO1xuXG4gICAgICB9XG5cbiAgICAgIGlmIChpc0JpZ0NvbGxpZGVQMihjLCBiaWcpKSB7XG4gICAgICAgICQoJyNwMkNvdW50ZXInKS5odG1sKGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgIHJldHVybiArdmFsKzI7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGJpZ2JhbGwpLnJlbW92ZSgpO1xuICAgICAgICBwMnNjb3JlLnB1c2goJ2JhbGwnLCAnYmFsbDInKTtcbiAgICAgICAgaWYoIW11dGUpYXVkaW9CaWcucGxheSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgYXVkaW9Hb2xkID0gJCgnYXVkaW8nKVszXTtcbiAgICAvL0NoZWNrIGZvciBHT0xEIGJhbGwgY29ubmVjdFxuICAgICQoJy5nb2xkZW5iYWxsJykuZWFjaCgoaW5kZXgsIGdvbGRlbmJhbGwpID0+IHtcbiAgICAgIGNvbnN0IGdvbGQgPSB7XG4gICAgICAgIHg6ICQoZ29sZGVuYmFsbCkucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICB5OiAkKGdvbGRlbmJhbGwpLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICB3aWR0aDogJChnb2xkZW5iYWxsKS53aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6ICQoZ29sZGVuYmFsbCkuaGVpZ2h0KClcbiAgICAgIH07XG5cbiAgICAgIGlmIChpc0dvbGRDb2xsaWRlUDEoYSwgZ29sZCkpIHtcbiAgICAgICAgJCgnI3AxQ291bnRlcicpLmh0bWwoZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgcmV0dXJuICt2YWwrMTA7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGdvbGRlbmJhbGwpLnJlbW92ZSgpO1xuICAgICAgICBwMXNjb3JlLnB1c2goJ2JhbGwnLCAnYmFsbDInLCAnYmFsbDMnLCAnYmFsbDQnLCAnYmFsbDUnLCAnYmFsbDYnLCAnYmFsbDcnLCAnYmFsbDgnLCAnYmFsbDknLCAnYmFsbDEwJyk7XG4gICAgICAgIGlmKCFtdXRlKWF1ZGlvR29sZC5wbGF5KCk7XG5cbiAgICAgIH1cblxuICAgICAgaWYgKGlzR29sZENvbGxpZGVQMihjLCBnb2xkKSkge1xuICAgICAgICAkKCcjcDJDb3VudGVyJykuaHRtbChmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICByZXR1cm4gK3ZhbCsxMDtcbiAgICAgICAgfSk7XG4gICAgICAgICQoZ29sZGVuYmFsbCkucmVtb3ZlKCk7XG4gICAgICAgIHAyc2NvcmUucHVzaCgnYmFsbCcsICdiYWxsMicsICdiYWxsMycsICdiYWxsNCcsICdiYWxsNScsICdiYWxsNicsICdiYWxsNycsICdiYWxsOCcsICdiYWxsOScsICdiYWxsMTAnKTtcbiAgICAgICAgaWYoIW11dGUpYXVkaW9Hb2xkLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuXG5cbiAgICAvLyBib3ggbW92ZW1lbnQgY29udHJvbGxzXG4gICAgYm94UDEuY3NzKHtcbiAgICAgIGxlZnQ6IGZ1bmN0aW9uKGksdikge1xuICAgICAgICByZXR1cm4gbmV3TG9jYXRpb25QMSh2LCA2NSwgNjgpO1xuICAgICAgfSxcbiAgICAgIHRvcDogZnVuY3Rpb24oaSx2KSB7XG4gICAgICAgIHJldHVybiBuZXdMb2NhdGlvblAxKHYsIDg3LCA4Myk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYm94UDIuY3NzKHtcbiAgICAgIGxlZnQ6IGZ1bmN0aW9uKGksdikge1xuICAgICAgICByZXR1cm4gbmV3TG9jYXRpb25QMih2LCAzNywgMzkpO1xuICAgICAgfSxcbiAgICAgIHRvcDogZnVuY3Rpb24oaSx2KSB7XG4gICAgICAgIHJldHVybiBuZXdMb2NhdGlvblAyKHYsIDM4LCA0MCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG5cblxuICAkKHdpbmRvdykua2V5dXAoZnVuY3Rpb24oZSkge1xuICAgIGRbZS53aGljaF0gPSBmYWxzZTtcbiAgfSk7XG5cbiAgLy9jaGVja2luZyBmb3Igd2lubm5lciBmdW5jdGlvblxuICBmdW5jdGlvbiBjaGVja1dpbm5lcigpIHtcbiAgICBpZiAocDFzY29yZS5sZW5ndGggPiBwMnNjb3JlLmxlbmd0aCl7XG4gICAgICAkKCcuc2hvd1dpbm5lcicpLnRleHQoJ1BsYXllciBPbmUgV2lucycpO1xuICAgIH0gZWxzZSBpZiAocDFzY29yZS5sZW5ndGggPCBwMnNjb3JlLmxlbmd0aCkge1xuICAgICAgJCgnLnNob3dXaW5uZXInKS50ZXh0KCdQbGF5ZXIgVHdvIFdpbnMnKTtcbiAgICB9IGVsc2UgJCgnLnNob3dXaW5uZXInKS50ZXh0KCdJdFxcJ3MgYSBkcmF3Jyk7XG4gIH1cblxuXG4gIGxldCB0aW1lTGVmdCA9IChnYW1lVGltZSAvIDEwMDApO1xuICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50RG93blRpbWVyJyk7XG4gIGNvbnN0IHRpbWVySWQgPSBzZXRJbnRlcnZhbChjb3VudGRvd24sIDEwMDApO1xuICBmdW5jdGlvbiBjb3VudGRvd24oKSB7XG4gICAgaWYgKHRpbWVMZWZ0ID09PSAwKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAkKCcuZ2FtZVNjcmVlbicpLnJlbW92ZSgpO1xuICAgICAgJCgnI2dhbWVPdmVyRGl2JykucmVtb3ZlQ2xhc3MoJ25vc2hvdycpO1xuICAgICAgY2hlY2tXaW5uZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5pbm5lckhUTUwgPSB0aW1lTGVmdCArICcgc2Vjb25kcyByZW1haW5pbmcnO1xuICAgICAgdGltZUxlZnQtLTtcbiAgICB9XG4gIH1cblxuXG4gICQoJyNtdXRlLWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgJCgnYXVkaW8nKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICBjb25zb2xlLmxvZygncGF1c2VkJylcbiAgICAgICQodGhpcykudm9sdW1lID0gMC4wO1xuICAgIH0pO1xuXG4gIH0pO1xuXG4gIC8vIC8vIE11dGUgYSBzaW5ndWxhciBIVE1MNSBlbGVtZW50XG4gIC8vIGZ1bmN0aW9uIG11dGVNZShlbGVtKSB7XG4gIC8vICAgZWxlbS5tdXRlZCA9IGZhbHNlO1xuICAvLyAgIGVsZW0ucGF1c2UoKTtcbiAgLy8gfVxuICAvL1xuICAvLyBmdW5jdGlvbiB1bk11dGVNZShlbGVtKSB7XG4gIC8vICAgZWxlbS5tdXRlZCA9IHRydWU7XG4gIC8vICAgZWxlbS5wbGF5KCk7XG4gIC8vIH1cbiAgLy9cbiAgLy8gLy8gVHJ5IHRvIG11dGUgYWxsIGF1ZGlvIGVsZW1lbnRzIG9uIHRoZSBwYWdlXG4gIC8vIGZ1bmN0aW9uIG11dGVQYWdlKCkge1xuICAvLyAgIGNvbnN0IGF1ZGlvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2F1ZGlvJyk7XG4gIC8vICAgW10uZm9yRWFjaC5jYWxsKGF1ZGlvcywgZnVuY3Rpb24oYXVkaW8pIHtcbiAgLy8gICAgIG11dGVNZShhdWRpbyk7XG4gIC8vICAgfSk7XG4gIC8vIH1cbiAgLy9cbiAgLy8gZnVuY3Rpb24gdW5NdXRlUGFnZSgpIHtcbiAgLy8gICBjb25zdCBhdWRpb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhdWRpbycpO1xuICAvLyAgIFtdLmZvckVhY2guY2FsbChhdWRpb3MsIGZ1bmN0aW9uKGF1ZGlvKSB7XG4gIC8vICAgICB1bk11dGVNZShhdWRpbyk7XG4gIC8vICAgfSk7XG4gIC8vIH1cblxuXG4gICQoJyNtdXRlJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgaWYgKGVsZW0ubXV0ZWQgPT09IGZhbHNlKXtcbiAgICAgIG11dGVQYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVuTXV0ZVBhZ2UoKTtcbiAgICB9XG4gIH0pO1xuXG5cbn0pO1xuIl19
